!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n){return(s=d()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=d();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("os0x"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],u=this.normalizeInstanceIdentifier(s[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return v}));var r=n("os0x");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return a().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function g(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",(function(){return gf}));var r=n("os0x"),i=n("zIRd"),o=n("q/0M"),s=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function v(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(){this.j=this.j,this.i=this.i}I.prototype.j=!1,I.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}(this)},I.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var C=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},A=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var P,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var j=f.navigator;if(j){var F=j.userAgent;if(F){P=F;break t}}P=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var B,z,H=R(P,"Opera"),G=R(P,"Trident")||R(P,"MSIE"),W=R(P,"Edge"),K=W||G,Q=R(P,"Gecko")&&!(R(P.toLowerCase(),"webkit")&&!R(P,"Edge"))&&!(R(P,"Trident")||R(P,"MSIE"))&&!R(P,"Edge"),Z=R(P.toLowerCase(),"webkit")&&!R(P,"Edge");function Y(){var t=f.document;return t?t.documentMode:void 0}t:{var J="",X=(z=P,Q?/rv:([^\);]+)(\)|;)/.exec(z):W?/Edge\/([\d\.]+)/.exec(z):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):Z?/WebKit\/(\S+)/.exec(z):H?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(X&&(J=X?X[1]:""),G){var $=Y();if(null!=$&&$>parseFloat(J)){B=String($);break t}}B=J}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(B)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=D(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||D(0==s[2].length,0==a[2].length)||D(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var nt=f.document&&G&&(Y()||parseInt(B,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),ot=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function st(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Q){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}st.prototype.b=function(){this.defaultPrevented=!0},S(at,st);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(sr){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=C(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function vt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=vt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ht(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var yt="closure_lm_"+(1e6*Math.random()|0),mt={};function gt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Ct(r),e&&e[ct]?e.wa(n,r,y(i)?!!i.capture:!!i,o):bt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);return null}return n=Ct(n),t&&t[ct]?t.va(e,n,y(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i;if(s&&!rt)return null;var a=St(t);if(a||(t[yt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Et,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ot||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=St(e))?(pt(n,t),0==n.b&&(n.src=null,e[yt]=null)):ft(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function kt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&wt(t),n.call(r,e)}function Et(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return kt(t,e=new at(e,this))}return kt(t,new at(e,this))}function St(t){return(t=t[yt])instanceof dt?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(t){return"function"==p(t)?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function At(){I.call(this),this.c=new dt(this),this.J=this,this.C=null}function Tt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&pt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}S(At,I),At.prototype[ct]=!0,(c=At.prototype).addEventListener=function(t,e,n,r){gt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=y(i)?!!i.capture:!!i,r=Ct(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=vt(s=e.a[n],r,i,o))&&(ft(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=St(e))&&(n=e.a[n.toString()],e=-1,n&&(e=vt(n,r,i,o)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new st(t,n);else if(t instanceof st)t.target=t.target||n;else{var i=t;U(t=new st(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Tt(s,r,!0,t)&&i}if(i=Tt(s=t.a=n,r,!0,t)&&i,i=Tt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tt(s=t.a=e[o],r,!1,t)&&i;return i},c.G=function(){if(At.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ot=f.JSON.stringify;function xt(){this.b=this.a=null}var Pt,Nt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Dt}),(function(t){t.reset()}),100);function Rt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function jt(t){f.setTimeout((function(){throw t}),0)}function Ft(t,e){Pt||function(){var t=f.Promise.resolve(void 0);Pt=function(){t.then(Mt)}}(),Lt||(Pt(),Lt=!0),Vt.add(t,e)}xt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Vt=new xt;function Mt(){for(var t;t=Rt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Nt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){At.call(this),this.b=t||1,this.a=e||f,this.f=_(this.Ya,this),this.g=E()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bt(t,e,n){if("function"==p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function zt(t){t.a=Bt((function(){t.a=null,t.c&&(t.c=!1,zt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}S(Ut,At),(c=Ut.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=E()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},c.G=function(){Ut.S.G.call(this),qt(this),delete this.a};var Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:zt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(I);function Gt(t){I.call(this),this.b=t,this.a={}}S(Gt,I);var Wt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=gt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&wt(t)}),t),t.a={}}function Zt(){this.a=!0}function Yt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ot(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.S.G.call(this),Qt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zt.prototype.info=function(){};var Jt=null;function Xt(){return Jt=Jt||new At}function $t(t){st.call(this,"serverreachability",t)}function te(t){var e=Xt();e.dispatchEvent(new $t(e,t))}function ee(t){st.call(this,"statevent",t)}function ne(t){var e=Xt();e.dispatchEvent(new ee(e,t))}function re(t){st.call(this,"timingevent",t)}function ie(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}S($t,st),S(ee,st),S(re,st);var oe={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},se={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){st.call(this,"d")}function fe(){st.call(this,"c")}function de(){}function pe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Gt(this),this.P=ve,this.R=new Ut(t=K?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}S(he,st),S(fe,st),S(de,ae),ce=new de;var ve=45e3,ye={},me={};function ge(t,e,n){t.H=1,t.i=Ue(De(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=E(),ke(t),t.l=De(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),$e(n.b,"t",r),t.D=0,t.a=Qn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ht(_(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Wa),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function we(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_e(t,n);if(i==me){4==e&&(t.h=4,ne(14),r=!1),Yt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ye){t.h=4,ne(15),Yt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Yt(t.c,t.f,i,null),Ae(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(e),e.F=!0)):(Yt(t.c,t.f,n,"[Invalid Chunked Response]"),Ce(t),Ie(t))}function _e(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?me:(n=Number(e.substring(n,r)),isNaN(n)?ye:(r+=1)+n>e.length?me:(e=e.substr(r,n),t.D=r+n,e))}function ke(t){t.U=E()+t.P,Ee(t,t.P)}function Ee(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(_(t.Ua,t),e)}function Se(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Ie(t){0==t.g.v||t.A||zn(t.g,t)}function Ce(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Qt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ae(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||an(n.b,t)))if(n.I=t.N,!t.C&&an(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bn(n),Pn(n)}Mn(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(_(n.Ra,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&Bn(n),!x(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Me(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=E()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Kn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Se(p),ke(p)),u.a=d}else Vn(u);0<n.g.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):xn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(y){}}function Te(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(v(t)||"string"==typeof t)A(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(v(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(v(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Oe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=pe.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==Cn(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=Cn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!K&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Se(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),Ce(this),Ie(this);break t}Yt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ae(this,u)}this.I?(we(this,e,o),K&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Va),this.R.start())):(Yt(this.c,this.f,o,null),Ae(this,o)),4==e&&Ce(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,ke(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),Ce(this),Ie(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=Cn(this.a),e=this.a.$();this.D<e.length&&(Se(this),we(this,t,e),this.b&&4!=t&&ke(this))}},c.cancel=function(){this.A=!0,Ce(this)},c.Ua=function(){this.o=null;var t=E();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),Ce(this),this.h=2,Ie(this)):Ee(this,this.U-t)},(c=Oe.prototype).K=function(){xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return xe(this),this.a.concat()},c.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},c.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Fe(this,t.c),Le(this,t.h),this.g=t.g,e=t.b;var n=new Ze;n.c=e.c,e.a&&(n.a=new Oe(e.a),n.b=e.b),Ve(this,n),this.i=t.i}else t&&(n=String(t).match(Ne))?(this.a=!!e,je(this,n[1]||"",!0),this.j=qe(n[2]||""),Fe(this,n[3]||"",!0),Le(this,n[4]),this.g=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Ze(null,this.a))}function De(t){return new Re(t)}function je(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.c=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ve(t,e,n){e instanceof Ze?(t.b=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),$e(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Be(e,Ke)),t.b=new Ze(e,t.a))}function Me(t,e,n){t.b.set(e,n)}function Ue(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?We:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Be(n,Qe)),t.join("")};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,We=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function Ze(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Oe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){Ye(t),e=tn(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&xe(t)))}function Xe(t,e){return Ye(t),e=tn(t,e),Pe(t.a.b,e)}function $e(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),O(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Ze.prototype).add=function(t,e){Ye(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){A(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){Ye(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.K=function(t){Ye(this);var e=[];if("string"==typeof t)Xe(this,t)&&(e=T(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},c.set=function(t,e){return Ye(this),this.c=null,Xe(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rn=10;function on(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function an(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return O(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var r=n||"";try{Te(t,(function(t,n){var i=t;y(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var vn=f.JSON.parse;function yn(t){At.call(this),this.headers=new Oe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}S(yn,At);var mn="",gn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kn(t),Sn(t)}function kn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function En(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=Cn(t)||2!=t.X()))if(t.l&&4==Cn(t))Bt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Cn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ne)[1]||null;if(!o&&f.self&&f.self.location){var s=f.self.location.protocol;o=s.substr(0,s.length-1)}i=!gn.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Cn(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",kn(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){In(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function In(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function Cn(t){return t.a?t.a.readyState:0}function An(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function Tn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function On(t){this.pa=0,this.g=[],this.c=new Zt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Tn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Tn("baseRetryDelayMs",5e3,t),this.Ma=Tn("retryDelaySeedMs",1e4,t),this.Ja=Tn("forwardChannelMaxRetries",2,t),this.ma=Tn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function xn(t){if(Nn(t),3==t.v){var e=t.R++,n=De(t.B);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),Fn(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Ue(De(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Qn(e.g,null),e.a.ba(e.i)),e.u=E(),ke(e)}Wn(t)}function Pn(t){t.a&&(Un(t),t.a.cancel(),t.a=null)}function Nn(t){Pn(t),t.j&&(f.clearTimeout(t.j),t.j=null),Bn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Dn(t)}function Dn(t){on(t.b)||t.h||(t.h=!0,Ft(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=De(t.B);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.P),Fn(t,r),t.i&&t.l&&An(r,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ln(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),ge(n,r,e)}function Fn(t,e){t.f&&Te({},(function(t,n){Me(e,n,t)}))}function Ln(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{dn(l,s,"req"+c+"_")}catch(Or){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vn(t){t.a||t.j||(t.U=1,Ft(t.Aa,t),t.o=0)}function Mn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ie(_(t.Aa,t),Hn(t,t.o)),t.o++,0))}function Un(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.H?"0":"1"),Me(e,"AID",t.P),Fn(t,e),Me(e,"TYPE","xmlhttp"),t.i&&t.l&&An(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ue(De(e)),n.j=null,n.I=!0,be(n,t)}function Bn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Bn(t),Un(t),t.a=null;var r=2}else{if(!an(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=E()-e.u;var i=t.u;(r=Xt()).dispatchEvent(new re(r,n,e,i)),Dn(t)}else Vn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ie(_(t.Ba,t,e),Hn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Hn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_(t.Xa,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||je(n,"https"),Ue(n)),function(t,e){var n=new Zt;if(f.Image){var r=new Image;r.onload=k(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=k(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=k(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=k(pn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),Wn(t),Nn(t)}function Wn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function Kn(t,e,n){var r=function(t){return t instanceof Re?De(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Fe(r,e+"."+r.c),Le(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&je(i,t),e&&Fe(i,e),n&&Le(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&L(t.W,(function(t,e){Me(r,e,t)})),n=t.na,(e=t.A)&&n&&Me(r,e,n),Me(r,"VER",t.ha),Fn(t,r),r}function Qn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yn(t.Ka)).F=t.C,e}function Zn(){}function Yn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Jn(t,e){At.call(this),this.a=new On(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tr(this)}function Xn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function $n(){fe.call(this),this.status=1}function tr(t){this.a=t}(c=yn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ce),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void _n(this,o)}t=n||"";var i=new Oe(this.headers);r&&Te(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=wn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=C(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{In(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){_n(this,o)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Sn(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),yn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?En(this):this.Ta())},c.Ta=function(){En(this)},c.X=function(){try{return 2<Cn(this)?this.a.status:-1}catch(z){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(z){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=On.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?U(r=V(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ln(this,n,e),Me(i=De(this.B),"RID",t),Me(i,"CVER",22),this.A&&Me(i,"X-HTTP-Session-Id",this.A),Fn(this,i),this.i&&r&&An(i,this.i,r),un(this.b,n),this.Ga&&Me(i,"TYPE","init"),this.da?(Me(i,"$req",e),Me(i,"SID","null"),n.V=!0,ge(n,i,null)):ge(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||on(this.b)||jn(this))},c.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(_(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Pn(this),qn(this))},c.Ra=function(){null!=this.m&&(this.m=null,Pn(this),Mn(this),ne(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(c=Zn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Yn.prototype.a=function(t,e){return new Jn(t,e)},S(Jn,At),(c=Jn.prototype).addEventListener=function(t,e,n,r){Jn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Jn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ne(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Kn(t,null,t.fa),Dn(t)},c.close=function(){xn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.g?((e={}).__data__=Ot(t),Rn(this.a,e)):Rn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,xn(this.a),delete this.a,Jn.S.G.call(this)},S(Xn,he),S($n,fe),S(tr,Zn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Xn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new $n(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Yn.prototype.createWebChannel=Yn.prototype.a,Jn.prototype.send=Jn.prototype.Pa,Jn.prototype.open=Jn.prototype.Oa,Jn.prototype.close=Jn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,se.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",At.prototype.listen=At.prototype.va,yn.prototype.listenOnce=yn.prototype.wa,yn.prototype.getLastError=yn.prototype.Qa,yn.prototype.getLastErrorCode=yn.prototype.ua,yn.prototype.getStatus=yn.prototype.X,yn.prototype.getResponseJson=yn.prototype.Na,yn.prototype.getResponseText=yn.prototype.$,yn.prototype.send=yn.prototype.ba;var er=oe,nr=se,rr=ue,ir=yn,or=n("/6Yf"),sr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ar=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),ur=new o.b("@firebase/firestore");function cr(){return ur.logLevel}function lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.DEBUG){var i=e.map(dr);ur.debug.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.ERROR){var i=e.map(dr);ur.error.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=o.a.WARN){var i=e.map(dr);ur.warn.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function dr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function pr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t;throw hr(e),new Error(e)}function vr(t,e){t||pr()}function yr(t,e){return t}function mr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var gr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=mr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function br(t,e){return t<e?-1:t>e?1:0}function wr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function _r(t){return t+"\0"}var kr=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return br(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();kr.h=new kr("");var Er=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(kr.fromBase64String(e))}catch(e){throw new ar(sr.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(kr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Sr(){if("undefined"==typeof Uint8Array)throw new ar(sr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ir(){if("undefined"==typeof atob)throw new ar(sr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){Ir();try{return new e(kr.fromBase64String(t))}catch(t){throw new ar(sr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Sr(),new e(kr.fromUint8Array(t))},e.prototype.toBase64=function(){return Ir(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Sr(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Er),Ar=function(t,e,n,r,i,o){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=o},Tr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.u=function(t){return br(this.projectId,t.projectId)||br(this.database,t.database)},t}();function Or(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Nr=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.A(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){xr(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.P=function(){return Pr(this.R)},t}(),Rr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ar(sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ar(sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ar(sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ar(sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dr=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Rr(0,0))},t.prototype.u=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pr(),void 0===n?n=t.length-e:n>t.length-e&&pr(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.k=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.U=function(){return new e([])},e}(jr),Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Lr.test(t)},e.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ar(sr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ar(sr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ar(sr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(jr),Mr=function(){function t(t){this.path=t}return t.H=function(e){return new t(Fr.q(e))},t.Y=function(e){return new t(Fr.q(e).N(5))},t.prototype.J=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fr.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Fr.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Fr(e.slice()))},t}();function Ur(t){return null==t}function qr(t){return 0===t&&1/t==-1/0}function Br(t){return"number"==typeof t&&Number.isInteger(t)&&!qr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function Hr(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zr(t,e,n,r,i,o,s)}function Gr(t){var e=yr(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.B()+t.op.toString()+ji(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.B()+e.dir;var e})).join(","),Ur(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ls(e.startAt)),e.endAt&&(n+="|ub:",n+=Ls(e.endAt)),e.tt=n}return e.tt}function Wr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Pi(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ms(t.startAt,e.startAt)&&Ms(t.endAt,e.endAt)}function Kr(t){return Mr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qr,Zr,Yr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Dr.min()),void 0===o&&(o=Dr.min()),void 0===s&&(s=kr.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Jr=function(t){this.count=t};function Xr(t){switch(t){case sr.OK:return pr();case sr.CANCELLED:case sr.UNKNOWN:case sr.DEADLINE_EXCEEDED:case sr.RESOURCE_EXHAUSTED:case sr.INTERNAL:case sr.UNAVAILABLE:case sr.UNAUTHENTICATED:return!1;case sr.INVALID_ARGUMENT:case sr.NOT_FOUND:case sr.ALREADY_EXISTS:case sr.PERMISSION_DENIED:case sr.FAILED_PRECONDITION:case sr.ABORTED:case sr.OUT_OF_RANGE:case sr.UNIMPLEMENTED:case sr.DATA_LOSS:return!0;default:return pr()}}function $r(t){if(void 0===t)return hr("GRPC error has no .code"),sr.UNKNOWN;switch(t){case Qr.OK:return sr.OK;case Qr.CANCELLED:return sr.CANCELLED;case Qr.UNKNOWN:return sr.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return sr.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return sr.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return sr.INTERNAL;case Qr.UNAVAILABLE:return sr.UNAVAILABLE;case Qr.UNAUTHENTICATED:return sr.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return sr.INVALID_ARGUMENT;case Qr.NOT_FOUND:return sr.NOT_FOUND;case Qr.ALREADY_EXISTS:return sr.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return sr.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return sr.FAILED_PRECONDITION;case Qr.ABORTED:return sr.ABORTED;case Qr.OUT_OF_RANGE:return sr.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return sr.UNIMPLEMENTED;case Qr.DATA_LOSS:return sr.DATA_LOSS;default:return pr()}}(Zr=Qr||(Qr={}))[Zr.OK=0]="OK",Zr[Zr.CANCELLED=1]="CANCELLED",Zr[Zr.UNKNOWN=2]="UNKNOWN",Zr[Zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zr[Zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zr[Zr.NOT_FOUND=5]="NOT_FOUND",Zr[Zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zr[Zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zr[Zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zr[Zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zr[Zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zr[Zr.ABORTED=10]="ABORTED",Zr[Zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zr[Zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zr[Zr.INTERNAL=13]="INTERNAL",Zr[Zr.UNAVAILABLE=14]="UNAVAILABLE",Zr[Zr.DATA_LOSS=15]="DATA_LOSS";var ti=function(){function t(t,e){this.D=t,this.root=e||ni.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ni.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ni.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ei(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new ei(this.root,t,this.D,!1)},t.prototype.dt=function(){return new ei(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new ei(this.root,t,this.D,!0)},t}(),ei=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ni=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.P=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.P()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.yt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw pr();if(this.right.yt())throw pr();var t=this.left.Nt();if(t!==this.right.Nt())throw pr();return t+(this.yt()?0:1)},t}();ni.EMPTY=null,ni.RED=!0,ni.at=!1,ni.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ni(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var ri=function(){function t(t){this.D=t,this.data=new ti(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.Ot=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new ii(this.data._t())},t.prototype.ft=function(t){return new ii(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.D(i,o))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),ii=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),oi=new ti(Mr.D);function si(){return oi}function ai(){return si()}var ui=new ti(Mr.D);function ci(){return ui}var li=new ti(Mr.D),hi=new ri(Mr.D);function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hi,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var di=new ri(br);function pi(){return di}var vi=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Mr.D(e.key,n.key)}:function(t,e){return Mr.D(t.key,e.key)},this.$t=ci(),this.Lt=new ti(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),yi=function(){function t(){this.qt=new ti(Mr.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):pr():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),mi=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}return t.Gt=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,vi.Bt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&ks(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),gi=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,bi.Zt(e,n)),new t(Dr.min(),r,pi(),si(),fi())},t}(),bi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(kr.h,n,fi(),fi(),fi())},t}(),wi=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},_i=function(t,e){this.targetId=t,this.oe=e},ki=function(t,e,n,r){void 0===n&&(n=kr.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ei=function(){function t(){this.ae=0,this.ce=Ci(),this.ue=kr.h,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=fi(),e=fi(),n=fi();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new bi(this.ue,this.he,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.ce=Ci()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Si=function(){function t(t){this.Pe=t,this.ge=new Map,this.ye=si(),this.Ve=Ii(),this.pe=new ri(br)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof ss?this.ve(r,t.re):t.re instanceof as&&this.Se(r,t.key,t.re)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Se(o[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:pr()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},t.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(Kr(i))if(0===n){var o=new Mr(i.path);this.Se(e,o,new as(o,Dr.min()))}else vr(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var o=e.ke(i);if(o){if(r.te&&Kr(o.target)){var s=new Mr(o.target.path);null!==e.ye.get(s)||e.Le(i,s)||e.Se(i,s,new as(s,t))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=fi();this.Ve.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new gi(t,n,this.pe,this.ye,r);return this.ye=si(),this.Ve=Ii(),this.pe=new ri(br),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Ei,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new ri(br),this.Ve=this.Ve.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.ke(t);return e||lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new Ei),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Ii(){return new ti(Mr.D)}function Ci(){return new ti(Mr.D)}function Ai(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ti(t){var e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}var Oi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ai(t)?4:10:pr()}function Pi(t,e){var n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ti(t).isEqual(Ti(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Fi(t.timestampValue),r=Fi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vi(t.bytesValue).isEqual(Vi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Li(t.geoPointValue.latitude)===Li(e.geoPointValue.latitude)&&Li(t.geoPointValue.longitude)===Li(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Li(t.integerValue)===Li(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Li(t.doubleValue),r=Li(e.doubleValue);return n===r?qr(n)===qr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wr(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Or(n)!==Or(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(t,e);default:return pr()}}function Ni(t,e){return void 0!==(t.values||[]).find((function(t){return Pi(t,e)}))}function Ri(t,e){var n=xi(t),r=xi(e);if(n!==r)return br(n,r);switch(n){case 0:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Li(t.integerValue||t.doubleValue),r=Li(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Di(t.timestampValue,e.timestampValue);case 4:return Di(Ti(t),Ti(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vi(t),r=Vi(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=br(n[i],r[i]);if(0!==o)return o}return br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=br(Li(t.latitude),Li(e.latitude));return 0!==n?n:br(Li(t.longitude),Li(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ri(n[i],r[i]);if(o)return o}return br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=br(r[s],o[s]);if(0!==a)return a;var u=Ri(n[r[s]],i[o[s]]);if(0!==u)return u}return br(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pr()}}function Di(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);var n=Fi(t),r=Fi(e),i=br(n.seconds,r.seconds);return 0!==i?i:br(n.nanos,r.nanos)}function ji(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Fi(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vi(e.bytesValue).toBase64():"referenceValue"in e?Mr.Y(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):pr();var n}(t)}function Fi(t){if(vr(!!t),"string"==typeof t){var e=0,n=Oi.exec(t);if(vr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Li(t.seconds),nanos:Li(t.nanos)}}function Li(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vi(t){return"string"==typeof t?kr.fromBase64String(t):kr.fromUint8Array(t)}function Mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Ui(t){return!!t&&"integerValue"in t}function qi(t){return!!t&&"arrayValue"in t}function Bi(t){return!!t&&"nullValue"in t}function zi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hi(t){return!!t&&"mapValue"in t}var Gi={asc:"ASCENDING",desc:"DESCENDING"},Wi={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ki=function(t,e){this._=t,this.Ke=e};function Qi(t){return{integerValue:""+t}}function Zi(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(e)?"-0":e}}function Yi(t,e){return Br(e)?Qi(e):Zi(t,e)}function Ji(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xi(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function $i(t,e){return Ji(t,e.v())}function to(t){return vr(!!t),Dr.V(function(t){var e=Fi(t);return new Rr(e.seconds,e.nanos)}(t))}function eo(t,e){return function(t){return new Fr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function no(t){var e=Fr.q(t);return vr(So(e)),e}function ro(t,e){return eo(t._,e.path)}function io(t,e){var n=no(e);return vr(n.get(1)===t._.projectId),vr(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Mr(uo(n))}function oo(t,e){return eo(t._,e)}function so(t){var e=no(t);return 4===e.length?Fr.U():uo(e)}function ao(t){return new Fr(["projects",t._.projectId,"databases",t._.database]).B()}function uo(t){return vr(t.length>4&&"documents"===t.get(4)),t.N(5)}function co(t,e,n){return{name:ro(t,e),fields:n.proto.mapValue.fields}}function lo(t,e){var n;if(e instanceof Qo)n={update:co(t,e.key,e.value)};else if(e instanceof ts)n={delete:ro(t,e.key)};else if(e instanceof Zo)n={update:co(t,e.key,e.data),updateMask:Eo(e.Qe)};else if(e instanceof Jo)n={transform:{document:ro(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Oo)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof xo)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof No)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Do)return{fieldPath:e.field.B(),increment:n.We};throw pr()}(0,t)}))}};else{if(!(e instanceof es))return pr();n={verify:ro(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:$i(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pr()}(t,e.Ge)),n}function ho(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Uo.updateTime(to(t.updateTime)):void 0!==t.exists?Uo.exists(t.exists):Uo.ze()}(e.currentDocument):Uo.ze();if(e.update){var r=io(t,e.update.name),i=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Lo((t.fieldPaths||[]).map((function(t){return Vr.G(t)})))}(e.updateMask);return new Zo(r,i,o,n)}return new Qo(r,i,n)}if(e.delete){var s=io(t,e.delete);return new ts(s,n)}if(e.transform){var a=io(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(vr("REQUEST_TIME"===e.setToServerValue),n=new Oo):"appendMissingElements"in e?n=new xo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new No(e.removeAllFromArray.values||[]):"increment"in e?n=new Do(t,e.increment):pr();var r=Vr.G(e.fieldPath);return new Vo(r,n)}(t,e)}));return vr(!0===n.exists),new Jo(a,u)}if(e.verify){var c=io(t,e.verify);return new es(c,n)}return pr()}function fo(t,e){return{documents:[oo(t,e.path)]}}function po(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=oo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=oo(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(zi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Bi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Bi(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:go(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:bo(t.field),direction:mo(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Ke||Ur(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=vo(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vo(e.endAt)),n}function vo(t){return{before:t.before,values:t.position}}function yo(t){return new Fs(t.values||[],!!t.before)}function mo(t){return Gi[t]}function go(t){return Wi[t]}function bo(t){return{fieldPath:t.B()}}function wo(t){return Vr.G(t.fieldPath)}function _o(t){return As.create(wo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pr()}}(t.fieldFilter.op),t.fieldFilter.value)}function ko(t){switch(t.unaryFilter.op){case"IS_NAN":var e=wo(t.unaryFilter.field);return As.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=wo(t.unaryFilter.field);return As.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=wo(t.unaryFilter.field);return As.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=wo(t.unaryFilter.field);return As.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pr()}}function Eo(t){var e=[];return t.fields.forEach((function(t){return e.push(t.B())})),{fieldPaths:e}}function So(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Io=function(){this.He=void 0};function Co(t,e,n){return t instanceof Oo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xo?Po(t,e):t instanceof No?Ro(t,e):function(t,e){var n=To(t,e),r=jo(n)+jo(t.We);return Ui(n)&&Ui(t.We)?Qi(r):Zi(t.serializer,r)}(t,e)}function Ao(t,e,n){return t instanceof xo?Po(t,e):t instanceof No?Ro(t,e):n}function To(t,e){return t instanceof Do?Ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(Io),xo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Io);function Po(t,e){for(var n=Fo(e),r=function(t){n.some((function(e){return Pi(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var No=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Io);function Ro(t,e){for(var n=Fo(e),r=function(t){n=n.filter((function(e){return!Pi(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Do=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(r.c)(e,t),e}(Io);function jo(t){return Li(t.integerValue||t.doubleValue)}function Fo(t){return qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Lo=function(){function t(t){this.fields=t,t.sort(Vr.D)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return wr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Vo=function(t,e){this.field=t,this.transform=e},Mo=function(t,e){this.version=t,this.transformResults=e},Uo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qo(t,e){return void 0!==t.updateTime?e instanceof ss&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof ss}var Bo=function(){};function zo(t,e,n){return t instanceof Qo?function(t,e,n){return new ss(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Zo?function(t,e,n){if(!qo(t.Ge,e))return new us(t.key,n.version);var r=Yo(t,e);return new ss(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Jo?function(t,e,n){if(vr(null!=n.transformResults),!qo(t.Ge,e))return new us(t.key,n.version);var r=Xo(0,e),i=function(t,e,n){var r=[];vr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof ss&&(a=e.field(o.field)),r.push(Ao(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=$o(t,r.data(),i);return new ss(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new as(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ho(t,e,n,r){return t instanceof Qo?function(t,e){if(!qo(t.Ge,e))return e;var n=Ko(e);return new ss(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Zo?function(t,e){if(!qo(t.Ge,e))return e;var n=Ko(e),r=Yo(t,e);return new ss(t.key,n,r,{Je:!0})}(t,e):t instanceof Jo?function(t,e,n,r){if(!qo(t.Ge,e))return e;var i=Xo(0,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof ss&&(c=n.field(a.field)),null===c&&r instanceof ss&&(c=r.field(a.field)),i.push(Co(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=$o(t,i.data(),o);return new ss(t.key,i.version,s,{Je:!0})}(t,e,r,n):function(t,e){return qo(t.Ge,e)?new as(t.key,Dr.min()):e}(t,e)}function Go(t,e){return t instanceof Jo?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof ss?e.field(o.field):void 0,a=To(o.transform,s||null);null!=a&&(n=null==n?(new rs).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(t,e):null}function Wo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||wr(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xo&&e instanceof xo||t instanceof No&&e instanceof No?wr(t.elements,e.elements,Pi):t instanceof Do&&e instanceof Do?Pi(t.We,e.We):t instanceof Oo&&e instanceof Oo}(t.transform,e.transform)}(t,e)})))}function Ko(t){return t instanceof ss?t.version:Dr.min()}var Qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(r.c)(e,t),e}(Bo),Zo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Qe=r,o.Ge=i,o.type=1,o}return Object(r.c)(e,t),e}(Bo);function Yo(t,e){return function(t,e){var n=new rs(e);return t.Qe.fields.forEach((function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof ss?e.data():ns.empty())}var Jo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Uo.exists(!0),r}return Object(r.c)(e,t),e}(Bo);function Xo(t,e){return e}function $o(t,e,n){for(var r=new rs(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var ts=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(r.c)(e,t),e}(Bo),es=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(r.c)(e,t),e}(Bo),ns=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},t.prototype.isEqual=function(t){return Pi(this.proto,t.proto)},t}(),rs=function(){function t(t){void 0===t&&(t=ns.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===xi(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.k(),e)},t.prototype.Xe=function(){var t=this.nn(Vr.U(),this.tn);return null!=t?new ns(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),o=Hi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.nn(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function is(t){var e=[];return xr(t.fields||{},(function(t,n){var r=new Vr([t]);if(Hi(n)){var i=is(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Lo(e)}var os=function(t,e){this.key=t,this.version=e},ss=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(r.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(os),as=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(os),us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(os),cs=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null};function ls(t,e,n,r,i,o,s,a){return new cs(t,e,n,r,i,o,s,a)}function hs(t){return new cs(t)}function fs(t){return!Ur(t.limit)&&"F"===t.an}function ds(t){return!Ur(t.limit)&&"L"===t.an}function ps(t){return t.on.length>0?t.on[0].field:null}function vs(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function ys(t){return null!==t.collectionGroup}function ms(t){var e=yr(t);if(null===e.cn){e.cn=[];var n=vs(e),r=ps(e);if(null!==n&&null===r)n.W()||e.cn.push(new Us(n)),e.cn.push(new Us(Vr.j(),"asc"));else{for(var i=!1,o=0,s=e.on;o<s.length;o++){var a=s[o];e.cn.push(a),a.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new Us(Vr.j(),u))}}}return e.cn}function gs(t){var e=yr(t);if(!e.un)if("F"===e.an)e.un=Hr(e.path,e.collectionGroup,ms(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ms(e);r<i.length;r++){var o=i[r];n.push(new Us(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Fs(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Fs(e.startAt.position,!e.startAt.before):null;e.un=Hr(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.un}function bs(t,e,n){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ws(t,e){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function _s(t,e){return new cs(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function ks(t,e){return Wr(gs(t),gs(e))&&t.an===e.an}function Es(t){return Gr(gs(t))+"|lt:"+t.an}function Ss(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.B()+" "+e.op+" "+ji(e.value);var e})).join(", ")+"]"),Ur(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.B()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ls(t.startAt)),t.endAt&&(e+=", endAt: "+Ls(t.endAt)),"Target("+e+")"}(gs(t))+"; limitType="+t.an+")"}function Is(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.J(t.collectionGroup)&&t.path.M(n):Mr.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vs(t.startAt,ms(t),e)||t.endAt&&Vs(t.endAt,ms(t),e))}(t,e)}function Cs(t){return function(e,n){for(var r=!1,i=0,o=ms(t);i<o.length;i++){var s=o[i],a=qs(s,e,n);if(0!==a)return a;r=r||s.field.W()}return 0}}var As=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Ts(t,n,r):"array-contains"===n?new Ns(t,r):"in"===n?new Rs(t,r):"not-in"===n?new Ds(t,r):"array-contains-any"===n?new js(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Os(t,n):new xs(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Ri(e,this.value)):null!==e&&xi(this.value)===xi(e)&&this._n(Ri(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pr()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ts=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Mr.Y(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Mr.D(t.key,this.key);return this._n(e)},e}(As),Os=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ps(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(As),xs=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ps(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(As);function Ps(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Mr.Y(t.referenceValue)}))}var Ns=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qi(e)&&Ni(e.arrayValue,this.value)},e}(As),Rs=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ni(this.value.arrayValue,e)},e}(As),Ds=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ni(this.value.arrayValue,e)},e}(As),js=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ni(e.value.arrayValue,t)}))},e}(As),Fs=function(t,e){this.position=t,this.before=e};function Ls(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ji(t)})).join(",")}function Vs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.W()?Mr.D(Mr.Y(s.referenceValue),n.key):Ri(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ms(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}var Us=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qs(t,e,n){var r=t.field.W()?Mr.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Ri(r,i):pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}function Bs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Hs=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Gs=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&pr(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.On=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.On(r)},t}(),Ws=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(s.h)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lr("SimpleDb","Removing database:",t),Xs(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(s.h)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Qs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ar(sr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Qs(t,n))},i.onupgradeneeded=function(t){lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Qn(t)];case 2:return u.db=r.sent(),e=Ys.open(u.db,t,o?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),Gs.reject(t)})).xn(),c={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return lr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ks=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Xs(this.zn.delete())},t}(),Qs=function(t){function e(e,n){var r=this;return(r=t.call(this,sr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(ar);function Zs(t){return"IndexedDbTransactionError"===t.name}var Ys=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new zs,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Qs(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=ta(e.target.error);n.Zn.reject(new Qs(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Qs(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Js(e)},t}(),Js=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xs(n)},t.prototype.add=function(t){return lr("SimpleDb","ADD",this.store.name,t,t),Xs(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xs(this.store.get(t)).next((function(n){return void 0===n&&(n=null),lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return lr("SimpleDb","DELETE",this.store.name,t),Xs(this.store.delete(t))},t.prototype.count=function(){return lr("SimpleDb","COUNT",this.store.name),Xs(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Gs((function(n,r){e.onerror=function(t){var e=ta(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new Gs((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ks(i),s=e(i.primaryKey,i.value,o);if(s instanceof Gs){var a=s.catch((function(t){return o.done(),Gs.reject(t)}));n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return Gs.On(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xs(t){return new Gs((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ta(t.target.error);n(e)}}))}var $s=!1;function ta(t){var e=Ws.$n(Object(s.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ar("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $s||($s=!0,setTimeout((function(){throw r}),0)),r}}return t}function ea(){return"undefined"!=typeof window?window:null}function na(){return"undefined"!=typeof document?document:null}var ra=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new zs,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new ar(sr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),ia=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new Hs(this,"async_queue_retry"),this.Vs=function(){var e=na();e&&lr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=na();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=na();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},t.prototype.Ns=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!Zs(t=n.sent()))throw t;return lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.ys.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,hr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=ra._s(this,t,e,n,(function(t){return r.xs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&pr()},t.prototype.Fs=function(){},t.prototype.Os=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.Os().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()}))},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function oa(t,e){if(hr("AsyncQueue",e+": "+t),Zs(t))return new ar(sr.UNAVAILABLE,e+": "+t);throw t}var sa=function(){this.Ls=void 0,this.listeners=[]},aa=function(){this.Bs=new Nr((function(t){return Es(t)}),ks),this.onlineState="Unknown",this.qs=new Set};function ua(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=yr(t),o=!1,(s=n.Bs.get(i=e.query))||(o=!0,s=new sa),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=s,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=oa(u,"Initialization of query '"+Ss(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,s),s.listeners.push(e),e.Ks(n.onlineState),s.Ls&&e.Qs(s.Ls)&&fa(n),[2]}}))}))}function ca(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){return n=yr(t),o=!1,(s=n.Bs.get(i=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.Bs.delete(i),n.Ws(i))]:[2]}))}))}function la(t,e){for(var n=yr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.Bs.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(s)&&(r=!0);a.Ls=s}}r&&fa(n)}function ha(t,e,n){var r=yr(t),i=r.Bs.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(e)}function fa(t){t.qs.forEach((function(t){t.next()}))}var da=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mi(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),o=!0):this.Ys(t,this.onlineState)&&(this.Js(t),o=!0),this.zs=t,o},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=mi.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),pa=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();pa.UNAUTHENTICATED=new pa(null),pa.ei=new pa("google-credentials-uid"),pa.ni=new pa("first-party-uid");var va=function(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t},ya=function(){function t(){this.ii=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ri=function(){},t.prototype.oi=function(t){this.ii=t,t(pa.UNAUTHENTICATED)},t.prototype.ai=function(){this.ii=null},t}(),ma=function(){function t(t){var e=this;this.ci=null,this.currentUser=pa.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then((function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.hi!==e?(lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(vr("string"==typeof n.accessToken),new va(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ri=function(){this.forceRefresh=!0},t.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},t.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},t.prototype.li=function(){var t=this.auth&&this.auth.getUid();return vr(null===t||"string"==typeof t),new pa(t)},t}(),ga=function(){function t(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=pa.ni}return Object.defineProperty(t.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ba=function(){function t(t,e){this._i=t,this.fi=e}return t.prototype.getToken=function(){return Promise.resolve(new ga(this._i,this.fi))},t.prototype.oi=function(t){t(pa.ni)},t.prototype.ai=function(){},t.prototype.ri=function(){},t}(),wa=function(){function t(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}return t.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=zo(o,e,r[i]))}return e},t.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Ho(i,e,e,this.di))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=Ho(u,e,o,this.di))}return e},t.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),fi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wr(this.mutations,t.mutations,(function(t,e){return Wo(t,e)}))&&wr(this.baseMutations,t.baseMutations,(function(t,e){return Wo(t,e)}))},t}(),_a=function(){function t(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}return t.from=function(e,n,r){vr(e.mutations.length===r.length);for(var i=li,o=e.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ka=function(){function t(){this.Ri=new Nr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Pi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),t.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},t.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},t.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?Gs.resolve(n):this.vi(t,e)},t.prototype.getEntries=function(t,e){return this.Si(t,e)},t.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},t.prototype.Vi=function(){},t}(),Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sa=function(){function t(){this.Ci=[]}return t.prototype.Ni=function(t){this.Ci.push(t)},t.prototype.xi=function(){this.Ci.forEach((function(t){return t()}))},t}(),Ia=function(){function t(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}return t.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next((function(r){return n.Li(t,e,r)}))},t.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t}))},t.prototype.Bi=function(t,e,n){var r=ai();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Ti(t,e);r=r.ot(t,e)})),r},t.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next((function(e){return n.Ui(t,e)}))},t.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next((function(r){var i=n.Bi(t,e,r),o=si();return i.forEach((function(t,e){e||(e=new as(t,Dr.min())),o=o.ot(t,e)})),o}))},t.prototype.Qi=function(t,e,n){return function(t){return Mr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Wi(t,e.path):ys(e)?this.ji(t,e,n):this.Gi(t,e,n)},t.prototype.Wi=function(t,e){return this.Mi(t,new Mr(e)).next((function(t){var e=ci();return t instanceof ss&&(e=e.ot(t.key,t)),e}))},t.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,o=ci();return this.ki.zi(t,i).next((function(s){return Gs.forEach(s,(function(s){var a=function(t,e){return new cs(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,s.child(i));return r.Gi(t,a,n).next((function(t){t.forEach((function(t,e){o=o.ot(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Gi=function(t,e,n){var r,i,o=this;return this.Fi.Qi(t,e,n).next((function(n){return r=n,o.Oi.Hi(t,e)})).next((function(e){return o.Yi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=Ho(u,l,l,o.di);r=h instanceof ss?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Is(e,n)||(r=r.remove(t))})),r}))},t.prototype.Yi=function(t,e,n){for(var r=fi(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Fi.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof ss&&(c=c.ot(t,e))})),c}))},t}(),Ca=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}return t.Zi=function(e,n){for(var r=fi(),i=fi(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Aa=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}return t.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},t}();function Ta(t,e){var n=t[1],r=e[1],i=br(t[0],e[0]);return 0===i?br(n,r):i}Aa.ir=-1;var Oa=function(){function t(t){this.rr=t,this.buffer=new ri(Ta),this.ar=0}return t.prototype.cr=function(){return++this.ar},t.prototype.ur=function(t){var e=[t,this.cr()];if(this.buffer.size<this.rr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ta(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),xa={hr:!1,lr:0,_r:0,dr:0},Pa=function(){function t(t,e,n){this.wr=t,this.Er=e,this.Tr=n}return t.Ir=function(e){return new t(e,t.mr,t.Ar)},t}();Pa.mr=10,Pa.Ar=1e3,Pa.Rr=new Pa(41943040,Pa.mr,Pa.Ar),Pa.Pr=new Pa(-1,0,0);var Na=function(){function t(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}return t.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},t.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(t.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),t.prototype.pr=function(t){var e=this,n=this.yr?3e5:6e4;lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",n,(function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.Vr=null,this.yr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return n.sent(),[3,7];case 3:return Zs(e=n.sent())?(lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Xu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Ra=function(){function t(t,e){this.Sr=t,this.params=e}return t.prototype.Dr=function(t,e){return this.Sr.Cr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Nr=function(t,e){var n=this;if(0===e)return Gs.resolve(Aa.ir);var r=new Oa(e);return this.Sr.Ce(t,(function(t){return r.ur(t.sequenceNumber)})).next((function(){return n.Sr.Fr(t,(function(t){return r.ur(t)}))})).next((function(){return r.maxValue}))},t.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},t.prototype.kr=function(t,e){return this.Sr.kr(t,e)},t.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),Gs.resolve(xa)):this.$r(t).next((function(r){return r<n.params.wr?(lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),xa):n.Lr(t,e)}))},t.prototype.$r=function(t){return this.Sr.$r(t)},t.prototype.Lr=function(t,e){var n,r,i,s,a,u,c,l=this,h=Date.now();return this.Dr(t,this.params.Er).next((function(e){return e>l.params.Tr?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Tr+" from "+e),r=l.params.Tr):r=e,s=Date.now(),l.Nr(t,r)})).next((function(r){return n=r,a=Date.now(),l.Or(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.kr(t,n)})).next((function(t){return c=Date.now(),cr()<=o.a.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Gs.resolve({hr:!0,lr:r,_r:i,dr:t})}))},t}();function Da(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Fa(e)),e=ja(t.get(n),e);return Fa(e)}function ja(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Fa(t){return t+"\x01\x01"}function La(t){var e=t.length;if(vr(e>=2),2===e)return vr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Fr.U();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&pr(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:pr()}o=s+2}return new Fr(r)}var Va=function(t){this.Br=t};function Ma(t,e){if(e.document)return function(t,e,n){var r=io(t,e.name),i=to(e.updateTime),o=new ns({mapValue:{fields:e.fields}});return new ss(r,i,o,{hasCommittedMutations:!!n})}(t.Br,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Mr.Z(e.noDocument.path),r=Ha(e.noDocument.readTime);return new as(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Mr.Z(e.unknownDocument.path),o=Ha(e.unknownDocument.version);return new us(i,o)}return pr()}function Ua(t,e,n){var r=qa(n),i=e.key.path.F().L();if(e instanceof ss){var o=function(t,e){return{name:ro(t,e.key),fields:e.rn().mapValue.fields,updateTime:Ji(t,e.version.v())}}(t.Br,e);return new yu(null,null,o,e.hasCommittedMutations,r,i)}if(e instanceof as){var s=e.key.path.L(),a=za(e.version),u=e.hasCommittedMutations;return new yu(null,new pu(s,a),null,u,r,i)}if(e instanceof us){var c=e.key.path.L(),l=za(e.version);return new yu(new vu(c,l),null,null,!0,r,i)}return pr()}function qa(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Ba(t){var e=new Rr(t[0],t[1]);return Dr.V(e)}function za(t){var e=t.v();return new cu(e.seconds,e.nanoseconds)}function Ha(t){var e=new Rr(t.seconds,t.nanoseconds);return Dr.V(e)}function Ga(t,e){var n=(e.baseMutations||[]).map((function(e){return ho(t.Br,e)})),r=e.mutations.map((function(e){return ho(t.Br,e)})),i=Rr.fromMillis(e.localWriteTimeMs);return new wa(e.batchId,i,n,r)}function Wa(t){var e,n,r=Ha(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ha(t.lastLimboFreeSnapshotVersion):Dr.min();return void 0!==t.query.documents?(vr(1===(n=t.query).documents.length),e=gs(hs(so(n.documents[0])))):e=function(t){var e=so(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[ko(e)]:void 0!==e.fieldFilter?[_o(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Us(wo(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ur(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yo(n.startAt));var l=null;return n.endAt&&(l=yo(n.endAt)),gs(ls(e,i,a,s,u,"F",c,l))}(t.query),new Yr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,kr.fromBase64String(t.resumeToken))}function Ka(t,e){var n,r=za(e.nt),i=za(e.lastLimboFreeSnapshotVersion);n=Kr(e.target)?fo(t.Br,e.target):po(t.Br,e.target);var o=e.resumeToken.toBase64();return new gu(e.targetId,Gr(e.target),r,o,e.sequenceNumber,i,n)}var Qa=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}return t.Kr=function(e,n,r,i){return vr(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ja(t).rs({index:fu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Wr=function(t,e,n,r){var i=this,o=Xa(t),s=Ja(t);return s.add({}).next((function(a){vr("number"==typeof a);for(var u=new wa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return lo(t.Br,e)})),i=n.mutations.map((function(e){return lo(t.Br,e)}));return new fu(e,n.batchId,n.di.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ri((function(t,e){return br(t.B(),e.B())})),f=0,d=r;f<d.length;f++){var p=d[f],v=du.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),l.push(s.put(c)),l.push(o.put(v,du.PLACEHOLDER))}return h.forEach((function(e){l.push(i.ki.jr(t,e))})),t.Ni((function(){i.Ur[a]=u.keys()})),Gs.On(l).next((function(){return u}))}))},t.prototype.Gr=function(t,e){var n=this;return Ja(t).get(e).next((function(t){return t?(vr(t.userId===n.userId),Ga(n.serializer,t)):null}))},t.prototype.zr=function(t,e){var n=this;return this.Ur[e]?Gs.resolve(this.Ur[e]):this.Gr(t,e).next((function(t){if(t){var r=t.keys();return n.Ur[e]=r,r}return null}))},t.prototype.Hr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ja(t).rs({index:fu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(vr(e.batchId>=r),o=Ga(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ja(t).rs({index:fu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ja(t).ts(fu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ga(e.serializer,t)}))}))},t.prototype.$i=function(t,e){var n=this,r=du.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Xa(t).rs({range:i},(function(r,i,s){var a=r[0],u=r[2],c=La(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ja(t).get(u).next((function(t){if(!t)throw pr();vr(t.userId===n.userId),o.push(Ga(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.Ki=function(t,e){var n=this,r=new ri(br),i=[];return e.forEach((function(e){var o=du.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Xa(t).rs({range:s},(function(t,i,o){var s=t[0],a=t[2],u=La(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()}));i.push(a)})),Gs.On(i).next((function(){return n.Xr(t,r)}))},t.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,o=du.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ri(br);return Xa(t).rs({range:s},(function(t,e,o){var s=t[0],u=t[2],c=La(t[1]);s===n.userId&&r.M(c)?c.length===i&&(a=a.add(u)):o.done()})).next((function(){return n.Xr(t,a)}))},t.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ja(t).get(e).next((function(t){if(null===t)throw pr();vr(t.userId===n.userId),r.push(Ga(n.serializer,t))})))})),Gs.On(i).next((function(){return r}))},t.prototype.Zr=function(t,e){var n=this;return Ya(t.eo,this.userId,e).next((function(r){return t.Ni((function(){n.no(e.batchId)})),Gs.forEach(r,(function(e){return n.qr.so(t,e)}))}))},t.prototype.no=function(t){delete this.Ur[t]},t.prototype.io=function(t){var e=this;return this.Qr(t).next((function(n){if(!n)return Gs.resolve();var r=IDBKeyRange.lowerBound(du.prefixForUser(e.userId)),i=[];return Xa(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=La(t[1]);i.push(o)}else r.done()})).next((function(){vr(0===i.length)}))}))},t.prototype.ro=function(t,e){return Za(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return $a(t).get(this.userId).next((function(t){return t||new hu(e.userId,-1,"")}))},t}();function Za(t,e,n){var r=du.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Xa(t).rs({range:o,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function Ya(t,e,n){var r=t.store(fu.store),i=t.store(du.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){vr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=du.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Gs.On(o).next((function(){return c}))}function Ja(t){return Du.Kn(t,fu.store)}function Xa(t){return Du.Kn(t,du.store)}function $a(t){return Du.Kn(t,hu.store)}var tu=function(){function t(t,e){this.serializer=t,this.ki=e}return t.prototype.yi=function(t,e,n){return ru(t).put(iu(e),n)},t.prototype.pi=function(t,e){var n=ru(t),r=iu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ao(t,r)}))},t.prototype.bi=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){return n.co(t)}))},t.prototype.uo=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){var e=n.co(t);return e?{ho:e,size:ou(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ai();return this.lo(t,e,(function(t,e){var i=n.co(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype._o=function(t,e){var n=this,r=ai(),i=new ti(Mr.D);return this.lo(t,e,(function(t,e){var o=n.co(e);o?(r=r.ot(t,o),i=i.ot(t,ou(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{fo:r,do:i}}))},t.prototype.lo=function(t,e,n){if(e.P())return Gs.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),o=i.It();return ru(t).rs({range:r},(function(t,e,r){for(var s=Mr.Z(t);o&&Mr.D(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,e),o=i.At()?i.It():null),o?r.Xn(o.path.L()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},t.prototype.Qi=function(t,e,n){var r=this,i=ci(),o=e.path.length+1,s={};if(n.isEqual(Dr.min())){var a=e.path.L();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.L(),c=qa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=yu.collectionReadTimeIndex}return ru(t).rs(s,(function(t,n,s){if(t.length===o){var a=Ma(r.serializer,n);e.path.M(a.key.path)?a instanceof ss&&Is(e,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.wo=function(t){return new eu(this,!!t&&t.Eo)},t.prototype.To=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return nu(t).get(mu.key).next((function(t){return vr(!!t),t}))},t.prototype.ao=function(t,e){return nu(t).put(mu.key,e)},t.prototype.co=function(t){if(t){var e=Ma(this.serializer,t);return e instanceof as&&e.version.isEqual(Dr.min())?null:e}return null},t}(),eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Io=e,r.Eo=n,r.mo=new Nr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.c)(e,t),e.prototype.Di=function(t){var e=this,n=[],r=0,i=new ri((function(t,e){return br(t.B(),e.B())}));return this.Ri.forEach((function(o,s){var a=e.mo.get(o);if(s){var u=Ua(e.Io.serializer,s,e.readTime);i=i.add(o.path.F());var c=ou(u);r+=c-a,n.push(e.Io.yi(t,o,u))}else if(r-=a,e.Eo){var l=Ua(e.Io.serializer,new as(o,Dr.min()),e.readTime);n.push(e.Io.yi(t,o,l))}else n.push(e.Io.pi(t,o))})),i.forEach((function(r){n.push(e.Io.ki.jr(t,r))})),n.push(this.Io.updateMetadata(t,r)),Gs.On(n)},e.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next((function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)}))},e.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next((function(t){var e=t.fo;return t.do.forEach((function(t,e){n.mo.set(t,e)})),e}))},e}(ka);function nu(t){return Du.Kn(t,mu.store)}function ru(t){return Du.Kn(t,yu.store)}function iu(t){return t.path.L()}function ou(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pr();e=t.noDocument}return JSON.stringify(e).length}var su=function(){function t(){this.Ao=new au}return t.prototype.jr=function(t,e){return this.Ao.add(e),Gs.resolve()},t.prototype.zi=function(t,e){return Gs.resolve(this.Ao.getEntries(e))},t}(),au=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new ri(Fr.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.k(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ri(Fr.D)).L()},t}(),uu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;vr(n<r&&n>=0&&r<=10);var o=new Ys("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(lu.store)}(t),function(t){t.createObjectStore(hu.store,{keyPath:hu.keyPath}),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(du.store)}(t),ku(t),function(t){t.createObjectStore(yu.store)}(t));var s=Gs.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bu.store),t.deleteObjectStore(gu.store),t.deleteObjectStore(wu.store)}(t),ku(t)),s=s.next((function(){return function(t){var e=t.store(wu.store),n=new wu(0,0,Dr.min().v(),0);return e.put(wu.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(fu.store).ts().next((function(n){t.deleteObjectStore(fu.store),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0});var r=e.store(fu.store),i=n.map((function(t){return r.put(t)}));return Gs.On(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Eu.store,{keyPath:Eu.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(mu.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yu.store);e.createIndex(yu.readTimeIndex,yu.readTimeIndexPath,{unique:!1}),e.createIndex(yu.collectionReadTimeIndex,yu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(yu.store).rs((function(t,n){e+=ou(n)})).next((function(){var n=new mu(e);return t.store(mu.store).put(mu.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(hu.store),r=t.store(fu.store);return n.ts().next((function(n){return Gs.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(fu.userMutationsIndex,i).next((function(r){return Gs.forEach(r,(function(r){vr(r.userId===n.userId);var i=Ga(e.serializer,r);return Ya(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(bu.store),n=t.store(yu.store);return t.store(wu.store).get(wu.key).next((function(t){var r=[];return n.rs((function(n,i){var o=new Fr(n),s=function(t){return[0,Da(t)]}(o);r.push(e.get(s).next((function(n){return n?Gs.resolve():function(n){return e.put(new bu(0,Da(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Gs.On(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(_u.store,{keyPath:_u.keyPath});var n=e.store(_u.store),r=new au,i=function(t){if(r.add(t)){var e=t.k(),i=t.F();return n.put({collectionId:e,parent:Da(i)})}};return e.store(yu.store).rs({ss:!0},(function(t,e){var n=new Fr(t);return i(n.F())})).next((function(){return e.store(du.store).rs({ss:!0},(function(t,e){var n=La(t[1]);return i(n.F())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(gu.store);return n.rs((function(t,r){var i=Wa(r),o=Ka(e.serializer,i);return n.put(o)}))},t}(),cu=function(t,e){this.seconds=t,this.nanoseconds=e},lu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};lu.store="owner",lu.key="owner";var hu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hu.store="mutationQueues",hu.keyPath="userId";var fu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fu.store="mutations",fu.keyPath="batchId",fu.userMutationsIndex="userMutationsIndex",fu.userMutationsKeyPath=["userId","batchId"];var du=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Da(e)]},t.key=function(t,e,n){return[t,Da(e),n]},t}();du.store="documentMutations",du.PLACEHOLDER=new du;var pu=function(t,e){this.path=t,this.readTime=e},vu=function(t,e){this.path=t,this.version=e},yu=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yu.store="remoteDocuments",yu.readTimeIndex="readTimeIndex",yu.readTimeIndexPath="readTime",yu.collectionReadTimeIndex="collectionReadTimeIndex",yu.collectionReadTimeIndexPath=["parentPath","readTime"];var mu=function(t){this.byteSize=t};mu.store="remoteDocumentGlobal",mu.key="remoteDocumentGlobalKey";var gu=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};gu.store="targets",gu.keyPath="targetId",gu.queryTargetsIndexName="queryTargetsIndex",gu.queryTargetsKeyPath=["canonicalId","targetId"];var bu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bu.store="targetDocuments",bu.keyPath=["targetId","path"],bu.documentTargetsIndex="documentTargetsIndex",bu.documentTargetsKeyPath=["path","targetId"];var wu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wu.key="targetGlobalKey",wu.store="targetGlobal";var _u=function(t,e){this.collectionId=t,this.parent=e};function ku(t){t.createObjectStore(bu.store,{keyPath:bu.keyPath}).createIndex(bu.documentTargetsIndex,bu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(gu.store,{keyPath:gu.keyPath}).createIndex(gu.queryTargetsIndexName,gu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wu.store)}_u.store="collectionParents",_u.keyPath=["collectionId","parent"];var Eu=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Eu.store="clientMetadata",Eu.keyPath="clientId";var Su=Object(r.g)(Object(r.g)(Object(r.g)([hu.store,fu.store,du.store,yu.store,gu.store,lu.store,wu.store,bu.store],[Eu.store]),[mu.store]),[_u.store]),Iu=function(){function t(){this.Ro=new au}return t.prototype.jr=function(t,e){var n=this;if(!this.Ro.has(e)){var r=e.k(),i=e.F();t.Ni((function(){n.Ro.add(e)}));var o={collectionId:r,parent:Da(i)};return Cu(t).put(o)}return Gs.resolve()},t.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_r(e),""],!1,!0);return Cu(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(La(o.parent))}return n}))},t}();function Cu(t){return Du.Kn(t,_u.store)}var Au=function(){function t(t){this.Po=t}return t.prototype.next=function(){return this.Po+=2,this.Po},t.yo=function(){return new t(0)},t.Vo=function(){return new t(-1)},t}(),Tu=function(){function t(t,e){this.qr=t,this.serializer=e}return t.prototype.po=function(t){var e=this;return this.bo(t).next((function(n){var r=new Au(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.So=function(t){return this.bo(t).next((function(t){return Dr.V(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Do=function(t){return this.bo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)}))},t.prototype.No=function(t,e){var n=this;return this.xo(t,e).next((function(){return n.bo(t).next((function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)}))}))},t.prototype.Oo=function(t,e){return this.xo(t,e)},t.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next((function(){return Ou(t).delete(e.targetId)})).next((function(){return n.bo(t)})).next((function(e){return vr(e.targetCount>0),e.targetCount-=1,n.vo(t,e)}))},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return Ou(t).rs((function(s,a){var u=Wa(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.ko(t,u)))})).next((function(){return Gs.On(o)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return Ou(t).rs((function(t,n){var r=Wa(n);e(r)}))},t.prototype.bo=function(t){return xu(t).get(wu.key).next((function(t){return vr(null!==t),t}))},t.prototype.vo=function(t,e){return xu(t).put(wu.key,e)},t.prototype.xo=function(t,e){return Ou(t).put(Ka(this.serializer,e))},t.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.$o=function(t){return this.bo(t).next((function(t){return t.targetCount}))},t.prototype.Lo=function(t,e){var n=Gr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ou(t).rs({range:r,index:gu.queryTargetsIndexName},(function(t,n,r){var o=Wa(n);Wr(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.Bo=function(t,e,n){var r=this,i=[],o=Pu(t);return e.forEach((function(e){var s=Da(e.path);i.push(o.put(new bu(n,s))),i.push(r.qr.qo(t,n,e))})),Gs.On(i)},t.prototype.Uo=function(t,e,n){var r=this,i=Pu(t);return Gs.forEach(e,(function(e){var o=Da(e.path);return Gs.On([i.delete([n,o]),r.qr.Ko(t,n,e)])}))},t.prototype.Mo=function(t,e){var n=Pu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Qo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pu(t),i=fi();return r.rs({range:n,ss:!0},(function(t,e,n){var r=La(t[1]),o=new Mr(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ro=function(t,e){var n=Da(e.path),r=IDBKeyRange.bound([n],[_r(n)],!1,!0),i=0;return Pu(t).rs({index:bu.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return Ou(t).get(e).next((function(t){return t?Wa(t):null}))},t}();function Ou(t){return Du.Kn(t,gu.store)}function xu(t){return Du.Kn(t,wu.store)}function Pu(t){return Du.Kn(t,bu.store)}var Nu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ru=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).eo=e,r.Wo=n,r}return Object(r.c)(e,t),e}(Sa),Du=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.jo=c,this.Go=l,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!t.Ln())throw new ar(sr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new Lu(this,i),this.ea=n+"main",this.serializer=new Va(u),this.na=new Ws(this.ea,10,new uu(this.serializer)),this.sa=new Tu(this.qr,this.serializer),this.ki=new Iu,this.Fi=function(t,e){return new tu(t,e)}(this.serializer,this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===l&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Ru)return Ws.Kn(t.eo,e);throw pr()},t.prototype.start=function(){var t=this;return this.ra().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ar(sr.FAILED_PRECONDITION,Nu);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.sa.Do(e)}))})).then((function(e){t.zo=new Aa(e,t.jo)})).then((function(){t.Ho=!0})).catch((function(e){return t.na&&t.na.close(),Promise.reject(e)}))},t.prototype.ua=function(t){var e=this;return this.ta=function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.br?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ha=function(t){var e=this;this.na.jn((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.la=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Fu(e).put(new Eu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._a(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.ta(!1)})))}))})).next((function(){return t.fa(e)})).next((function(n){return t.isPrimary&&!n?t.da(e).next((function(){return!1})):!!n&&t.wa(e).next((function(){return!0}))}))})).catch((function(e){if(Zs(e))return lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.ta(e)})),t.isPrimary=e}))},t.prototype._a=function(t){var e=this;return ju(t).get(lu.key).next((function(t){return Gs.resolve(e.Ea(t))}))},t.prototype.Ta=function(t){return Fu(t).delete(this.clientId)},t.prototype.Ia=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Kn(e,Eu.store);return n.ts().next((function(t){var e=o.Aa(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Gs.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.ia)for(n=0,i=e;n<i.length;n++)this.ia.removeItem(this.Ra(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.ra().then((function(){return t.Ia()})).then((function(){return t.ca()}))}))},t.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.fa=function(t){var e=this;return this.Go?Gs.resolve(!0):ju(t).get(lu.key).next((function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new ar(sr.FAILED_PRECONDITION,Nu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fu(t).ts().next((function(t){return void 0===e.Aa(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ga=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[lu.store,Eu.store],(function(e){var n=new Ru(e,Aa.ir);return t.da(n).next((function(){return t.Ta(n)}))}))];case 1:return e.sent(),this.na.close(),this.ba(),[2]}}))}))},t.prototype.Aa=function(t,e){var n=this;return t.filter((function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)}))},t.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Fu(e).ts().next((function(e){return t.Aa(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.Sa=function(t){return Qa.Kr(t,this.serializer,this.ki,this.qr)},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.Na=function(){return this.ki},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lr("IndexedDbPersistence","Starting transaction:",t),this.na.runTransaction(t,"readonly"===e?"readonly":"readwrite",Su,(function(o){return r=new Ru(o,i.zo?i.zo.next():Aa.ir),"readwrite-primary"===e?i._a(r).next((function(t){return!!t||i.fa(r)})).next((function(e){if(!e)throw hr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.ta(!1)})),new ar(sr.FAILED_PRECONDITION,Ea);return n(r)})).next((function(t){return i.wa(r).next((function(){return t}))})):i.xa(r).next((function(){return n(r)}))})).then((function(t){return r.xi(),t}))},t.prototype.xa=function(t){var e=this;return ju(t).get(lu.key).next((function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ar(sr.FAILED_PRECONDITION,Nu)}))},t.prototype.wa=function(t){var e=new lu(this.clientId,this.allowTabSynchronization,Date.now());return ju(t).put(lu.key,e)},t.Ln=function(){return Ws.Ln()},t.prototype.da=function(t){var e=this,n=ju(t);return n.get(lu.key).next((function(t){return e.Ea(t)?(lr("IndexedDbPersistence","Releasing primary lease."),n.delete(lu.key)):Gs.resolve()}))},t.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()}))},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},t.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws((function(){return e.ga()}))},this.window.addEventListener("unload",this.Yo))},t.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},t.prototype.Pa=function(t){var e;try{var n=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}},t.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(t){}},t.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ju(t){return Du.Kn(t,lu.store)}function Fu(t){return Du.Kn(t,Eu.store)}var Lu=function(){function t(t,e){this.db=t,this.gr=new Ra(this,e)}return t.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Fa=function(t){var e=0;return this.Fr(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},t.prototype.Fr=function(t,e){return this.Oa(t,(function(t,n){return e(n)}))},t.prototype.qo=function(t,e,n){return Vu(t,n)},t.prototype.Ko=function(t,e,n){return Vu(t,n)},t.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},t.prototype.so=function(t,e){return Vu(t,e)},t.prototype.ka=function(t,e){return function(t,e){var n=!1;return $a(t).os((function(r){return Za(t,r,e).next((function(t){return t&&(n=!0),Gs.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],o=0;return this.Oa(t,(function(s,a){if(a<=e){var u=n.ka(t,s).next((function(e){if(!e)return o++,r.bi(t,s).next((function(){return r.pi(s),Pu(t).delete([0,Da(s.path)])}))}));i.push(u)}})).next((function(){return Gs.On(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.Wo);return this.db.Da().Oo(t,n)},t.prototype.Ma=function(t,e){return Vu(t,e)},t.prototype.Oa=function(t,e){var n,r=Pu(t),i=Aa.ir;return r.rs({index:bu.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Aa.ir&&e(new Mr(La(n)),i),i=s,n=o):i=Aa.ir})).next((function(){i!==Aa.ir&&e(new Mr(La(n)),i)}))},t.prototype.$r=function(t){return this.db.Ca().To(t)},t}();function Vu(t,e){return Pu(t).put(function(t,e){return new bu(0,Da(t.path),e)}(e,t.Wo))}function Mu(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Uu=function(){function t(t,e,n){this.persistence=t,this.$a=e,this.La=new ti(br),this.Ba=new Nr((function(t){return Gr(t)}),Wr),this.qa=Dr.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new Ia(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}return t.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Mr(n,e.La)}))},t}();function qu(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=n.Oi,o=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Oi.Jr(t).next((function(s){return r=s,i=n.persistence.Sa(e),o=new Ia(n.Ua,i,n.persistence.Na()),i.Jr(t)})).next((function(e){for(var n=[],i=[],s=fi(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)s=s.add(y[v].key)}return o.qi(t,s).next((function(t){return{Wa:t,ja:n,Ga:i}}))}))}))];case 1:return s=r.sent(),[2,(n.Oi=i,n.Ka=o,n.$a.Qa(n.Ka),s)]}}))}))}function Bu(t,e){var n=yr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ua.wo({Eo:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Gs.resolve();return o.forEach((function(t){s=s.next((function(){return r.bi(e,t)})).next((function(e){var o=e,s=n.Ai.get(t);vr(null!==s),(!o||o.version.u(s)<0)&&(o=i.wi(t,o,n))&&r.yi(o,n.mi)}))})),s.next((function(){return t.Oi.Zr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}function zu(t){var e=yr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.sa.So(t)}))}function Hu(t,e){var n=yr(t),r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ua.wo({Eo:!0});i=n.La;var s=[];e.zt.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.sa.Uo(t,e.se,o).next((function(){return n.sa.Bo(t,e.ee,o)})));var u=e.resumeToken;if(u.o()>0){var c=a.it(u,r).st(t.Wo);i=i.ot(o,c),function(t,e,n){return vr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&s.push(n.sa.Oo(t,c))}}}));var a=si(),u=fi();if(e.Yt.forEach((function(t,e){u=u.add(t)})),s.push(o.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof as&&c.version.isEqual(Dr.min())?(o.pi(u,r),a=a.ot(u,c)):null==l||c.version.u(l.version)>0||0===c.version.u(l.version)&&l.hasPendingWrites?(o.yi(c,r),a=a.ot(u,c)):lr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&s.push(n.persistence.qr.Ma(t,u))}))}))),!r.isEqual(Dr.min())){var c=n.sa.So(t).next((function(e){return n.sa.Co(t,t.Wo,r)}));s.push(c)}return Gs.On(s).next((function(){return o.apply(t)})).next((function(){return n.Ka.Ui(t,a)}))})).then((function(t){return n.La=i,t}))}function Gu(t,e){var n=yr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Oi.Hr(t,e)}))}function Wu(t,e){var n=yr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.sa.Lo(t,e).next((function(i){return i?Gs.resolve(r=i):n.sa.po(t).next((function(i){return r=new Yr(e,i,0,t.Wo),n.sa.No(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.La.get(t.targetId);return(null===r||t.nt.u(r.nt)>0)&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t}))}function Ku(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=yr(t),o=i.La.get(e),s=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.qr.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!Zs(a=r.sent()))throw a;return lr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.La=i.La.remove(e),i.Ba.delete(o.target),[2]}}))}))}function Qu(t,e,n){var r=yr(t),i=Dr.min(),o=fi();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=yr(t),i=r.Ba.get(n);return void 0!==i?Gs.resolve(r.La.get(i)):r.sa.Lo(e,n)}(r,t,gs(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.$a.Qi(t,e,n?i:Dr.min(),n?o:fi())})).next((function(t){return{documents:t,za:o}}))}))}function Zu(t,e){var n=yr(t),r=yr(n.sa),i=n.La.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Yu(t){var e=yr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=yr(t),i=si(),o=qa(n),s=ru(e),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:yu.readTimeIndex,range:a},(function(t,e){var n=Ma(r.serializer,e);i=i.ot(n.key,n),o=e.readTime})).next((function(){return{Ha:i,readTime:Ba(o)}}))}(e.Ua,t,e.qa)})).then((function(t){var n=t.Ha;return e.qa=t.readTime,n}))}function Ju(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,(e=yr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ru(t),n=Dr.min();return e.rs({index:yu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ba(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.qa=t}))]}))}))}function Xu(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){if(t.code!==sr.FAILED_PRECONDITION||t.message!==Ea)throw t;return lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var $u=function(){function t(t,e,n,r,i,o){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=o,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new Hs(t,e)}return t.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sc()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ic=function(){this.state=0,this.ys.reset()},t.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,(function(){return t.oc()})))},t.prototype.ac=function(t){this.cc(),this.stream.send(t)},t.prototype.oc=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.nc()?[2,this.close(0)]:[2]}))}))},t.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():e&&e.code===sr.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===sr.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.uc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._c(e)}),(function(n){e((function(){var e=new ar(sr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)}))}))},t.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc((function(){n((function(){return e.state=2,e.listener.wc()}))})),this.stream.hc((function(t){n((function(){return e.fc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fc=function(t){return lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.Za===t?n():(lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),tc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return Object(r.c)(e,t),e.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Ke?(vr(void 0===e||"string"==typeof e),kr.fromBase64String(e||"")):(vr(void 0===e||e instanceof Uint8Array),kr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?sr.UNKNOWN:$r(t.code);return new ar(e,t.message||"")}(s);n=new ki(r,i,o,a||null)}else if("documentChange"in e){var u=e.documentChange,c=io(t,u.document.name),l=to(u.document.updateTime),h=new ns({mapValue:{fields:u.document.fields}}),f=new ss(c,l,h,{});n=new wi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=io(t,d.document),v=d.readTime?to(d.readTime):Dr.min(),y=new as(p,v);n=new wi([],d.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){var m=e.documentRemove,g=io(t,m.document);n=new wi([],m.removedTargetIds||[],g,null)}else{if(!("filter"in e))return pr();var b=e.filter,w=new Jr(b.count||0);n=new _i(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Dr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Dr.min():e.readTime?to(e.readTime):Dr.min()}(t);return this.listener.Tc(e,n)},e.prototype.Ic=function(t){var e={};e.database=ao(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Kr(r)?{documents:fo(t,r)}:{query:po(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=Xi(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ac(e)},e.prototype.mc=function(t){var e={};e.database=ao(this.serializer),e.removeTarget=t,this.ac(e)},e}($u),ec=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Ac=!1,s}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.uc=function(){this.Ac&&this.Pc([])},e.prototype.dc=function(t){return this.Ja.Ec("Write",t)},e.prototype.onMessage=function(t){if(vr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=function(t,e){return t&&t.length>0?(vr(void 0!==e),t.map((function(t){return function(t,e){var n=to(t.updateTime?t.updateTime:e);n.isEqual(Dr.min())&&(n=to(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Mo(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=to(t.commitTime);return this.listener.gc(n,e)}return vr(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},e.prototype.Vc=function(){var t={};t.database=ao(this.serializer),this.ac(t)},e.prototype.Pc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return lo(e.serializer,t)}))};this.ac(n)},e}($u),nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ja=n,i.serializer=r,i.bc=!1,i}return Object(r.c)(e,t),e.prototype.vc=function(){if(this.bc)throw new ar(sr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Sc(t,e,n,i)})).catch((function(t){throw t.code===sr.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Dc(t,e,n,i)})).catch((function(t){throw t.code===sr.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.terminate=function(){this.bc=!1},e}((function(){})),rc=function(){function t(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}return t.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,(function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()})))},t.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,this.Nc>=1&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},t.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},t.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},t.prototype.Mc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fc?(hr(e),this.Fc=!1):lr("OnlineStateTracker",e)},t.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},t}(),ic=function(t,e,n,i,o){var s=this;this.Bc=t,this.qc=e,this.cs=n,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=o,this.Gc.zc((function(t){n.ws((function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return dc(this)?(lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=yr(t)).Wc.add(4),[4,sc(e)];case 1:return n.sent(),e.Hc.set("Unknown"),e.Wc.delete(4),[4,oc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Hc=new rc(n,i)};function oc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!dc(t))return[3,4];e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function sc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ac(t,e){var n=yr(t);n.Qc.has(e.targetId)||(n.Qc.set(e.targetId,e),fc(n)?hc(n):Tc(n).nc()&&cc(n,e))}function uc(t,e){var n=yr(t),r=Tc(n);n.Qc.delete(e),r.nc()&&lc(n,e),0===n.Qc.size&&(r.nc()?r.rc():dc(n)&&n.Hc.set("Unknown"))}function cc(t,e){t.Yc.me(e.targetId),Tc(t).Ic(e)}function lc(t,e){t.Yc.me(e),Tc(t).mc(e)}function hc(t){t.Yc=new Si({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),Tc(t).start(),t.Hc.Oc()}function fc(t){return dc(t)&&!Tc(t).ec()&&t.Qc.size>0}function dc(t){return 0===yr(t).Wc.size}function pc(t){t.Yc=void 0}function vc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.Qc.forEach((function(e,n){cc(t,e)})),[2]}))}))}function yc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return pc(t),fc(t)?(t.Hc.$c(e),hc(t)):t.Hc.set("Unknown"),[2]}))}))}function mc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(t.Hc.set("Online"),!(e instanceof ki&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?t.Qc.has(s=o[i])?[4,t.Uc.Jc(s,n)]:[3,3]:[3,5];case 2:r.sent(),t.Qc.delete(s),t.Yc.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,gc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wi?t.Yc.be(e):e instanceof _i?t.Yc.Oe(e):t.Yc.De(e),n.isEqual(Dr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zu(t.Bc)];case 8:return o=a.sent(),n.u(o)>=0?[4,function(t,e){var n=t.Yc.$e(e);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Qc.get(r);i&&t.Qc.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Qc.get(e);if(n){t.Qc.set(e,n.it(kr.h,n.nt)),lc(t,e);var r=new Yr(n.target,e,1,n.sequenceNumber);cc(t,r)}})),t.Uc.Xc(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,gc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function gc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:if(!Zs(e))throw e;return t.Wc.add(1),[4,sc(t)];case 1:return o.sent(),t.Hc.set("Offline"),n||(n=function(){return zu(t.Bc)}),t.cs.Cs((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Wc.delete(1),[4,oc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function bc(t,e){return e().catch((function(n){return gc(t,n,e)}))}function wc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=yr(t),n=Oc(e),i=e.Kc.length>0?e.Kc[e.Kc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return dc(t)&&t.Kc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Gu(e.Bc,i)];case 3:return null===(o=r.sent())?(0===e.Kc.length&&n.rc(),[3,7]):(i=o.batchId,function(t,e){t.Kc.push(e);var n=Oc(t);n.nc()&&n.Rc&&n.Pc(e.mutations)}(e,o),[3,6]);case 4:return s=r.sent(),[4,gc(e,s)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return _c(e)&&kc(e),[2]}}))}))}function _c(t){return dc(t)&&!Oc(t).ec()&&t.Kc.length>0}function kc(t){Oc(t).start()}function Ec(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return Oc(t).Vc(),[2]}))}))}function Sc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i;return Object(r.d)(this,(function(r){for(e=Oc(t),n=0,i=t.Kc;n<i.length;n++)e.Pc(i[n].mutations);return[2]}))}))}function Ic(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=t.Kc.shift(),o=_a.from(i,e,n),[4,bc(t,(function(){return t.Uc.Zc(o)}))];case 1:return r.sent(),[4,wc(t)];case 2:return r.sent(),[2]}}))}))}function Cc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return e&&Oc(t).Rc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Xr(i=e.code)&&i!==sr.ABORTED?(n=t.Kc.shift(),Oc(t).ic(),[4,bc(t,(function(){return t.Uc.tu(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,wc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _c(t)&&kc(t),[2]}}))}))}function Ac(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),e?(n.Wc.delete(2),[4,oc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Wc.add(2),[4,sc(n)]);case 3:r.sent(),n.Hc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Tc(t){var e=this;return t.eu||(t.eu=function(t,e,n){var r=yr(t);return r.vc(),new tc(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:vc.bind(null,t),hc:yc.bind(null,t),Tc:mc.bind(null,t)}),t.jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.eu.ic(),fc(t)?hc(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:e.sent(),pc(t),e.label=3;case 3:return[2]}}))}))}))),t.eu}function Oc(t){var e=this;return t.nu||(t.nu=function(t,e,n){var r=yr(t);return r.vc(),new ec(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:Ec.bind(null,t),hc:Cc.bind(null,t),yc:Sc.bind(null,t),gc:Ic.bind(null,t)}),t.jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.nu.ic(),[4,wc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:e.sent(),t.Kc.length>0&&(lr("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),e.label=4;case 4:return[2]}}))}))}))),t.nu}var xc=function(){function t(){this.su=new ri(Pc.iu),this.ru=new ri(Pc.ou)}return t.prototype.P=function(){return this.su.P()},t.prototype.qo=function(t,e){var n=new Pc(t,e);this.su=this.su.add(n),this.ru=this.ru.add(n)},t.prototype.au=function(t,e){var n=this;t.forEach((function(t){return n.qo(t,e)}))},t.prototype.Ko=function(t,e){this.cu(new Pc(t,e))},t.prototype.uu=function(t,e){var n=this;t.forEach((function(t){return n.Ko(t,e)}))},t.prototype.hu=function(t){var e=this,n=new Mr(new Fr([])),r=new Pc(n,t),i=new Pc(n,t+1),o=[];return this.ru.xt([r,i],(function(t){e.cu(t),o.push(t.key)})),o},t.prototype.lu=function(){var t=this;this.su.forEach((function(e){return t.cu(e)}))},t.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},t.prototype._u=function(t){var e=new Mr(new Fr([])),n=new Pc(e,t),r=new Pc(e,t+1),i=fi();return this.ru.xt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ro=function(t){var e=new Pc(t,0),n=this.su.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),Pc=function(){function t(t,e){this.key=t,this.fu=e}return t.iu=function(t,e){return Mr.D(t.key,e.key)||br(t.fu,e.fu)},t.ou=function(t,e){return br(t.fu,e.fu)||Mr.D(t.key,e.key)},t}();function Nc(t,e){return"firestore_clients_"+t+"_"+e}function Rc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Dc(t,e){return"firestore_targets_"+t+"_"+e}var jc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.du=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new ar(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(hr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new ar(r.error.code,r.error.message)),i?new t(e,r.state,o):(hr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=pi(),s=0;i&&s<r.activeTargetIds.length;++s)i=Br(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(hr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mc=function(){function t(){this.activeTargetIds=pi()}return t.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Uc=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new ti(br),this.br=!1,this.gu=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yu=Nc(this.persistenceKey,this.Iu),this.Vu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Pu=this.Pu.ot(this.Iu,new Mc),this.pu=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Su=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Au)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,l,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.mu.va()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Iu&&(o=this.getItem(Nc(this.persistenceKey,i)))&&(s=Lc.du(i,o))&&(this.Pu=this.Pu.ot(s.clientId,s));for(this.Du(),(a=this.storage.getItem(this.Su))&&(u=this.Cu(a))&&this.Nu(u),c=0,l=this.gu;c<l.length;c++)this.Ru(l[c]);return this.gu=[],this.window.addEventListener("unload",(function(){return h.ga()})),this.br=!0,[2]}}))}))},t.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},t.prototype.xu=function(){return this.Fu(this.Pu)},t.prototype.Ou=function(t){var e=!1;return this.Pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.ku=function(t){this.Mu(t,"pending")},t.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},t.prototype.Bu=function(t){var e="not-current";if(this.Ou(t)){var n=this.storage.getItem(Dc(this.persistenceKey,t));if(n){var r=Fc.du(t,n);r&&(e=r.state)}}return this.qu.Eu(t),this.Du(),e},t.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},t.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},t.prototype.Qu=function(t){this.removeItem(Dc(this.persistenceKey,t))},t.prototype.Wu=function(t,e,n){this.ju(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.Lu(t)})),this.currentUser=t,n.forEach((function(t){r.ku(t)}))},t.prototype.zu=function(t){this.Hu(t)},t.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ru=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yu)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,o,s,a;return Object(r.d)(this,(function(r){if(this.br){if(null!==n.key)if(this.pu.test(n.key)){if(null==n.newValue)return t=this.Yu(n.key),[2,this.Ju(t,null)];if(e=this.Xu(n.key,n.newValue))return[2,this.Ju(e.clientId,e)]}else if(this.bu.test(n.key)){if(null!==n.newValue&&(i=this.Zu(n.key,n.newValue)))return[2,this.th(i)]}else if(this.vu.test(n.key)){if(null!==n.newValue&&(o=this.eh(n.key,n.newValue)))return[2,this.nh(o)]}else if(n.key===this.Su){if(null!==n.newValue&&(s=this.Cu(n.newValue)))return[2,this.Nu(s)]}else n.key===this.Vu&&(a=function(t){var e=Aa.ir;if(null!=t)try{var n=JSON.parse(t);vr("number"==typeof n),e=n}catch(t){hr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Aa.ir&&this.tr(a)}else this.gu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),t.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},t.prototype.Mu=function(t,e,n){var r=new jc(this.currentUser,t,e,n),i=Rc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.wu())},t.prototype.Lu=function(t){var e=Rc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hu=function(t){this.storage.setItem(this.Su,JSON.stringify({clientId:this.Iu,onlineState:t}))},t.prototype.ju=function(t,e,n){var r=Dc(this.persistenceKey,t),i=new Fc(t,e,n);this.setItem(r,i.wu())},t.prototype.Yu=function(t){var e=this.pu.exec(t);return e?e[1]:null},t.prototype.Xu=function(t,e){var n=this.Yu(t);return Lc.du(n,e)},t.prototype.Zu=function(t,e){var n=this.bu.exec(t),r=Number(n[1]);return jc.du(new pa(void 0!==n[2]?n[2]:null),r,e)},t.prototype.eh=function(t,e){var n=this.vu.exec(t),r=Number(n[1]);return Fc.du(r,e)},t.prototype.Cu=function(t){return Vc.du(t)},t.prototype.th=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},t.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),o=this.Fu(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.mu.rh(s,a).then((function(){n.Pu=r}))},t.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},t.prototype.Fu=function(t){var e=pi();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),qc=function(){function t(){this.oh=new Mc,this.ah={},this.Cc=null,this.tr=null}return t.prototype.ku=function(t){},t.prototype.$u=function(t,e,n){},t.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},t.prototype.Wu=function(t,e,n){this.ah[t]=e},t.prototype.Uu=function(t){this.oh.Tu(t)},t.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.Qu=function(t){delete this.ah[t]},t.prototype.xu=function(){return this.oh.activeTargetIds},t.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.start=function(){return this.oh=new Mc,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.zu=function(t){},t.prototype.ga=function(){},t.prototype.sr=function(t){},t}(),Bc=function(t){this.key=t},zc=function(t){this.key=t},Hc=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=fi(),this.Qt=fi(),this._h=Cs(t),this.fh=new vi(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new yi,i=e?e.fh:this.fh,o=e?e.Qt:this.Qt,s=i,a=!1,u=fs(this.query)&&i.size===this.query.limit?i.last():null,c=ds(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof ss?e:null;h&&(h=Is(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),fs(this.query)||ds(this.query))for(;s.size>this.query.limit;){var l=fs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:s,Eh:r,Ih:a,Qt:o}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var o=t.Eh.Ut();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.mh(n);var s=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new mi(this.query,t.fh,i,o,t.Qt,0===a,u,!1),Rh:s}:{Rh:s}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new yi,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},t.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.mh=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=fi(),this.fh.forEach((function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new zc(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new Bc(t))})),n},t.prototype.gh=function(t){this.uh=t.za,this.lh=fi();var e=this.wh(t.documents);return this.Di(e,!0)},t.prototype.yh=function(){return mi.Gt(this.query,this.fh,this.Qt,0===this.hh)},t}(),Gc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Wc=function(t){this.key=t,this.Vh=!1},Kc=function(){function t(t,e,n,r,i,o){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new Nr((function(t){return Es(t)}),ks),this.xh=new Map,this.Fh=[],this.Oh=new ti(Mr.D),this.kh=new Map,this.Mh=new xc,this.$h={},this.Lh=new Map,this.Bh=Au.Vo(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function Qc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=kl(t),(o=n.Nh.get(e))?(n.Sh.Bu(o.targetId),i=o.view.yh(),[3,4]):[3,1];case 1:return[4,Wu(n.Bc,gs(e))];case 2:return s=r.sent(),a=n.Sh.Bu(s.targetId),[4,Zc(n,e,s.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&ac(n.ph,s),r.label=4;case 4:return[2,i]}}))}))}function Zc(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a,u,c,l;return Object(r.d)(this,(function(h){switch(h.label){case 0:return t.Kh=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=e.view.wh(n)).Ih?[4,Qu(t.Bc,e.query,!1).then((function(t){return e.view.wh(t.documents,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return s=i&&i.zt.get(e.targetId),a=e.view.Di(o,t.Uh,s),[2,(ul(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,i)},[4,Qu(t.Bc,e,!0)];case 1:return o=h.sent(),s=new Hc(e,o.za),a=s.wh(o.documents),u=bi.Zt(n,i&&"Offline"!==t.onlineState),c=s.Di(a,t.Uh,u),ul(t,n,c.Rh),l=new Gc(e,n,s),[2,(t.Nh.set(e,l),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),c.snapshot)]}}))}))}function Yc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=n.Nh.get(e),(o=n.xh.get(i.targetId)).length>1?[2,(n.xh.set(i.targetId,o.filter((function(t){return!ks(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Uu(i.targetId),n.Sh.Ou(i.targetId)?[3,2]:[4,Ku(n.Bc,i.targetId,!1).then((function(){n.Sh.Qu(i.targetId),uc(n.ph,i.targetId),sl(n,i.targetId)})).catch(Xu)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return sl(n,i.targetId),[4,Ku(n.Bc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Jc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=El(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=yr(t),i=Rr.now(),o=e.reduce((function(t,e){return t.add(e.key)}),fi());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.qi(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Go(c,n.get(c.key));null!=l&&s.push(new Zo(c.key,l,is(l.proto.mapValue),Uo.exists(!0)))}return r.Oi.Wr(t,i,s,e)}))})).then((function(t){var e=t.Ii(n);return{batchId:t.batchId,Ri:e}}))}(i.Bc,e)];case 2:return o=r.sent(),i.Sh.ku(o.batchId),function(t,e,n){var r=t.$h[t.currentUser.ti()];r||(r=new ti(br)),r=r.ot(e,n),t.$h[t.currentUser.ti()]=r}(i,o.batchId,n),[4,hl(i,o.Ri)];case 3:return r.sent(),[4,wc(i.ph)];case 4:return r.sent(),[3,6];case 5:return s=r.sent(),a=oa(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Xc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Hu(n.Bc,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(vr(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?vr(r.Vh):t.se.size>0&&(vr(r.Vh),r.Vh=!1))})),[4,hl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Xu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function $c(t,e,n){var r=yr(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=yr(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Ks(e)&&(r=!0)})),r&&fa(n)}(r.bh,e),i.length&&r.Ch.Tc(i),r.onlineState=e,r.Uh&&r.Sh.zu(e)}}function tl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=yr(t)).Sh.Wu(e,"rejected",n),o=i.kh.get(e),(s=o&&o.key)?(a=(a=new ti(Mr.D)).ot(s,new as(s,Dr.min())),u=fi().add(s),c=new gi(Dr.min(),new Map,new ri(br),a,u),[4,Xc(i,c)]):[3,2];case 1:return r.sent(),i.Oh=i.Oh.remove(s),i.kh.delete(e),ll(i),[3,4];case 2:return[4,Ku(i.Bc,e,!1).then((function(){return sl(i,e,n)})).catch(Xu)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function el(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Bu(n.Bc,e)];case 2:return o=r.sent(),ol(n,i,null),il(n,i),n.Sh.$u(i,"acknowledged"),[4,hl(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Xu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function nl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=yr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=yr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Oi.Gr(t,e).next((function(e){return vr(null!==e),r=e.keys(),n.Oi.Zr(t,e)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}(i.Bc,e)];case 2:return o=r.sent(),ol(i,e,n),il(i,e),i.Sh.$u(e,"rejected",n),[4,hl(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Xu(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function rl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:dc((n=yr(t)).ph)||lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=yr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Oi.Yr(t)}))}(n.Bc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.Lh.get(i)||[]).push(e),n.Lh.set(i,o),[3,4]);case 3:return s=r.sent(),a=oa(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function il(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function ol(t,e,n){var r=yr(t),i=r.$h[r.currentUser.ti()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i}}function sl(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var o=i[r];t.Nh.delete(o),n&&t.Ch.Qh(o,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach((function(e){t.Mh.ro(e)||al(t,e)}))}function al(t,e){var n=t.Oh.get(e);null!==n&&(uc(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),ll(t))}function ul(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Bc?(t.Mh.qo(o.key,e),cl(t,o)):o instanceof zc?(lr("SyncEngine","Document no longer in limbo: "+o.key),t.Mh.Ko(o.key,e),t.Mh.ro(o.key)||al(t,o.key)):pr()}}function cl(t,e){var n=e.key;t.Oh.get(n)||(lr("SyncEngine","New document in limbo: "+n),t.Fh.push(n),ll(t))}function ll(t){for(;t.Fh.length>0&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new Wc(e)),t.Oh=t.Oh.ot(e,n),ac(t.ph,new Yr(gs(hs(e.path)),n,2,Aa.ir))}}function hl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:return i=yr(t),o=[],s=[],a=[],i.Nh.P()?[3,3]:(i.Nh.forEach((function(t,r){a.push(i.Kh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Wu(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Ca.Zi(r.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Ch.Tc(o),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Gs.forEach(e,(function(e){return Gs.forEach(e.Ji,(function(r){return n.persistence.qr.qo(t,e.targetId,r)})).next((function(){return Gs.forEach(e.Xi,(function(r){return n.persistence.qr.Ko(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!Zs(i=r.sent()))throw i;return lr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.La.get(u),l=c.rt(c.nt),n.La=n.La.ot(u,l));return[2]}}))}))}(i.Bc,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function fl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=yr(t)).currentUser.isEqual(e)?[3,3]:(lr("SyncEngine","User change. New user:",e.ti()),[4,qu(n.Bc,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new ar(sr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.Gu(e,i.ja,i.Ga),[4,hl(n,i.Wa)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function dl(t,e){var n=yr(t),r=n.kh.get(e);if(r&&r.Vh)return fi().add(r.key);var i=fi(),o=n.xh.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Nh.get(a[s]);i=i.kt(u.view.dh)}return i}function pl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Qu((n=yr(t)).Bc,e.query,!0)];case 1:return i=r.sent(),o=e.view.gh(i),[2,(n.Uh&&ul(n,e.targetId,o.Rh),o)]}}))}))}function vl(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=yr(t),r=yr(n.Oi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.zr(t,e).next((function(e){return e?n.Ka.qi(t,e):Gs.resolve(null)}))}))}((o=yr(t)).Bc,e)];case 1:return null===(s=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,wc(o.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ol(o,e,i||null),il(o,e),function(t,e){yr(yr(t).Oi).no(e)}(o.Bc,e)):pr(),r.label=4;case 4:return[4,hl(o,s)];case 5:return r.sent(),[3,7];case 6:lr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function yl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return kl(n=yr(t)),El(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.xu(),[4,ml(n,i.L())]);case 1:return o=r.sent(),n.qh=!0,[4,Ac(n.ph,!0)];case 2:for(r.sent(),s=0,a=o;s<a.length;s++)ac(n.ph,a[s]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Sh.Ku(e)?u.push(e):c=c.then((function(){return sl(n,e),Ku(n.Bc,e,!0)})),uc(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,ml(n,u)];case 5:return r.sent(),function(t){var e=yr(t);e.kh.forEach((function(t,n){uc(e.ph,n)})),e.Mh.lu(),e.kh=new Map,e.Oh=new ti(Mr.D)}(n),n.qh=!1,[4,Ac(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function ml(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,l,h,f,d,p,v;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=yr(t),i=[],o=[],s=0,a=e,r.label=1;case 1:return s<a.length?(c=void 0,(l=n.xh.get(u=a[s]))&&0!==l.length?[4,Wu(n.Bc,gs(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,pl(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&o.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Zu(n.Bc,u)];case 8:return v=r.sent(),[4,Wu(n.Bc,v)];case 9:return c=r.sent(),[4,Zc(n,gl(v),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.Tc(o),i)]}}))}))}function gl(t){return ls(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bl(t){var e=yr(t);return yr(yr(e.Bc).persistence).va()}function wl(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var o,s,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(o=yr(t)).qh?(lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yu(o.Bc)];case 3:return s=r.sent(),a=gi.Xt(e,"current"===n),[4,hl(o,s,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ku(o.Bc,e,!0)];case 6:return r.sent(),sl(o,e,i),[3,8];case 7:pr(),r.label=8;case 8:return[2]}}))}))}function _l(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,h,f;return Object(r.d)(this,(function(d){switch(d.label){case 0:if(!(i=kl(t)).qh)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?i.xh.has(a=s[o])?(lr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Zu(i.Bc,a)]:[3,6];case 2:return u=d.sent(),[4,Wu(i.Bc,u)];case 3:return c=d.sent(),[4,Zc(i,gl(u),c.targetId,!1)];case 4:d.sent(),ac(i.ph,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return Object(r.d)(this,(function(e){switch(e.label){case 0:return i.xh.has(t)?[4,Ku(i.Bc,t,!1).then((function(){uc(i.ph,t),sl(i,t)})).catch(Xu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function kl(t){var e=yr(t);return e.ph.Uc.Xc=Xc.bind(null,e),e.ph.Uc.qe=dl.bind(null,e),e.ph.Uc.Jc=tl.bind(null,e),e.Ch.Tc=la.bind(null,e.bh),e.Ch.Qh=ha.bind(null,e.bh),e}function El(t){var e=yr(t);return e.ph.Uc.Zc=el.bind(null,e),e.ph.Uc.tu=nl.bind(null,e),e}var Sl=function(){function t(){}return t.prototype.Qa=function(t){this.Wh=t},t.prototype.Qi=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Dr.min())?this.jh(t,e):this.Wh.qi(t,r).next((function(s){var a=i.Gh(e,s);return(fs(e)||ds(e))&&i.Ih(e.an,a,r,n)?i.jh(t,e):(cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ss(e)),i.Wh.Qi(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Gh=function(t,e){var n=new ri(Cs(t));return e.forEach((function(e,r){r instanceof ss&&Is(t,r)&&(n=n.add(r))})),n},t.prototype.Ih=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.jh=function(t,e){return cr()<=o.a.DEBUG&&lr("IndexFreeQueryEngine","Using full collection scan to execute query:",Ss(e)),this.Wh.Qi(t,e,Dr.min())},t}(),Il=function(){function t(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new ri(Pc.iu)}return t.prototype.Qr=function(t){return Gs.resolve(0===this.Oi.length)},t.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++;var o=new wa(i,e,n,r);this.Oi.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Hh=this.Hh.add(new Pc(u.key,i)),this.ki.jr(t,u.key.path.F())}return Gs.resolve(o)},t.prototype.Gr=function(t,e){return Gs.resolve(this.Yh(e))},t.prototype.Hr=function(t,e){var n=this.Jh(e+1),r=n<0?0:n;return Gs.resolve(this.Oi.length>r?this.Oi[r]:null)},t.prototype.Yr=function(){return Gs.resolve(0===this.Oi.length?-1:this.zh-1)},t.prototype.Jr=function(t){return Gs.resolve(this.Oi.slice())},t.prototype.$i=function(t,e){var n=this,r=new Pc(e,0),i=new Pc(e,Number.POSITIVE_INFINITY),o=[];return this.Hh.xt([r,i],(function(t){var e=n.Yh(t.fu);o.push(e)})),Gs.resolve(o)},t.prototype.Ki=function(t,e){var n=this,r=new ri(br);return e.forEach((function(t){var e=new Pc(t,0),i=new Pc(t,Number.POSITIVE_INFINITY);n.Hh.xt([e,i],(function(t){r=r.add(t.fu)}))})),Gs.resolve(this.Xh(r))},t.prototype.Hi=function(t,e){var n=e.path,r=n.length+1,i=n;Mr.X(i)||(i=i.child(""));var o=new Pc(new Mr(i),0),s=new ri(br);return this.Hh.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(s=s.add(t.fu)),!0)}),o),Gs.resolve(this.Xh(s))},t.prototype.Xh=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Yh(t);null!==r&&n.push(r)})),n},t.prototype.Zr=function(t,e){var n=this;vr(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return Gs.forEach(e.mutations,(function(i){var o=new Pc(i.key,e.batchId);return r=r.delete(o),n.qr.so(t,i.key)})).next((function(){n.Hh=r}))},t.prototype.no=function(t){},t.prototype.ro=function(t,e){var n=new Pc(e,0),r=this.Hh.Ot(n);return Gs.resolve(e.isEqual(r&&r.key))},t.prototype.io=function(t){return Gs.resolve()},t.prototype.Zh=function(t,e){return this.Jh(t)},t.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},t.prototype.Yh=function(t){var e=this.Jh(t);return e<0||e>=this.Oi.length?null:this.Oi[e]},t}(),Cl=function(){function t(t,e){this.ki=t,this.tl=e,this.docs=new ti(Mr.D),this.size=0}return t.prototype.yi=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:s,readTime:n}),this.size+=s-o,this.ki.jr(t,r.path.F())},t.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.bi=function(t,e){var n=this.docs.get(e);return Gs.resolve(n?n.ho:null)},t.prototype.getEntries=function(t,e){var n=this,r=ai();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)})),Gs.resolve(r)},t.prototype.Qi=function(t,e,n){for(var r=ci(),i=new Mr(e.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.value,u=a.ho,c=a.readTime;if(!e.path.M(s.key.path))break;c.u(n)<=0||u instanceof ss&&Is(e,u)&&(r=r.ot(u.key,u))}return Gs.resolve(r)},t.prototype.el=function(t,e){return Gs.forEach(this.docs,(function(t){return e(t)}))},t.prototype.wo=function(t){return new Al(this)},t.prototype.To=function(t){return Gs.resolve(this.size)},t}(),Al=function(t){function e(e){var n=this;return(n=t.call(this)||this).Io=e,n}return Object(r.c)(e,t),e.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach((function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)})),Gs.On(n)},e.prototype.vi=function(t,e){return this.Io.bi(t,e)},e.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},e}(ka),Tl=function(){function t(t){this.persistence=t,this.nl=new Nr((function(t){return Gr(t)}),Wr),this.lastRemoteSnapshotVersion=Dr.min(),this.highestTargetId=0,this.sl=0,this.il=new xc,this.targetCount=0,this.rl=Au.yo()}return t.prototype.Ce=function(t,e){return this.nl.forEach((function(t,n){return e(n)})),Gs.resolve()},t.prototype.So=function(t){return Gs.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Do=function(t){return Gs.resolve(this.sl)},t.prototype.po=function(t){return this.highestTargetId=this.rl.next(),Gs.resolve(this.highestTargetId)},t.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),Gs.resolve()},t.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new Au(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},t.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,Gs.resolve()},t.prototype.Oo=function(t,e){return this.xo(e),Gs.resolve()},t.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),this.targetCount-=1,Gs.resolve()},t.prototype.Or=function(t,e,n){var r=this,i=0,o=[];return this.nl.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.nl.delete(s),o.push(r.Mo(t,a.targetId)),i++)})),Gs.On(o).next((function(){return i}))},t.prototype.$o=function(t){return Gs.resolve(this.targetCount)},t.prototype.Lo=function(t,e){var n=this.nl.get(e)||null;return Gs.resolve(n)},t.prototype.Bo=function(t,e,n){return this.il.au(e,n),Gs.resolve()},t.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach((function(e){i.push(r.so(t,e))})),Gs.On(i)},t.prototype.Mo=function(t,e){return this.il.hu(e),Gs.resolve()},t.prototype.Qo=function(t,e){var n=this.il._u(e);return Gs.resolve(n)},t.prototype.ro=function(t,e){return Gs.resolve(this.il.ro(e))},t}(),Ol=function(){function t(t){var e=this;this.ol={},this.zo=new Aa(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new Tl(this),this.ki=new su,this.Fi=function(t,n){return new Cl(t,(function(t){return e.qr.al(t)}))}(this.ki)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.ha=function(){},t.prototype.la=function(){},t.prototype.Na=function(){return this.ki},t.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new Il(this.ki,this.qr),this.ol[t.ti()]=e),e},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.runTransaction=function(t,e,n){var r=this;lr("MemoryPersistence","Starting transaction:",t);var i=new xl(this.zo.next());return this.qr.cl(),n(i).next((function(t){return r.qr.ul(i).next((function(){return t}))})).xn().then((function(t){return i.xi(),t}))},t.prototype.hl=function(t,e){return Gs.kn(Object.values(this.ol).map((function(n){return function(){return n.ro(t,e)}})))},t}(),xl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Wo=e,n}return Object(r.c)(e,t),e}(Sa),Pl=function(){function t(t){this.persistence=t,this.ll=new xc,this._l=null}return t.fl=function(e){return new t(e)},Object.defineProperty(t.prototype,"dl",{get:function(){if(this._l)return this._l;throw pr()},enumerable:!1,configurable:!0}),t.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),Gs.resolve()},t.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),Gs.resolve()},t.prototype.so=function(t,e){return this.dl.add(e.toString()),Gs.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach((function(t){return n.dl.add(t.toString())}));var r=this.persistence.Da();return r.Qo(t,e.targetId).next((function(t){t.forEach((function(t){return n.dl.add(t.toString())}))})).next((function(){return r.ko(t,e)}))},t.prototype.cl=function(){this._l=new Set},t.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return Gs.forEach(this.dl,(function(r){var i=Mr.H(r);return e.wl(t,i).next((function(t){t||n.pi(i)}))})).next((function(){return e._l=null,n.apply(t)}))},t.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next((function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())}))},t.prototype.al=function(t){return 0},t.prototype.wl=function(t,e){var n=this;return Gs.kn([function(){return Gs.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},t}(),Nl=function(){function t(t){this.El=t.El,this.Tl=t.Tl}return t.prototype.wc=function(t){this.Il=t},t.prototype.hc=function(t){this.ml=t},t.prototype.onMessage=function(t){this.Al=t},t.prototype.close=function(){this.Tl()},t.prototype.send=function(t){this.El(t)},t.prototype.Rl=function(){this.Il()},t.prototype.Pl=function(t){this.ml(t)},t.prototype.gl=function(t){this.Al(t)},t}(),Rl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(r.c)(e,t),e.prototype.Sl=function(t,e,n,r){return new Promise((function(i,o){var s=new ir;s.listenOnce(nr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case er.NO_ERROR:var e=s.getResponseJson();lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case er.TIMEOUT:lr("Connection",'RPC "'+t+'" timed out'),o(new ar(sr.DEADLINE_EXCEEDED,"Request time out"));break;case er.HTTP_ERROR:var n=s.getStatus();if(lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(sr).indexOf(e)>=0?e:sr.UNKNOWN}(r.status);o(new ar(a,r.message))}else o(new ar(sr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ar(sr.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{lr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Yn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.vl(i.initMessageHeaders,e),Object(s.m)()||Object(s.o)()||Object(s.k)()||Object(s.l)()||Object(s.p)()||Object(s.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");lr("Connection","Creating WebChannel: "+o,i);var a=r.createWebChannel(o,i),u=!1,c=!1,l=new Nl({El:function(t){c?lr("Connection","Not sending because WebChannel is closed:",t):(u||(lr("Connection","Opening WebChannel transport."),a.open(),u=!0),lr("Connection","WebChannel sending:",t),a.send(t))},Tl:function(){return a.close()}}),h=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(rr.EventType.OPEN,(function(){c||lr("Connection","WebChannel transport opened.")})),h(rr.EventType.CLOSE,(function(){c||(c=!0,lr("Connection","WebChannel transport closed"),l.Pl())})),h(rr.EventType.ERROR,(function(t){c||(c=!0,fr("Connection","WebChannel transport errored:",t),l.Pl(new ar(sr.UNAVAILABLE,"The operation could not be completed")))})),h(rr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];vr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lr("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Qr[t];if(void 0!==e)return $r(e)}(i),s=r.message;void 0===o&&(o=sr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pl(new ar(o,s)),a.close()}else lr("Connection","WebChannel received:",n),l.gl(n)}})),setTimeout((function(){l.Rl()}),0),l},e}(function(){function t(t){this.yl=t,this._=t._,this.Vl=(t.ssl?"https":"http")+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);lr("RestConnection","Sending: ",i,n);var o={};return this.vl(o,r),this.Sl(t,i,o,n).then((function(t){return lr("RestConnection","Received: ",t),t}),(function(e){throw fr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},t.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},t.prototype.bl=function(t,e){return this.Vl+"/v1/"+e+":"+Rl[t]},t}()),jl=function(){function t(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}return t.prototype.zc=function(t){this.Fl.push(t)},t.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},t.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},t.prototype.Cl=function(){lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},t.prototype.xl=function(){lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Fl=function(){function t(){}return t.prototype.zc=function(t){},t.prototype.ga=function(){},t}();function Ll(t){return new Ki(t,!0)}var Vl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}}))}))},t.prototype.Ll=function(t){return null},t.prototype.Bl=function(t){return e=this.persistence,n=new Sl,new Uu(e,n,t.ql);var e,n},t.prototype.Ml=function(t){return new Ol(Pl.fl)},t.prototype.kl=function(t){return new qc},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}}))}))},t}(),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ul=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ju(this.Bc)];case 2:return n.sent(),[4,this.Ul.initialize(this,e)];case 3:return n.sent(),[4,El(this.Ul.mu)];case 4:return n.sent(),[4,wc(this.Ul.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ll=function(t){return new Na(this.persistence.qr.gr,t.cs)},e.prototype.Ml=function(t){var e=Mu(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?Pa.Ir(this.cacheSizeBytes):Pa.Rr,r=Ll(t.yl._);return new Du(this.synchronizeTabs,e,t.clientId,n,t.cs,ea(),na(),r,this.Sh,!!this.forceOwnership)},e.prototype.kl=function(t){return new qc},e}(Vl),Ul=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ul=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Ul.mu,this.Sh instanceof Uc?(this.Sh.mu={sh:vl.bind(null,n),ih:wl.bind(null,n),rh:_l.bind(null,n),va:bl.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.ua((function(t){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,yl(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.kl=function(t){var e=ea();if(!Uc.Ln(e))throw new ar(sr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mu(t.yl._,t.yl.persistenceKey);return new Uc(e,t.cs,n,t.clientId,t.ql)},e}(Ml),ql=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(e),this.ph=this.Ql(e),this.bh=this.Wl(e),this.mu=this.jl(e,!t.synchronizeTabs),this.Sh.Cc=function(t){return $c(n.mu,t,1)},this.ph.Uc.Gl=fl.bind(null,this.mu),[4,Ac(this.ph,this.mu.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Wl=function(t){return new aa},t.prototype.Kl=function(t){var e=Ll(t.yl._),n=new Dl(t.yl);return function(t,e,n){return new nc(t,e,n)}(t.credentials,n,e)},t.prototype.Ql=function(t){var e,n,r,i,o,s=this;return e=this.Bc,n=this.qc,r=t.cs,i=function(t){return $c(s.mu,t,0)},o=jl.Ln()?new jl:new Fl,new ic(e,n,r,i,o)},t.prototype.jl=function(t,e){return function(t,e,n,r,i,o,s){var a=new Kc(t,e,n,r,i,o);return s&&(a.qh=!0),a}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},t.prototype.terminate=function(){return function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=yr(t),lr("RemoteStore","RemoteStore shutting down."),e.Wc.add(5),[4,sc(e)];case 1:return n.sent(),e.Gc.ga(),e.Hc.set("Unknown"),[2]}}))}))}(this.ph)},t}(),Bl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Hl=function(){this.muted=!0},t.prototype.zl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function zl(t,e,n){if(!n)throw new ar(sr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ar(sr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gl(t,e,n,r){if(!0===e&&!0===r)throw new ar(sr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Wl(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pr()}function Kl(t,e){if(e<=0)throw new ar(sr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ql=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new ar(sr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new Vr(t)},Zl=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Vr.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Yl.isEqual(t.Yl)},e}(Ql),Yl=new RegExp("[~\\*/\\[\\]]"),Jl=function(t){this.Jl=t},Xl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.Xl=function(t){if(2!==t.Zl)throw t.t_(1===t.Zl?this.Jl+"() can only appear at the top level of your update data":this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Jl);function $l(t,e,n){return new hh({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.Xl=function(t){return new Vo(t.path,new Oo)},e.prototype.isEqual=function(t){return t instanceof e},e}(Jl),eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=$l(this,t,!0),n=this.s_.map((function(t){return mh(t,e)})),r=new xo(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jl),nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=$l(this,t,!0),n=this.s_.map((function(t){return mh(t,e)})),r=new No(n);return new Vo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Jl),rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).i_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=new Do(t.serializer,Yi(t.serializer,this.i_));return new Vo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Jl),ih=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ar(sr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ar(sr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},t.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},t.prototype.g=function(t){return br(this.r_,t.r_)||br(this.o_,t.o_)},t}(),oh=function(t){this.a_=t},sh=/^__.*__$/,ah=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},uh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[];return n.push(null!==this.Qe?new Zo(t,this.data,this.Qe,e):new Qo(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Jo(t,this.fieldTransforms)),n},t}(),ch=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[new Zo(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Jo(t,this.fieldTransforms)),n},t}();function lh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}var hh=function(){function t(t,e,n,r,i,o){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),t.prototype.f_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.d_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.w_(t),r},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.__(),r},t.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},t.prototype.t_=function(t){return Eh(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},t.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},t.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(lh(this.Zl)&&sh.test(t))throw this.t_('Document fields cannot begin and end with "__"')},t}(),fh=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ll(t)}return t.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new hh({Zl:t,methodName:e,e_:n,path:Vr.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function dh(t,e,n,r,i,o){void 0===o&&(o={});var s=t.m_(o.merge||o.mergeFields?2:0,e,n,i);wh("Data must be an object, but it was:",s,r);var a,u,c=gh(r,s);if(o.merge)a=new Lo(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Ql)p=d.Yl;else{if("string"!=typeof d)throw pr();p=kh(e,d,n)}if(!s.contains(p))throw new ar(sr.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Sh(l,p)||l.push(p)}a=new Lo(l),u=s.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,u=s.fieldTransforms;return new uh(new ns(c),a,u)}function ph(t,e,n,r){var i=t.m_(1,e,n);wh("Data must be an object, but it was:",i,r);var o=[],s=new rs;xr(r,(function(t,r){var a=kh(e,t,n),u=i.E_(a);if(r instanceof Xl||r instanceof oh&&r.a_ instanceof Xl)o.push(a);else{var c=mh(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new Lo(o);return new ch(s.Xe(),a,i.fieldTransforms)}function vh(t,e,n,r,i,o){var s=t.m_(1,e,n),a=[_h(e,r,n)],u=[i];if(o.length%2!=0)throw new ar(sr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(_h(e,o[c])),u.push(o[c+1]);for(var l=[],h=new rs,f=a.length-1;f>=0;--f)if(!Sh(l,a[f])){var d=a[f],p=u[f],v=s.E_(d);if(p instanceof Xl||p instanceof oh&&p.a_ instanceof Xl)l.push(d);else{var y=mh(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new Lo(l);return new ch(h.Xe(),m,s.fieldTransforms)}function yh(t,e,n,r){return void 0===r&&(r=!1),mh(n,t.m_(r?4:3,e))}function mh(t,e){if(t instanceof oh&&(t=t.a_),bh(t))return wh("Unsupported field value:",e,t),gh(t,e);if(t instanceof Jl)return function(t,e){if(!lh(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");var n=t.Xl(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=mh(o[i],e.T_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yi(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rr.fromDate(t);return{timestampValue:Ji(e.serializer,n)}}if(t instanceof Rr){var r=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ji(e.serializer,r)}}if(t instanceof ih)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Er)return{bytesValue:Xi(e.serializer,t.l)};if(t instanceof ah){var i=e._,o=t.c_;if(!o.isEqual(i))throw e.t_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:eo(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+Wl(t))}(t,e)}function gh(t,e){var n={};return Pr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):xr(t,(function(t,r){var i=mh(r,e.d_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function bh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof ih||t instanceof Er||t instanceof ah||t instanceof Jl)}function wh(t,e,n){if(!bh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wl(n);throw e.t_("an object"===r?t+" a custom object":t+" "+r)}}function _h(t,e,n){if(e instanceof Ql)return e.Yl;if("string"==typeof e)return kh(t,e);throw Eh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function kh(t,e,n){try{return function(t){if(t.search(Yl)>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Zl.bind.apply(Zl,Object(r.g)([void 0],t.split("."))))}catch(e){throw new ar(sr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yl}catch(e){throw Eh((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Eh(t,e,n,r,i){var o=r&&!r.P(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ar(sr.INVALID_ARGUMENT,(a+=". ")+t+u)}function Sh(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ih=function(){function t(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}return t.prototype.y_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.V_(),this.mutations.length>0)throw new ar(sr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o,s,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=ao(n.serializer)+"/documents",o={documents:e.map((function(t){return ro(n.serializer,t)}))},[4,n.Dc("BatchGetDocuments",i,o)];case 1:return s=r.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){vr(!!e.found);var n=io(t,e.found.name),r=to(e.found.updateTime),i=new ns({mapValue:{fields:e.found.fields}});return new ss(n,r,i,{})}(t,e):"missing"in e?function(t,e){vr(!!e.missing),vr(!!e.readTime);var n=io(t,e.missing),r=to(e.readTime);return new as(n,r)}(t,e):pr()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());vr(!!e),u.push(e)})),u)]}}))}))}(this.qc,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof as||t instanceof ss?n.p_(t):pr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},t.prototype.delete=function(t){this.write([new ts(t,this.Ge(t))]),this.g_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Mr.H(n);e.mutations.push(new es(r,e.Ge(r)))})),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=yr(t),i=ao(n.serializer)+"/documents",o={writes:e.map((function(t){return lo(n.serializer,t)}))},[4,n.Sc("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.qc,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},t.prototype.p_=function(t){var e;if(t instanceof ss)e=t.version;else{if(!(t instanceof as))throw pr();e=Dr.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ar(sr.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?Uo.updateTime(e):Uo.ze()},t.prototype.b_=function(t){var e=this.A_.get(t.toString());if(!this.g_.has(t.toString())&&e){if(e.isEqual(Dr.min()))throw new ar(sr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uo.updateTime(e)}return Uo.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),Ch=function(){function t(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new Hs(this.cs,"transaction_retry")}return t.prototype.run=function(){this.S_()},t.prototype.S_=function(){var t=this;this.ys.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.d)(this,(function(r){return t=new Ih(this.qc),(e=this.D_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.C_(t)}))}))})).catch((function(t){n.C_(t)})),[2]}))}))}))},t.prototype.D_=function(t){try{var e=this.updateFunction(t);return!Ur(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.C_=function(t){var e=this;this.v_>0&&this.N_(t)?(this.v_-=1,this.cs.ws((function(){return e.S_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.N_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Xr(e)}return!1},t}(),Ah=function(){function t(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=pa.UNAUTHENTICATED,this.clientId=gr.t(),this.x_=function(){},this.ui=new zs,this.credentials.oi((function(t){lr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()}))}return t.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}}))}))},t.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then((function(){return e.x_(e.user)}))},t.prototype.O_=function(){if(this.cs.ps)throw new ar(sr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new zs;return this.cs.bs((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ai(),e.resolve(),[3,6];case 5:return t=r.sent(),n=oa(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Th(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.cs.Fs(),lr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),t.F_((function(n){return t.cs.Cs((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,qu(e.Bc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.ha((function(){return t.terminate()})),t.M_=e,[2]}}))}))}function Oh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(o){switch(o.label){case 0:return t.cs.Fs(),[4,xh(t)];case 1:return n=o.sent(),lr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.F_((function(n){return t.cs.Cs((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=yr(t)).cs.Fs(),lr("RemoteStore","RemoteStore received new credentials"),i=dc(n),n.Wc.add(3),[4,sc(n)];case 1:return r.sent(),i&&n.Hc.set("Unknown"),[4,n.Uc.Gl(e)];case 2:return r.sent(),n.Wc.delete(3),[4,oc(n)];case 3:return r.sent(),[2]}}))}))}(e.ph,n)}))})),t.k_=e,[2]}}))}))}function xh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.M_?[3,2]:(lr("FirestoreClient","Using default OfflineComponentProvider"),[4,Th(t,new Vl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}}))}))}function Ph(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.k_?[3,2]:(lr("FirestoreClient","Using default OnlineComponentProvider"),[4,Oh(t,new ql)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}}))}))}function Nh(t){return xh(t).then((function(t){return t.persistence}))}function Rh(t){return xh(t).then((function(t){return t.Bc}))}function Dh(t){return Ph(t).then((function(t){return t.ph}))}function jh(t){return Ph(t).then((function(t){return t.mu}))}function Fh(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Ph(t)];case 1:return e=r.sent(),[2,((n=e.bh).Us=Qc.bind(null,e.mu),n.Ws=Yc.bind(null,e.mu),n)]}}))}))}function Lh(t,e,n,i){var o=this,s=new Bl(i),a=new da(e,s,n);return t.cs.ws((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=ua,[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Hl(),t.cs.ws((function(){return Object(r.b)(o,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=ca,[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}function Vh(t,e){var n=this,i=new zs;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Jc,[4,jh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}function Mh(t,e){var n=this,i=new Bl(e);return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){yr(t).qs.add(e),e.next()},[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Hl(),t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){yr(t).qs.delete(e)},[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}function Uh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var qh=function(){function t(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}return t.prototype.U_=function(t){switch(xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(Vi(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw pr()}},t.prototype.z_=function(t){var e=this,n={};return xr(t.fields||{},(function(t,r){n[t]=e.U_(r)})),n},t.prototype.j_=function(t){return new ih(Li(t.latitude),Li(t.longitude))},t.prototype.G_=function(t){var e=this;return(t.values||[]).map((function(t){return e.U_(t)}))},t.prototype.Q_=function(t){switch(this.L_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ai(n)?t(n):n}(t);return null==e?null:this.U_(e);case"estimate":return this.K_(Ti(t));default:return null}},t.prototype.K_=function(t){var e=Fi(t);return new Rr(e.seconds,e.nanos)},t.prototype.W_=function(t){var e=Fr.q(t);vr(So(e));var n=new Tr(e.get(1),e.get(3)),r=new Mr(e.N(5));return n.isEqual(this._)||hr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(r)},t}(),Bh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ar(sr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ar(sr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Gl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function zh(t){Wh(t);var e=Jh(t),n=t.H_(),r=new ql;return Hh(e,r,new Ul(r,n.cacheSizeBytes))}function Hh(t,e,n){var i=this,o=new zs;return t.cs.enqueue((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Th(t,n)];case 1:return r.sent(),[4,Oh(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===sr.FAILED_PRECONDITION||t.code===sr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Gh(t){var e=this;if(t.Y_&&!t.J_)throw new ar(sr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new zs;return t.X_.bs((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return Ws.Ln()?[4,Ws.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Mu(t.c_,t.Z_))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}function Wh(t){if(t.Y_||t.J_)throw new ar(sr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kh="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Qh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new ar(sr.FAILED_PRECONDITION,Kh)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new ar(sr.FAILED_PRECONDITION,Kh)},t.prototype.clearIndexedDbPersistence=function(t){throw new ar(sr.FAILED_PRECONDITION,Kh)},t}(),Zh=function(){function t(){this.enableMultiTabIndexedDbPersistence=zh.bind(null),this.clearIndexedDbPersistence=Gh.bind(null)}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Wh(t);var n=Jh(t),r=t.H_(),i=new ql;return Hh(n,i,new Ml(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},t}(),Yh=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Qh),this.tf=i,this.ef=null,this.X_=new ia,this.INTERNAL={delete:function(){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.nf||Xh(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.ef=s,this.c_=t.sf(s),this.Z_=s.name,this.if=new ma(n)}else{var a=e;if(!a.projectId)throw new ar(sr.INVALID_ARGUMENT,"Must provide projectId");this.c_=new Tr(a.projectId,a.database),this.Z_="[DEFAULT]",this.if=new ya}this.rf=new Bh({})}return Object.defineProperty(t.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.cf||(this.cf=new fh(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge;var e=new Bh(t);if(this.nf&&!this.rf.isEqual(e))throw new ar(sr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.rf=e,void 0!==e.credentials&&(this.if=function(t){if(!t)return new ya;switch(t.type){case"gapi":var e=t.client;return vr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ba(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ar(sr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return Jh(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Nh(t)];case 1:return e=r.sent(),[4,Dh(t)];case 2:return n=r.sent(),[2,(e.la(!0),function(t){var e=yr(t);return e.Wc.delete(0),oc(e)}(n))]}}))}))}))}(this.nf)},t.prototype.disableNetwork=function(){return Jh(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,Nh(t)];case 1:return e=i.sent(),[4,Dh(t)];case 2:return n=i.sent(),[2,(e.la(!1),function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=yr(t)).Wc.add(0),[4,sc(e)];case 1:return n.sent(),e.Hc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(this.nf)},t.prototype.enablePersistence=function(t){if(this.nf)throw new ar(sr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Gl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return[2,this.tf.clearIndexedDbPersistence(this)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},t.prototype.waitForPendingWrites=function(){return Jh(this),function(t){var e=this,n=new zs;return t.cs.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=rl,[4,jh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(this.nf)},t.prototype.onSnapshotsInSync=function(t){return Jh(this),Uh(t)?Mh(this.nf,t):Mh(this.nf,{next:t})},t.sf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new ar(sr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new ar(sr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Tr(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ef)throw new ar(sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return zl("Firestore.collection","path",t),Jh(this),new ff(Fr.q(t),this,null)},t.prototype.doc=function(t){return zl("Firestore.doc","path",t),Jh(this),ef.uf(Fr.q(t),this,null)},t.prototype.collectionGroup=function(t){if(zl("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Jh(this),new lf(function(t){return new cs(Fr.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,i=new zs;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t){return Ph(t).then((function(t){return t.qc}))}(t)];case 1:return n=r.sent(),new Ch(t.cs,n,e,i).run(),[2]}}))}))})),i.promise}(Jh(this),(function(n){return t(new $h(e,n))}))},t.prototype.batch=function(){return Jh(this),new tf(this)},t.prototype.H_=function(){return this.rf},t}();function Jh(t){return t.nf||Xh(t),t.nf.O_(),t.nf}function Xh(t){var e=t.H_(),n=function(t,e,n){return new Ar(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.c_,t.Z_,e);t.nf=new Ah(t.if,t.X_,n)}var $h=function(){function t(t,e){this.hf=t,this.lf=e}return t.prototype.get=function(t){var e=this,n=df(0,t,this.hf);return this.lf.y_([n.u_]).then((function(t){if(!t||1!==t.length)return pr();var r=t[0];if(r instanceof as)return new rf(e.hf,n.u_,null,!1,!1,n.h_);if(r instanceof ss)return new rf(e.hf,n.u_,r,!1,!1,n.h_);throw pr()}))},t.prototype.set=function(t,e,n){var r=df(0,t,this.hf);n=Hl("Transaction.set",n);var i=vf(r.h_,e,n),o=dh(this.hf.af,"Transaction.set",r.u_,i,null!==r.h_,n);return this.lf.set(r.u_,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Zl?(r=df(0,t,this.hf),i=vh(this.hf.af,"Transaction.update",r.u_,e,n,o)):(r=df(0,t,this.hf),i=ph(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,i),this},t.prototype.delete=function(t){var e=df(0,t,this.hf);return this.lf.delete(e.u_),this},t}(),tf=function(){function t(t){this.hf=t,this._f=[],this.ff=!1}return t.prototype.set=function(t,e,n){this.df();var r=df(0,t,this.hf);n=Hl("WriteBatch.set",n);var i=vf(r.h_,e,n),o=dh(this.hf.af,"WriteBatch.set",r.u_,i,null!==r.h_,n);return this._f=this._f.concat(o.l_(r.u_,Uo.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.df(),"string"==typeof e||e instanceof Zl?(r=df(0,t,this.hf),i=vh(this.hf.af,"WriteBatch.update",r.u_,e,n,o)):(r=df(0,t,this.hf),i=ph(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(i.l_(r.u_,Uo.exists(!0))),this},t.prototype.delete=function(t){this.df();var e=df(0,t,this.hf);return this._f=this._f.concat(new ts(e.u_,Uo.ze())),this},t.prototype.commit=function(){return this.df(),this.ff=!0,this._f.length>0?Vh(Jh(this.hf),this._f):Promise.resolve()},t.prototype.df=function(){if(this.ff)throw new ar(sr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.c_,e,r)||this).u_=e,i.firestore=n,i.h_=r,i.nf=Jh(n),i}return Object(r.c)(e,t),e.uf=function(t,n,r){if(t.length%2!=0)throw new ar(sr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Mr(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ff(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(zl("DocumentReference.collection","path",t),!t)throw new ar(sr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Fr.q(t);return new ff(this.u_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},e.prototype.set=function(t,e){e=Hl("DocumentReference.set",e);var n=vf(this.h_,t,e),r=dh(this.firestore.af,"DocumentReference.set",this.u_,n,null!==this.h_,e);return Vh(this.nf,r.l_(this.u_,Uo.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Zl?vh(this.firestore.af,"DocumentReference.update",this.u_,t,e,r):ph(this.firestore.af,"DocumentReference.update",this.u_,t),Vh(this.nf,n.l_(this.u_,Uo.exists(!0)))},e.prototype.delete=function(){return Vh(this.nf,[new ts(this.u_,Uo.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Uh(i[a])||(s=i[a],a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(Uh(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){i[a]&&i[a](r.wf(t))},error:i[a+1],complete:i[a+2]};return Lh(this.nf,hs(this.u_.path),u,l)},e.prototype.get=function(t){var e=this;return t&&"cache"===t.source?function(t,e){var n=this,i=new zs;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=yr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Mi(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof ss?n.resolve(i):i instanceof as?n.resolve(null):n.reject(new ar(sr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return o=r.sent(),s=oa(o,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,Rh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(this.nf,this.u_).then((function(t){return new rf(e.firestore,e.u_,t,!0,t instanceof ss&&t.Je,e.h_)})):function(t,e,n){var i=this;void 0===n&&(n={});var o=new zs;return t.cs.ws((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Bl({next:function(o){e.ws((function(){return ca(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ar(sr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ar(sr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new da(hs(n.path),o,{includeMetadataChanges:!0,Xs:!0});return ua(t,s)},[4,Fh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.cs,e,n,o])]}}))}))})),o.promise}(this.nf,this.u_,t).then((function(t){return e.wf(t)}))},e.prototype.withConverter=function(t){return new e(this.u_,this.firestore,t)},e.prototype.wf=function(t){var e=t.docs.get(this.u_);return new rf(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},e}(ah),nf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rf=function(){function t(t,e,n,r,i,o){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=o}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new of(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new qh(this.hf.c_,t.serverTimestamps||"none",(function(t){return new ef(t,e.hf,null)}),(function(t){return new Cr(t)})).U_(this.Ef.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef){var r=this.Ef.data().field(_h("DocumentSnapshot.get",t,this.u_));if(null!==r)return new qh(this.hf.c_,e.serverTimestamps||"none",(function(t){return new ef(t,n.hf,n.h_)}),(function(t){return new Cr(t)})).U_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ef(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new nf(this.If,this.Tf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&this.Tf===e.Tf&&this.u_.isEqual(e.u_)&&(null===this.Ef?null===e.Ef:this.Ef.isEqual(e.Ef))&&this.h_===e.h_},t}(),of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(rf);function sf(t,e,n){if("string"==typeof n){if(""===n)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ys(e)&&-1!==n.indexOf("/"))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fr.q(n));if(!Mr.X(r))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mi(t,new Mr(r))}if(n instanceof ah)return Mi(t,n.u_);throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wl(n)+".")}function af(t,e){if(!Array.isArray(t)||0===t.length)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uf(t,e,n){if(!n.isEqual(e))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function cf(t){if(ds(t)&&0===t.on.length)throw new ar(sr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=function(){function t(t,e,n){this.mf=t,this.firestore=e,this.h_=n}return t.prototype.where=function(e,n,r){var i=_h("Query.where",e),o=function(t,e,n,r,i,o,s){var a;if(i.W()){if("array-contains"===o||"array-contains-any"===o)throw new ar(sr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){af(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(sf(r,t,l[c]));a={arrayValue:{values:u}}}else a=sf(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||af(s,o),a=yh(n,"Query.where",s,"in"===o||"not-in"===o);var h=As.create(i,o,a);return function(t,e){if(e.hn()){var n=vs(t);if(null!==n&&!n.isEqual(e.field))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ps(t);null!==r&&uf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ar(sr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.mf,0,this.firestore.af,this.firestore.c_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new cs(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new ar(sr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=_h("Query.orderBy",e),o=function(t,e,n){if(null!==t.startAt)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Us(e,n);return function(t,e){if(null===ps(t)){var n=vs(t);null!==n&&uf(0,n,e.field)}}(t,r),r}(this.mf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new cs(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.mf,o),this.firestore,this.h_)},t.prototype.limit=function(e){return Kl("Query.limit",e),new t(bs(this.mf,e,"F"),this.firestore,this.h_)},t.prototype.limitToLast=function(e){return Kl("Query.limitToLast",e),new t(bs(this.mf,e,"L"),this.firestore,this.h_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAt",e,n,!0);return new t(ws(this.mf,i),this.firestore,this.h_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAfter",e,n,!1);return new t(ws(this.mf,i),this.firestore,this.h_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endBefore",e,n,!0);return new t(_s(this.mf,i),this.firestore,this.h_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endAt",e,n,!1);return new t(_s(this.mf,i),this.firestore,this.h_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&ks(this.mf,e.mf)&&this.h_===e.h_},t.prototype.withConverter=function(e){return new t(this.mf,this.firestore,e)},t.prototype.Af=function(t,e,n,r){if(e instanceof rf)return function(t,e,n,r,i){if(!r)throw new ar(sr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ms(t);s<a.length;s++){var u=a[s];if(u.field.W())o.push(Mi(e,r.key));else{var c=r.field(u.field);if(Ai(c))throw new ar(sr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.B();throw new ar(sr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Fs(o,i)}(this.mf,this.firestore.c_,t,e.Ef,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.on;if(i.length>s.length)throw new ar(sr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.W()){if("string"!=typeof c)throw new ar(sr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ys(t)&&-1!==c.indexOf("/"))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Fr.q(c));if(!Mr.X(l))throw new ar(sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Mr(l);a.push(Mi(e,h))}else{var f=yh(n,r,c);a.push(f)}}return new Fs(a,o)}(this.mf,this.firestore.c_,this.firestore.af,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s={},a=0;if("object"!=typeof i[a]||Uh(i[a])||(s=i[a],a++),Uh(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[a]&&i[a](new hf(r.firestore,r.mf,t,r.h_))},error:i[a+1],complete:i[a+2]};return cf(this.mf),Lh(Jh(this.firestore),this.mf,s,c)},t.prototype.get=function(t){var e=this;cf(this.mf);var n=Jh(this.firestore);return(t&&"cache"===t.source?function(t,e){var n=this,i=new zs;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,o,s,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Qu(t,e,!0)];case 1:return i=r.sent(),o=new Hc(e,i.za),s=o.wh(i.documents),a=o.Di(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=oa(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,Rh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,this.mf):function(t,e,n){var i=this;void 0===n&&(n={});var o=new zs;return t.cs.ws((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Bl({next:function(n){e.ws((function(){return ca(t,s)})),n.fromCache&&"server"===r.source?i.reject(new ar(sr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new da(n,o,{includeMetadataChanges:!0,Xs:!0});return ua(t,s)},[4,Fh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.cs,e,n,o])]}}))}))})),o.promise}(n,this.mf,t)).then((function(t){return new hf(e.firestore,e.mf,t,e.h_)}))},t}(),hf=function(){function t(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new nf(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach((function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new lf(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pf.jt)throw new ar(sr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===e||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:pf(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Pf,e,this.Vf.bind(this)),this.yf=e),this.gf},t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&ks(this.Rf,e.Rf)&&this.Pf.isEqual(e.Pf)&&this.h_===e.h_},t.prototype.Vf=function(t,e,n){return new of(this.hf,t.key,t,e,n,this.h_)},t}(),ff=function(t){function e(e,n,r){var i=this;if((i=t.call(this,hs(e),n,r)||this).pf=e,e.length%2!=1)throw new ar(sr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new ef(new Mr(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=gr.t()),zl("CollectionReference.doc","path",t);var e=Fr.q(t);return ef.uf(this.mf.path.child(e),this.firestore,this.h_)},e.prototype.add=function(t){var e=this.h_?this.h_.toFirestore(t):t,n=this.doc();return new ef(n.u_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.pf,this.firestore,t)},e}(lf);function df(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new ar(sr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wl(t);throw new ar(sr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,ef);if(r.firestore!==n)throw new ar(sr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function pf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function vf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new th("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Xl("deleteField");return t.Jl="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eh("arrayUnion",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nh("arrayRemove",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new rh("increment",t)}(t);return n.Jl="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)},e}(oh),mf={Firestore:Yh,GeoPoint:ih,Timestamp:Rr,Blob:Cr,Transaction:$h,WriteBatch:tf,DocumentReference:ef,DocumentSnapshot:rf,Query:lf,QueryDocumentSnapshot:of,QuerySnapshot:hf,CollectionReference:ff,FieldPath:Zl,FieldValue:yf,setLogLevel:function(t){ur.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function gf(t){!function(t,e){t.INTERNAL.registerComponent(new or.a("firestore",(function(t){return function(t,e){return new Yh(t,e,new Zh)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},mf)))}(t),t.registerVersion("@firebase/firestore","2.0.1")}gf(i.a)},zIRd:function(t,e,n){"use strict";var r,i,o=n("os0x"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(s.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(o.h)(Object.keys(e)),v=p.next();!v.done;v=p.next())e[v.value]._addComponent(a)}catch(y){u={error:y}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var g=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(g),e.a=g},zUnb:function(i,o,c){"use strict";function d(t){return"function"==typeof t}c.r(o);var y=!1,g={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=t},get useDeprecatedSynchronousErrorHandling(){return y}};function b(t){setTimeout((function(){throw t}),0)}var w={closed:!0,next:function(t){},error:function(t){if(g.useDeprecatedSynchronousErrorHandling)throw t;b(t)},complete:function(){}},_=Array.isArray||function(t){return t&&"number"==typeof t.length};function k(t){return null!==t&&"object"==typeof t}var E,S=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),I=((E=function(){function t(e){v(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return m(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(d(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){e=l instanceof S?C(l.errors):[l]}}if(_(o))for(var a=-1,u=o.length;++a<u;){var c=o[a];if(k(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof S?e=e.concat(C(l.errors)):e.push(l)}}if(e)throw new S(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new E),E);function C(t){return t.reduce((function(t,e){return t.concat(e instanceof S?e.errors:e)}),[])}var A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),T=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;switch(v(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=w;break;case 1:if(!t){o.destination=w;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(f(o))):(o.syncErrorThrowable=!0,o.destination=new O(f(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new O(f(o),t,r,i)}return o}return m(n,[{key:A,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,a(p(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(I),O=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s,a;v(this,n),(s=e.call(this))._parentSubscriber=t;var u=f(s);return d(r)?a=r:r&&(a=r.next,i=r.error,o=r.complete,r!==w&&(d((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(f(s)))),s._context=u,s._next=a,s._error=i,s._complete=o,s}return m(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;g.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=g.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):b(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;b(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};g.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),g.useDeprecatedSynchronousErrorHandling)throw n;b(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!g.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return g.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(b(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(T),x="function"==typeof Symbol&&Symbol.observable||"@@observable";function P(t){return t}var N,R=((N=function(){function t(e){v(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return m(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof T)return t;if(t[A])return t[A]()}return t||e||n?new T(t,e,n):new T(w)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||g.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),g.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){g.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof T?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=D(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:x,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?P:1===r.length?r[0]:function(t){return r.reduce((function(t,e){return e(t)}),t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=D(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new N(t)},N);function D(t){if(t||(t=g.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var j,F=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),L=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return m(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(I),V=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t)).destination=t,r}return n}(T),M=((j=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return m(n,[{key:A,value:function(){return new V(this)}},{key:"lift",value:function(t){var e=new U(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new F;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new F;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new F;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new F;return a(p(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new F;return this.hasError?(t.error(this.thrownError),I.EMPTY):this.isStopped?(t.complete(),I.EMPTY):(this.observers.push(t),new L(this,t))}},{key:"asObservable",value:function(){var t=new R;return t.source=this,t}}]),n}(R)).create=function(t,e){return new U(t,e)},j),U=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).destination=t,i.source=r,i}return m(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):I.EMPTY}}]),n}(M);function q(t){return t&&"function"==typeof t.schedule}function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new z(t,e))}}var z=function(){function t(e,n){v(this,t),this.project=e,this.thisArg=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new H(t,this.project,this.thisArg))}}]),t}(),H=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||f(o),o}return m(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(T),G=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};var W="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",K=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Z=function(t){if(t&&"function"==typeof t[x])return r=t,function(t){var e=r[x]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(K(t))return G(t);if(Q(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,b),t};if(t&&"function"==typeof t[W])return e=t,function(t){for(var n=e[W]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=k(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(i," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function Y(t,e){return new R((function(n){var r=new I,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function J(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[x]}(t))return function(t,e){return new R((function(n){var r=new I;return r.add(e.schedule((function(){var i=t[x]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Q(t))return function(t,e){return new R((function(n){var r=new I;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(K(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[W]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new R((function(n){var r,i=new I;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[W](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof R?t:new R(Z(t))}var X=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).parent=t,r}return m(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(T),$=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(T);function tt(t,e){if(!e.closed)return t instanceof R?t.subscribe(e):Z(t)(e)}function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(et((function(n,r){return J(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new nt(t,n))})}var nt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;v(this,t),this.project=e,this.concurrent=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new rt(t,this.project,this.concurrent))}}]),t}(),rt=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return v(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return m(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new X(this),n=this.destination;n.add(e);var r=tt(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}($);function it(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return et(P,t)}function ot(t,e){return e?Y(t,e):new R(G(t))}function st(){return function(t){return t.lift(new ut(t))}}var at,ut=function(){function t(e){v(this,t),this.connectable=e}return m(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new ct(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),ct=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return m(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(T),lt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(at=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return m(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new I).add(this.source.subscribe(new ht(this.getSubject(),this))),t.closed&&(this._connection=null,t=I.EMPTY)),t}},{key:"refCount",value:function(){return st()(this)}}]),n}(R).prototype)._subscribe},_isComplete:{value:at._isComplete,writable:!0},getSubject:{value:at.getSubject},connect:{value:at.connect},refCount:{value:at.refCount}},ht=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).connectable=r,i}return m(n,[{key:"_error",value:function(t){this._unsubscribe(),a(p(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),a(p(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(V);function ft(){return new M}function dt(t){return{toString:t}.toString()}function pt(t,e,n){return dt((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=s(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var vt=pt("Inject",(function(t){return{token:t}})),yt=pt("Optional"),mt=pt("Self"),gt=pt("SkipSelf"),bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function wt(t){for(var e in t)if(t[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function _t(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Et(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function St(t){return It(t,t[At])||It(t,t[xt])}function It(t,e){return e&&e.token===t?e:null}function Ct(t){return t&&(t.hasOwnProperty(Tt)||t.hasOwnProperty(Pt))?t[Tt]:null}var At=wt({"\u0275prov":wt}),Tt=wt({"\u0275inj":wt}),Ot=wt({"\u0275provFallback":wt}),xt=wt({ngInjectableDef:wt}),Pt=wt({ngInjectorDef:wt});function Nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Rt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Dt=wt({__forward_ref__:wt});function jt(t){return t.__forward_ref__=jt,t.toString=function(){return Nt(this())},t}function Ft(t){return Lt(t)?t():t}function Lt(t){return"function"==typeof t&&t.hasOwnProperty(Dt)&&t.__forward_ref__===jt}var Vt,Mt="undefined"!=typeof globalThis&&globalThis,Ut="undefined"!=typeof window&&window,qt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt="undefined"!=typeof global&&global,zt=Mt||Bt||Ut||qt,Ht=wt({"\u0275cmp":wt}),Gt=wt({"\u0275dir":wt}),Wt=wt({"\u0275pipe":wt}),Kt=wt({"\u0275mod":wt}),Qt=wt({"\u0275loc":wt}),Zt=wt({"\u0275fac":wt}),Yt=wt({__NG_ELEMENT_ID__:wt}),Jt=function(){function t(e,n){v(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=kt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return m(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),Xt=new Jt("INJECTOR",-1),$t={},te=/\n/gm,ee=wt({provide:String,useValue:wt}),ne=void 0;function re(t){var e=ne;return ne=t,e}function ie(t){var e=Vt;return Vt=t,e}function oe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default;if(void 0===ne)throw new Error("inject() must be called from an injection context");return null===ne?ae(t,void 0,e):ne.get(t,e&bt.Optional?null:void 0,e)}function se(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default;return(Vt||oe)(Ft(t),e)}function ae(t,e,n){var r=St(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&bt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(Nt(t),"]"))}function ue(t){for(var e=[],n=0;n<t.length;n++){var r=Ft(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=bt.Default,s=0;s<r.length;s++){var a=r[s];a instanceof yt||"Optional"===a.ngMetadataName||a===yt?o|=bt.Optional:a instanceof gt||"SkipSelf"===a.ngMetadataName||a===gt?o|=bt.SkipSelf:a instanceof mt||"Self"===a.ngMetadataName||a===mt?o|=bt.Self:i=a instanceof vt||a===vt?a.token:a}e.push(se(i,o))}else e.push(se(r))}return e}var ce=function(){function t(){v(this,t)}return m(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t;if(e===$t){var n=new Error("NullInjectorError: No provider for ".concat(Nt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),le=function t(){v(this,t)},he=function t(){v(this,t)};function fe(t,e){t.forEach((function(t){return Array.isArray(t)?fe(t,e):e(t)}))}function de(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pe(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ve(t,e,n){var r=me(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function ye(t,e){var n=me(t,e);if(n>=0)return t[1|n]}function me(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),s=t[o<<1];if(e===s)return o<<1;s>e?i=o:r=o+1}return~(i<<1)}(t,e)}var ge,be=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),we=((ge={})[ge.Emulated=0]="Emulated",ge[ge.Native=1]="Native",ge[ge.None=2]="None",ge[ge.ShadowDom=3]="ShadowDom",ge),_e={},ke=[],Ee=0;function Se(t){return dt((function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===be.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ke,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||we.Emulated,id:"c",styles:t.styles||ke,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ee++,n.inputs=Oe(t.inputs,e),n.outputs=Oe(t.outputs),i&&i.forEach((function(t){return t(n)})),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(Ie)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Ce)}:null,n}))}function Ie(t){return Ne(t)||function(t){return t[Gt]||null}(t)}function Ce(t){return function(t){return t[Wt]||null}(t)}var Ae={};function Te(t){var e={type:t.type,bootstrap:t.bootstrap||ke,declarations:t.declarations||ke,imports:t.imports||ke,exports:t.exports||ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&dt((function(){Ae[t.id]=t.type})),e}function Oe(t,e){if(null==t)return _e;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var xe=Se;function Pe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ne(t){return t[Ht]||null}function Re(t,e){return t.hasOwnProperty(Zt)?t[Zt]:null}function De(t,e){var n=t[Kt]||null;if(!n&&!0===e)throw new Error("Type ".concat(Nt(t)," does not have '\u0275mod' property."));return n}function je(t){return Array.isArray(t)&&"object"==typeof t[1]}function Fe(t){return Array.isArray(t)&&!0===t[1]}function Le(t){return 0!=(8&t.flags)}function Ve(t){return 2==(2&t.flags)}function Me(t){return 1==(1&t.flags)}function Ue(t){return null!==t.template}function qe(t){return 0!=(512&t[2])}var Be=function(){function t(e,n,r){v(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return m(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function ze(){return He}function He(t){return t.type.prototype.ngOnChanges&&(t.setInput=We),Ge}function Ge(){var t=Ke(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===_e)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function We(t,e,n,r){var i=Ke(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_e,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Be(u&&u.currentValue,e,s===_e),t[r]=e}function Ke(t){return t.__ngSimpleChanges__||null}ze.ngInherit=!0;var Qe=void 0;function Ze(t){return!!t.listen}var Ye={createRenderer:function(t,e){return void 0!==Qe?Qe:"undefined"!=typeof document?document:void 0}};function Je(t){for(;Array.isArray(t);)t=t[0];return t}function Xe(t,e){return Je(e[t+20])}function $e(t,e){return Je(e[t.index])}function tn(t,e){return t.data[e+20]}function en(t,e){return t[e+20]}function nn(t,e){var n=e[t];return je(n)?n:n[0]}function rn(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function on(t){return 128==(128&t[2])}function sn(t,e){return null===t||null==e?null:t[e]}function an(t){t[18]=0}function un(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var cn={lFrame:On(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ln(){return cn.bindingsEnabled}function hn(){return cn.lFrame.lView}function fn(){return cn.lFrame.tView}function dn(t){cn.lFrame.contextLView=t}function pn(){return cn.lFrame.currentTNode}function vn(t,e){cn.lFrame.currentTNode=t,cn.lFrame.isParent=e}function yn(){return cn.lFrame.isParent}function mn(){return cn.checkNoChangesMode}function gn(t){cn.checkNoChangesMode=t}function bn(){var t=cn.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wn(){return cn.lFrame.bindingIndex}function _n(){return cn.lFrame.bindingIndex++}function kn(t){var e=cn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function En(t,e){var n=cn.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sn(e)}function Sn(t){cn.lFrame.currentDirectiveIndex=t}function In(t){cn.lFrame.currentQueryIndex=t}function Cn(t,e){var n=Tn();cn.lFrame=n,n.currentTNode=e,n.lView=t}function An(t){var e=Tn(),n=t[1];cn.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Tn(){var t=cn.lFrame,e=null===t?null:t.child;return null===e?On(t):e}function On(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function xn(){var t=cn.lFrame;return cn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pn=xn;function Nn(){var t=xn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rn(){return cn.lFrame.selectedIndex}function Dn(t){cn.lFrame.selectedIndex=t}function jn(){var t=cn.lFrame;return tn(t.tView,t.selectedIndex)}function Fn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,s=i.ngAfterContentChecked,a=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ln(t,e,n){Un(t,e,3,n)}function Vn(t,e,n,r){(3&t[2])===n&&Un(t,e,n,r)}function Mn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Un(t,e,n,r){for(var i=null!=r?r:-1,o=0,s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(qn(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function qn(t,e,n,r){var i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}var Bn=function t(e,n,r){v(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function zn(t,e,n){for(var r=Ze(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++i];Gn(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Hn(t){return 3===t||4===t||6===t}function Gn(t){return 64===t.charCodeAt(0)}function Wn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Kn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Kn(t,e,n,r,i){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Qn(t){return-1!==t}function Zn(t){return 32767&t}function Yn(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}function Jn(t){return"string"==typeof t?t:null==t?"":""+t}function Xn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Jn(t)}var $n=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt);function tr(t){return t instanceof Function?t():t}var er=!0;function nr(t){var e=er;return er=t,e}var rr=0;function ir(t,e){var n=sr(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,or(r.data,t),or(e,null),or(r.blueprint,null));var i=ar(t,e),o=t.injectorIndex;if(Qn(i))for(var s=Zn(i),a=Yn(i,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=i,o}function or(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sr(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ar(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],s=o.type;if(null===(r=2===s?o.declTNode:1===s?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ur(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yt)&&(r=n[Yt]),null==r&&(r=n[Yt]=rr++);var i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function cr(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bt.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Yt)?t[Yt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Cn(e,t);try{var s=o();if(null!=s||r&bt.Optional)return s;throw new Error("No provider for ".concat(Xn(n),"!"))}finally{Pn()}}else if("number"==typeof o){if(-1===o)return new vr(t,e);var a=null,u=sr(t,e),c=-1,l=r&bt.Host?e[16][6]:null;for((-1===u||r&bt.SkipSelf)&&(-1!==(c=-1===u?ar(t,e):e[u+8])&&pr(r,!1)?(a=e[1],u=Zn(c),e=Yn(c,e)):u=-1);-1!==u;){var h=e[1];if(dr(o,u,h.data)){var f=hr(u,e,n,a,r,l);if(f!==lr)return f}-1!==(c=e[u+8])&&pr(r,e[1].data[u+8]===l)&&dr(o,u,e)?(a=h,u=Zn(c),e=Yn(c,e)):u=-1}}}if(r&bt.Optional&&void 0===i&&(i=null),0==(r&(bt.Self|bt.Host))){var d=e[9],p=ie(void 0);try{return d?d.get(n,i,r&bt.Optional):ae(n,i,r&bt.Optional)}finally{ie(p)}}if(r&bt.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Xn(n),"]"))}var lr={};function hr(t,e,n,r,i,o){var s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){for(var o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd,h=r?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=s[u];if(d&&Ue(d)&&d.type===n)return u}return null}(a,s,n,null==r?Ve(a)&&er:r!=s&&2===a.type,i&bt.Host&&o===a);return null!==u?fr(e,s,u,a):lr}function fr(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Bn){var s=i;if(s.resolving)throw new Error("Circular dep for "+Xn(o[n]));var a=nr(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?ie(s.injectImpl):null;Cn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,s=r.ngDoCheck;if(i){var a=He(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==u&&ie(u),nr(a),s.resolving=!1,Pn()}}return i}function dr(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function pr(t,e){return!(t&bt.Self||t&bt.Host&&e)}var vr=function(){function t(e,n){v(this,t),this._tNode=e,this._lView=n}return m(t,[{key:"get",value:function(t,e){return cr(this._tNode,this._lView,t,void 0,e)}}]),t}();function yr(t){var e=t;if(Lt(t))return function(){var t=yr(Ft(e));return t?t():null};var n=Re(e);if(null===n){var r=Ct(e);n=r&&r.factory}return n||null}function mr(t){return t.ngDebugContext}function gr(t){return t.ngOriginalError}function br(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var wr=function(){function t(){v(this,t),this._console=console}return m(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?mr(t)?mr(t):this._findContext(gr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=gr(t);e&&gr(e);)e=gr(e);return e}}]),t}(),_r=function(){function t(e){v(this,t),this.changingThisBreaksApplicationSecurity=e}return m(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}();function kr(t){return t instanceof _r?t.changingThisBreaksApplicationSecurity:t}var Er=!0,Sr=!1;function Ir(){return Sr=!0,Er}var Cr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Tr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Or(t){var e,n,r=(e=hn())&&e[12];return r?r.sanitize(Tr.URL,t)||"":function(t,e){var n=function(t){return t instanceof _r&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}(t,"URL")?kr(t):(n=Jn(t),(n=String(n)).match(Cr)||n.match(Ar)?n:(Ir()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function xr(t,e){t.__ngContext__=e}function Pr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Nr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==Pr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Rr(t){return 0===t.type&&"ng-template"!==t.tagName}function Dr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function jr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Hn(t[e]))return e;return t.length}(i),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Dr(t,u,n)||""===u&&1===e.length){if(Fr(r))return!1;s=!0}}else{var c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Nr(t.attrs,c,n)){if(Fr(r))return!1;s=!0}continue}var l=Lr(8&r?"class":u,i,Rr(t),n);if(-1===l){if(Fr(r))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Pr(f,c,0)||2&r&&c!==h){if(Fr(r))return!1;s=!0}}}}else{if(!s&&!Fr(r)&&!Fr(u))return!1;if(s&&Fr(u))continue;s=!1,r=u|1&r}}return Fr(r)||s}function Fr(t){return 0==(1&t)}function Lr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++i];"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(jr(t,e[r],n))return!0;return!1}function Mr(t,e){return t?":not("+e.trim()+")":e}function Ur(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&r){var a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Fr(s)||(e+=Mr(o,i),i=""),r=s,o=o||!Fr(r);n++}return""!==i&&(e+=Mr(o,i)),e}var qr={};function Br(t){var e=t[3];return Fe(e)?e[3]:e}function zr(t){return Gr(t[13])}function Hr(t){return Gr(t[4])}function Gr(t){for(;null!==t&&!Fe(t);)t=t[4];return t}function Wr(t){Kr(fn(),hn(),Rn()+t,mn())}function Kr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ln(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Vn(e,o,0,n)}Dn(n)}function Qr(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function Yr(t){return 2|t}function Jr(t){return(131068&t)>>2}function Xr(t,e){return-131069&t|e<<2}function $r(t){return 1|t}function ti(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var s=t.data[o];In(i),s.contentQueries(2,e[o],o)}}}function ei(t,e,n){return Ze(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ni(t,e,n,r,i,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,an(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function ri(t,e,n,r,i){var o=e+20,s=t.data[o]||function(t,e,n,r,i){var o=pn(),s=yn(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return vn(s,!0),s}function ii(t,e,n){An(e);try{var r=t.viewQuery;null!==r&&Ri(1,r,n);var i=t.template;null!==i&&ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ti(t,e),t.staticViewQueries&&Ri(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ti(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,Nn()}}function oi(t,e,n,r){var i=e[2];if(256!=(256&i)){An(e);var o=mn();try{an(e),cn.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ai(t,e,n,2,r);var s=3==(3&i);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&Ln(e,a,null)}else{var u=t.preOrderHooks;null!==u&&Vn(e,u,0,null),Mn(e,0)}if(function(t){for(var e=zr(t);null!==e;e=Hr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&un(o,1),i[2]|=1024}}(e),function(t){for(var e=zr(t);null!==e;e=Hr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];on(r)&&oi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&ti(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&Ln(e,c)}else{var l=t.contentHooks;null!==l&&Vn(e,l,1),Mn(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var s=n[o];"number"==typeof s?s<=0?(Dn(0-s),i=r+=9+n[++o]):r+=s:(null!==s&&(En(r,i),s(2,e[i])),i++)}}finally{Dn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Ai(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Ri(2,f,r),!o)if(s){var d=t.viewCheckHooks;null!==d&&Ln(e,d)}else{var p=t.viewHooks;null!==p&&Vn(e,p,2),Mn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,un(e[3],-1))}finally{Nn()}}}function si(t,e,n,r){var i=e[10],o=!mn(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&ii(t,e,r),oi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ai(t,e,n,r,i){var o=Rn();try{Dn(-1),2&r&&e.length>20&&Kr(t,e,0,mn()),n(r,i)}finally{Dn(o)}}function ui(t,e,n){ln()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ir(n,e),xr(r,e);for(var s=n.initialInputs,a=i;a<o;a++){var u=t.data[a],c=Ue(u);c&&Ei(e,n,u);var l=fr(e,t,a,n);xr(l,e),null!==s&&Si(0,a-i,l,u,0,s),c&&(nn(n.index,e)[8]=l)}}(t,e,n,$e(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,u=cn.lFrame.currentDirectiveIndex;try{Dn(a);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];Sn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?mi(l,h):s&&o.push(null)}}finally{Dn(-1),Sn(u)}}(t,e,n))}function ci(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}function li(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function hi(t,e,n,r,i,o,s,a,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:qr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function fi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function di(t,e,n,r,i,o,s,a){var u,c=$e(e,n),l=e.inputs;!a&&null!=l&&(u=l[r])?(Li(t,n,u,r,i),Ve(e)&&function(t,e){var n=nn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,Ze(o)?o.setProperty(c,r,i):Gn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function pi(t,e,n,r){var i=!1;if(ln()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var s=r[o];Vr(n,s.selectors,!1)&&(i||(i=[]),ur(ir(n,e),t,s.type),Ue(s)?(bi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){var a=0;i=!0,_i(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}gi(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Wn(n.mergedAttrs,d.hostAttrs),ki(t,e,d),wi(t.data.length-1,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),vi(t,d),a+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Rr(e)?null:Ii(l,i);o.push(h),s=fi(l,u,s),a=fi(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),yi(t,e,a)}s&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,s)}return n.mergedAttrs=Wn(n.mergedAttrs,n.attrs),i}function vi(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function yi(t,e,n){for(var r=0;r<n;r++)e.push(qr),t.blueprint.push(qr),t.data.push(null)}function mi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e,n){var r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function wi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ue(e)&&(n[""]=t)}}function _i(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ki(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Re(n.type)),i=new Bn(r,Ue(n),null);t.blueprint.push(i),e.push(i)}function Ei(t,e,n){var r=$e(e,t),i=li(n),o=t[10],s=Oi(t,ni(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Si(t,e,n,r,i,o){var s=o[e];if(null!==s)for(var a=r.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?r.setInput(n,h,c,l):n[l]=h}}function Ii(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ci(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ai(t,e){var n=nn(e,t);if(on(n)){var r=n[1];80&n[2]?oi(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=zr(e);null!==n;n=Hr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];oi(o,i,o.template,i[8])}else i[5]>0&&t(i)}var s=e[1].components;if(null!==s)for(var a=0;a<s.length;a++){var u=nn(s[a],e);on(u)&&u[5]>0&&t(u)}}(n)}}function Ti(t,e){var n=nn(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ii(r,n,n[8])}function Oi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;var e=Br(t);if(qe(t)&&!e)return t;t=e}return null}function Pi(t,e,n){var r=e[10];r.begin&&r.begin();try{oi(t,e,t.template,n)}catch(i){throw Fi(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=rn(n),i=r[1];si(i,r,i.template,n)}}(t[8])}function Ri(t,e,n){In(0),e(t,n)}var Di=Promise.resolve(null);function ji(t){return t[7]||(t[7]=[])}function Fi(t,e){var n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Li(t,e,n,r,i){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Vi(t,e,n){var r=Xe(e,t),i=t[11];Ze(i)?i.setValue(r,n):r.textContent=n}function Mi(t,e,n,r,i){if(null!=r){var o,s=!1;Fe(r)?o=r:je(r)&&(s=!0,r=r[0]);var a=Je(r);0===t&&null!==n?null==i?Gi(e,n,a):Hi(e,n,a,i||null):1===t&&null!==n?Hi(e,n,a,i||null):2===t?function(t,e,n){var r=Ki(t,e);r&&function(t,e,n,r){Ze(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Je(n)&&Mi(e,t,r,o,i);for(var s=10;s<n.length;s++){var a=n[s];Yi(a[1],a,t,e,r,o)}}(e,t,o,n,i)}}function Ui(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,un(i,-1)),n.splice(r,1)}function qi(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Ui(o,i),e>0&&(t[r-1][4]=i[4]);var s=pe(t,10+e);Yi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Bi(t,e){if(!(256&e[2])){var n=e[11];Ze(n)&&n.destroyNode&&Yi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return zi(t[1],t);for(;e;){var n=null;if(je(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)je(e)&&zi(e[1],e),e=e[3];null===e&&(e=t),je(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Bn)){var o=n[r+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2)o[s+1].call(i[o[s]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],s="function"==typeof o?o(e):Je(e[o]),a=r[n[i+2]],u=n[i+3];"boolean"==typeof u?s.removeEventListener(n[i],a,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&Ze(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&Fe(e[3])){n!==e[3]&&Ui(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Hi(t,e,n,r){Ze(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Gi(t,e,n){Ze(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?Hi(t,e,n,r):Gi(t,e,n)}function Ki(t,e){return Ze(t)?t.parentNode(e):e.parentNode}function Qi(t,e,n,r){var i=function(t,e,n){for(var r=e.parent;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return $e(e,n).parentNode;if(2&r.flags){var i=t.data,o=i[i[r.index].directiveStart].encapsulation;if(o!==we.ShadowDom&&o!==we.Native)return null}return $e(r,n)}(t,r,e);if(null!=i){var o=e[11],s=function(t,e){return 3===t.type||4===t.type?$e(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(var a=0;a<n.length;a++)Wi(o,i,n[a],s);else Wi(o,i,n,s)}}function Zi(t,e,n,r,i,o,s){for(;null!=n;){var a=r[n.index],u=n.type;s&&0===e&&(a&&xr(Je(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Zi(t,e,n.child,r,i,o,!1),Mi(e,t,i,a,o)):1===u?Ji(t,e,r,n,i,o):Mi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Yi(t,e,n,r,i,o){Zi(n,r,t.firstChild,e,i,o,!1)}function Ji(t,e,n,r,i,o){var s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Mi(e,t,i,a[u],o);else Zi(t,e,a,s[3],i,o,!0)}function Xi(t,e,n){Ze(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $i(t,e,n){Ze(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var to,eo,no,ro=function(){function t(e,n){v(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return m(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Bi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r,i;e=this._lView[1],n=this._lView,r=t,(i=ji(n)).push(null),e.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(e).push(r,i.length-1)}},{key:"markForCheck",value:function(){xi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Pi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){gn(!0);try{Pi(t,e,n)}finally{gn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Yi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return function t(e,n,i,o){for(var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var a=n[i.index];if(null!==a&&o.push(Je(a)),Fe(a))for(var u=10;u<a.length;u++){var c=a[u],l=c[1].firstChild;null!==l&&t(c[1],c,l,o)}var h=i.type;if(3===h||4===h)t(e,n,i.child,o);else if(1===h){var f=n[16],d=f[6].projection[i.projection];if(Array.isArray(d))o.push.apply(o,r(d));else{var p=Br(f);t(p[1],p,d,o,!0)}}i=s?i.projectionNext:i.next}return o}(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),io=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this,t))._view=t,r}return m(n,[{key:"detectChanges",value:function(){Ni(this._view)}},{key:"checkNoChanges",value:function(){!function(t){gn(!0);try{Ni(t)}finally{gn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ro);function oo(t,e,n){return to||(to=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(t)),new to($e(e,n))}var so=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return ao()},t}(),ao=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ve(t)){var r=nn(t.index,e);return new ro(r,r)}return 2===t.type||0===t.type||3===t.type||4===t.type?new ro(e[16],e):null}(pn(),hn(),t)},uo=Function,co=new Jt("Set Injector scope."),lo={},ho={},fo=[],po=void 0;function vo(){return void 0===po&&(po=new ce),po}function yo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new mo(t,n,e||vo(),r)}var mo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;v(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&fe(n,(function(t){return i.processProvider(t,e,n)})),fe([e],(function(t){return i.processInjectorType(t,[],s)})),this.records.set(Xt,wo(void 0,this));var a=this.records.get(co);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:Nt(e))}return m(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt.Default;this.assertNotDestroyed();var r,i=re(this);try{if(!(n&bt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Jt)&&St(t);o=s&&this.injectableDefInScope(s)?wo(go(t),lo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&bt.Self?vo():this.parent).get(t,e=n&bt.Optional&&e===$t?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(Nt(t)),i)throw a;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nt(a)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(te,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{re(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(Nt(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=Ft(t)))return!1;var i=Ct(t),o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(i=Ct(o)),null==i)return!1;if(null!=i.imports&&!a){var u;n.push(s);try{fe(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;fe(i,(function(t){return r.processProvider(t,n,i||fo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s),this.records.set(s,wo(i.factory,lo));var h=i.providers;if(null!=h&&!a){var f=t;fe(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=ko(t=Ft(t))?t:Ft(t&&t.provide),i=function(t,e,n){return _o(t)?wo(void 0,t.useValue):wo(bo(t),lo)}(t);if(ko(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=wo(void 0,lo,!0)).factory=function(){return ue(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function go(t){var e=St(t),n=null!==e?e.factory:Re(t);if(null!==n)return n;var r=Ct(t);if(null!==r)return r.factory;if(t instanceof Jt)throw new Error("Token ".concat(Nt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=function(t,e){for(var n=[],r=0;r<t;r++)n.push("?");return n}(e);throw new Error("Can't resolve all parameters for ".concat(Nt(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[At]||t[xt]||t[Ot]&&t[Ot]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function bo(t,e,n){var i,o=void 0;if(ko(t)){var a=Ft(t);return Re(a)||go(a)}if(_o(t))o=function(){return Ft(t.useValue)};else if((i=t)&&i.useFactory)o=function(){return t.useFactory.apply(t,r(ue(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))o=function(){return se(Ft(t.useExisting))};else{var u=Ft(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Re(u)||go(u);o=function(){return s(u,r(ue(t.deps)))}}return o}function wo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&ee in t}function ko(t){return"function"==typeof t}var Eo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=yo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},So=function(){var t=function(){function t(){v(this,t)}return m(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Eo(t,e,""):Eo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=$t,t.NULL=new ce,t.\u0275prov=kt({token:t,providedIn:"any",factory:function(){return se(Xt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Io=new Jt("AnalyzeForEntryComponents");function Co(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?i=Rt(i,a):2==o&&(r=Rt(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ao(t,e){var n=rn(t)[1],r=n.data.length-1;Fn(n,{directiveStart:r,directiveEnd:r+1})}function To(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Ue(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Oo(t.inputs),o.declaredInputs=Oo(t.declaredInputs),o.outputs=Oo(t.outputs);var s=i.hostBindings;s&&No(t,s);var a=i.viewQuery,u=i.contentQueries;if(a&&xo(t,a),u&&Po(t,u),_t(t.inputs,i.inputs),_t(t.declaredInputs,i.declaredInputs),_t(t.outputs,i.outputs),Ue(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===To&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wn(i.hostAttrs,n=Wn(n,i.hostAttrs))}}(r)}function Oo(t){return t===_e?{}:t===ke?[]:t}function xo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Po(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function No(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Ro=null;function Do(){if(!Ro){var t=zt.Symbol;if(t&&t.iterator)Ro=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ro=r)}}return Ro}var jo=function(){function t(e){v(this,t),this.wrapped=e}return m(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Fo(t){return!!Lo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Do()in t)}function Lo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vo(t,e,n){return t[e]=n}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Uo(t,e,n,r){var i=Mo(t,e,n);return Mo(t,e+1,r)||i}function qo(t,e,n,r){var i=hn();return Mo(i,_n(),e)&&(fn(),function(t,e,n,r,i,o){var s=$e(t,e),a=e[11];if(null==r)Ze(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{var u=null==i?Jn(r):i(r,t.tagName||"",n);Ze(a)?a.setAttribute(s,n,u,o):o?s.setAttributeNS(o,n,u):s.setAttribute(n,u)}}(jn(),i,t,e,n,r)),qo}function Bo(t,e,n,r){return Mo(t,_n(),n)?e+Jn(n)+r:qr}function zo(t,e,n,r,i,o,s,a){var u=hn(),c=fn(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){var c=e.consts,l=ri(e,t,0,s||null,sn(c,a));pi(e,n,l,sn(c,u)),Fn(e,l);var h=l.tViews=hi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,s):c.data[l];vn(h,!1);var f=u[11].createComment("");Qi(c,u,f,h),xr(f,u),Oi(u,u[l]=Ci(f,u,f,h)),Me(h)&&ui(c,u,h),null!=s&&ci(u,h,a)}function Ho(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt.Default,n=hn();return null===n?se(t,e):cr(pn(),n,Ft(t),e)}function Go(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Hn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(pn(),t)}function Wo(t,e,n){var r=hn();return Mo(r,_n(),e)&&di(fn(),jn(),r,t,e,r[11],n,!1),Wo}function Ko(t,e,n,r,i){var o=i?"class":"style";Li(t,n,e.inputs[o],o,r)}function Qo(t,e,n,r){var i=hn(),o=fn(),s=20+t,a=i[11],u=i[s]=ei(e,a,cn.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){var a=e.consts,u=ri(e,t,2,i,sn(a,o));return pi(e,n,u,sn(a,s)),null!==u.attrs&&Co(u,u.attrs,!1),null!==u.mergedAttrs&&Co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];vn(c,!0);var l=c.mergedAttrs;null!==l&&zn(a,u,l);var h=c.classes;null!==h&&$i(a,u,h);var f=c.styles;null!==f&&Xi(a,u,f),Qi(o,i,u,c),0===cn.lFrame.elementDepthCount&&xr(u,i),cn.lFrame.elementDepthCount++,Me(c)&&(ui(o,i,c),function(t,e,n){if(Le(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&ci(i,c)}function Zo(){var t=pn();yn()?cn.lFrame.isParent=!1:vn(t=t.parent,!1);var e=t;cn.lFrame.elementDepthCount--;var n=fn();n.firstCreatePass&&(Fn(n,t),Le(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ko(n,e,hn(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ko(n,e,hn(),e.stylesWithoutHost,!1)}function Yo(t,e,n,r){Qo(t,e,n,r),Zo()}function Jo(){return hn()}function Xo(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}function ts(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=hn(),o=fn(),s=pn();return function(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=Me(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ji(e),h=!0;if(2===r.type){var f=$e(r,e),d=a?a(f):_e,p=d.target||f,v=l.length,y=a?function(t){return a(Je(t[r.index])).target}:r.index;if(Ze(n)){var m=null;if(!a&&u&&(m=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var s=i[o];if(s===n&&i[o+1]===r){var a=e[7],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ns(r,e,o,!1);var g=n.listen(d.name||p,i,o);l.push(o,g),c&&c.push(i,y,v,v+1)}}else o=ns(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,v,s)}var b,w=r.outputs;if(h&&null!==w&&(b=w[i])){var _=b.length;if(_)for(var k=0;k<_;k+=2){var E=e[b[k]][b[k+1]].subscribe(o),S=l.length;l.push(o,E),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],s,t,e,n,r),ts}function es(t,e,n){try{return!1!==e(n)}catch(r){return Fi(t,r),!1}}function ns(t,e,n,r){return function i(o){if(o===Function)return n;var s=2&t.flags?nn(t.index,e):e;0==(32&e[2])&&xi(s);for(var a=es(e,n,o),u=i.__ngNextListenerFn__;u;)a=es(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function rs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(cn.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,cn.lFrame.contextLView))[8]}(t)}function is(t,e,n){return os(t,"",e,"",n),is}function os(t,e,n,r,i){var o=hn(),s=Bo(o,e,n,r);return s!==qr&&di(fn(),jn(),o,t,s,o[11],i,!1),os}var ss=[];function as(t,e,n,r,i){for(var o=t[n+1],s=null===e,a=r?Zr(o):Jr(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];us(t[a],e)&&(u=!0,t[a+1]=r?$r(c):Yr(c)),a=r?Zr(c):Jr(c)}u&&(t[n+1]=r?Yr(o):$r(o))}function us(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&me(t,e)>=0}var cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ls(t){return t.substring(cs.key,cs.keyEnd)}function hs(t,e){var n=cs.textEnd;return n===e?-1:(e=cs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,cs.key=e,n),fs(t,e,n))}function fs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ds(t,e){return function(t,e,n,r){var i=hn(),o=fn(),s=kn(2);o.firstUpdatePass&&ys(o,t,s,!0),e!==qr&&Mo(i,s,e)&&bs(o,o.data[Rn()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=Nt(kr(t))),t}(e),!0,s)}(t,e),ds}function ps(t,e){for(var n=function(t){return function(t){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=t.length}(t),hs(t,fs(t,0,cs.textEnd))}(e);n>=0;n=hs(e,n))ve(t,ls(e),!0)}function vs(t,e){return e>=t.expandoStartIndex}function ys(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Rn()+20],s=vs(t,n);ks(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=cn.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=gs(n=ms(null,t,e,n,r),e.attrs,r),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ms(i,t,e,n,r),null===o){var a=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Jr(r))return t[Zr(r)]}(t,e,r);void 0!==a&&Array.isArray(a)&&function(t,e,n,r){t[Zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,a=gs(a=ms(null,t,e,a[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=gs(r,t[o].hostAttrs,n);return gs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var s=o?e.classBindings:e.styleBindings,a=Zr(s),u=Jr(s);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||me(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Zr(t[a+1]);t[r+1]=Qr(f,a),0!==f&&(t[f+1]=Xr(t[f+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Qr(a,0),0!==a&&(t[a+1]=Xr(t[a+1],r)),a=r;else t[r+1]=Qr(u,0),0===a?a=r:t[u+1]=Xr(t[u+1],r),u=r;l&&(t[r+1]=Yr(t[r+1])),as(t,c,r,!0),as(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&me(o,e)>=0&&(n[r+1]=$r(n[r+1]))}(e,c,t,r,o),s=Qr(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ms(t,e,n,r,i){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(r=gs(r,(o=e[a]).hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function gs(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ve(t,s,!!n||e[++o]))}return void 0===t?null:t}function bs(t,e,n,r,i,o,s,a){if(2===e.type){var u=t.data,c=u[a+1];_s(1==(1&c)?ws(u,e,n,i,Jr(c),s):void 0)||(_s(o)||2==(2&c)&&(o=ws(u,null,n,i,a,s)),function(t,e,n,r,i){var o=Ze(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var s=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,s):n.style.removeProperty(r):o?t.setStyle(n,r,i,s):n.style.setProperty(r,i)}}(r,s,Xe(Rn(),n),i,o))}}function ws(t,e,n,r,i,o){for(var s=null===e,a=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===qr&&(f=h?ss:void 0);var d=h?ye(f,r):l===r?f:void 0;if(c&&!_s(d)&&(d=ye(u,r)),_s(d)&&(a=d,s))return a;var p=t[i+1];i=s?Zr(p):Jr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=ye(v,r))}return a}function _s(t){return void 0!==t}function ks(t,e){return 0!=(t.flags&(e?16:32))}function Es(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=hn(),r=fn(),i=t+20,o=r.firstCreatePass?ri(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return Ze(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Qi(r,n,s,o),vn(o,!1)}function Ss(t){return Is("",t,""),Ss}function Is(t,e,n){var r=hn(),i=Bo(r,t,e,n);return i!==qr&&Vi(r,Rn(),i),Is}function Cs(t,e,n,r,i){var o=hn(),s=function(t,e,n,r,i,o){var s=Uo(t,wn(),n,i);return kn(2),s?e+Jn(n)+r+Jn(i)+o:qr}(o,t,e,n,r,i);return s!==qr&&Vi(o,Rn(),s),Cs}function As(t,e,n){var r=hn();return Mo(r,_n(),e)&&di(fn(),jn(),r,t,e,r[11],n,!0),As}function Ts(t,e,n,r,i){if(t=Ft(t),Array.isArray(t))for(var o=0;o<t.length;o++)Ts(t[o],e,n,r,i);else{var s=fn(),a=hn(),u=ko(t)?t:Ft(t.provide),c=bo(t),l=pn(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(ko(t)||!t.multi){var p=new Bn(c,i,Ho),v=Ps(u,e,i?h:h+d,f);-1===v?(ur(ir(l,a),s,u),Os(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Ps(u,e,h+d,f),m=Ps(u,e,h,h+d),g=y>=0&&n[y],b=m>=0&&n[m];if(i&&!b||!i&&!g){ur(ir(l,a),s,u);var w=function(t,e,n,r,i){var o=new Bn(t,n,Ho);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,i,r&&!n),o}(i?Rs:Ns,n.length,i,r,c);!i&&b&&(n[m].providerFactory=w),Os(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(w),a.push(w)}else Os(s,t,y>-1?y:m,xs(n[i?m:y],c,!i&&r));!i&&r&&b&&n[m].componentProviders++}}}function Os(t,e,n,r){var i=ko(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[r,o]):s[a+1].push(r,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ps(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ns(t,e,n,r){return Ds(this.multi,[])}function Rs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=fr(n,n[1],this.providerFactory.index,r);Ds(o,i=a.slice(0,s));for(var u=s;u<a.length;u++)i.push(a[u])}else Ds(o,i=[]);return i}function Ds(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function js(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=fn();if(r.firstCreatePass){var i=Ue(t);Ts(n,r.data,r.blueprint,i,!0),Ts(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var Fs=function t(){v(this,t)},Ls=function(){function t(){v(this,t)}return m(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(Nt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Vs=function(){var t=function t(){v(this,t)};return t.NULL=new Ls,t}(),Ms=function(){var t=function t(e){v(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Us(t)},t}(),Us=function(t){return oo(t,pn(),hn())},qs=function t(){v(this,t)},Bs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),zs=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return Hs()},t}(),Hs=function(){var t=hn(),e=nn(pn().index,t);return function(t){var e=t[11];if(Ze(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(je(e)?e:t)},Gs=function(){var t=function t(){v(this,t)};return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ws=function t(e){v(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ks=new Ws("10.1.6"),Qs=function(){function t(){v(this,t)}return m(t,[{key:"supports",value:function(t){return Fo(t)}},{key:"create",value:function(t){return new Ys(t)}}]),t}(),Zs=function(t,e){return e},Ys=function(){function t(e){v(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Zs}return m(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<ta(n,r,i)?e:n,s=ta(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=s-r,c=a-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Fo(t))throw new Error("Error trying to diff '".concat(Nt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=t[a],i=this._trackByFn(a,r),null!==o&&Object.is(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Do()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(s&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),s=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Js(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $s),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $s),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),Js=function t(e,n){v(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Xs=function(){function t(){v(this,t),this._head=null,this._tail=null}return m(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),$s=function(){function t(){v(this,t),this.map=new Map}return m(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Xs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function ta(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ea=function(){function t(){v(this,t)}return m(t,[{key:"supports",value:function(t){return t instanceof Map||Lo(t)}},{key:"create",value:function(){return new na}}]),t}(),na=function(){function t(){v(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return m(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Lo(t)))throw new Error("Error trying to diff '".concat(Nt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ra(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),ra=function t(e){v(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ia=function(){var t=function(){function t(e){v(this,t),this.factories=e}return m(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new gt,new yt]]}}}]),t}();return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return new t([new Qs])}}),t}(),oa=function(){var t=function(){function t(e){v(this,t),this.factories=e}return m(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new gt,new yt]]}}}]),t}();return t.\u0275prov=kt({token:t,providedIn:"root",factory:function(){return new t([new ea])}}),t}(),sa=[new ea],aa=new ia([new Qs]),ua=new oa(sa),ca=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return la(t,Ms)},t}(),la=function(t,e){return function(t,e,n,r){return eo||(eo=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return m(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=ni(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ii(e,n,t),new ro(n)}}]),n}(t)),0===n.type?new eo(r,n,oo(e,n,r)):null}(t,e,pn(),hn())},ha=function(){var t=function t(){v(this,t)};return t.__NG_ELEMENT_ID__=function(){return fa(t,Ms)},t}(),fa=function(t,e){return function(t,e,n,r){var i;no||(no=function(t){u(r,t);var n=l(r);function r(t,e,i){var o;return v(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return m(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var s=o.get(le,null);s&&(i=s)}var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Fe(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],s=new no(o,o[6],o[3]);s.detach(s.indexOf(t))}}var a=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],de(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,u,a);var c=function t(e,n){var r=10+e+1;if(r<n.length){var i=n[r],o=i[1].firstChild;if(null!==o)return function e(n,r){if(null!==r){var i=r.type;if(2===i)return $e(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){var o=r.child;if(null!==o)return e(n,o);var s=n[r.index];return Fe(s)?t(-1,s):Je(s)}var a=n[16],u=a[6],c=Br(a),l=u.projection[r.projection];return null!=l?e(c,l):e(n,r.next)}return null}(i,o)}return n[7]}(a,u),l=n[11],h=Ki(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Yi(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(this),de(u[8],a,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=qi(this._lContainer,e);n&&(pe(this._lContainer[8],e),Bi(n[1],n))}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=qi(this._lContainer,e);return n&&null!=pe(this._lContainer[8],e)?new ro(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return oo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vr(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=ar(this._hostTNode,this._hostView);if(Qn(t)){var e=Yn(t,this._hostView),n=Zn(t);return new vr(e[1].data[n+8],e)}return new vr(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(t));var o=r[n.index];if(Fe(o))i=o;else{var s;if(3===n.type)s=Je(o);else if(s=r[11].createComment(""),qe(r)){var a=r[11],c=$e(n,r);Hi(a,Ki(a,c),s,function(t,e){return Ze(t)?t.nextSibling(e):e.nextSibling}(a,c))}else Qi(r[1],r,s,n);r[n.index]=i=Ci(o,r,s,n),Oi(r,i)}return new no(i,n,r)}(t,e,pn(),hn())},da={},pa=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).ngModule=t,r}return m(n,[{key:"resolveComponentFactory",value:function(t){var e=Ne(t);return new ma(e,this.ngModule)}}]),n}(Vs);function va(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ya=new Jt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $n}}),ma=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Ur).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return m(n,[{key:"create",value:function(t,e,n,r){var i,o,s=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,da,i);return o!==da||r===da?o:e.get(n,r,i)}}}(t,r.injector):t,a=s.get(qs,Ye),u=s.get(Gs,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Ze(t))return t.selectRootElement(e,n===we.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):ei(l,a.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:$n,clean:Di,playerHandler:null,flags:0},p=hi(0,null,null,1,0,null,null,null,null,null),v=ni(null,p,d,f,null,null,a,c,u,s);An(v);try{var y=function(t,e,n,r,i,o){var s=n[1];n[20]=t;var a=ri(s,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Co(a,u,!0),null!==t&&(zn(i,t,u),null!==a.classes&&$i(i,t,a.classes),null!==a.styles&&Xi(i,t,a.styles)));var c=r.createRenderer(t,e),l=ni(n,li(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(ur(ir(a,n),s,e.type),bi(s,a),_i(a,n.length,1)),Oi(n,l),n[20]=l}(h,this.componentDef,v,a,c);if(h)if(n)zn(c,h,["ng-version",Ks.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Fr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),g=m.attrs,b=m.classes;g&&zn(c,h,g),b&&b.length>0&&$i(c,h,b.join(" "))}if(o=tn(p,0),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var k=e[_];w.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],s=function(t,e,n){var r=pn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,1),ki(t,e,n));var i=fr(e,t,e.length-1,r);xr(i,e);var o=$e(r,e);return o&&xr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach((function(t){return t(s,e)})),e.contentQueries&&e.contentQueries(1,s,n.length-1);var a=pn();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Dn(a.index-20);var u=n[1];vi(u,e),yi(u,n,e.hostVars),mi(e,s)}return s}(y,this.componentDef,v,d,[Ao]),ii(p,v,null)}finally{Nn()}return new ga(this.componentType,i,oo(Ms,o,v),v,o)}},{key:"inputs",get:function(){return va(this.componentDef.inputs)}},{key:"outputs",get:function(){return va(this.componentDef.outputs)}}]),n}(Fs),ga=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this)).location=i,a._rootLView=o,a._tNode=s,a.destroyCbs=[],a.instance=r,a.hostView=a.changeDetectorRef=new io(o),a.componentType=t,a}return m(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}},{key:"injector",get:function(){return new vr(this._tNode,this._rootLView)}}]),n}(function(){return function t(){v(this,t)}}()),ba=void 0,wa=["en",[["a","p"],["AM","PM"],ba],[["AM","PM"],ba,ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ba,"{1} 'at' {0}",ba],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],_a={};function ka(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ea(e);if(n)return n;var r=e.split("-")[0];if(n=Ea(r))return n;if("en"===r)return wa;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ea(t){return t in _a||(_a[t]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[t]),_a[t]}var Sa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Ia(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Ca=new Map,Aa=function(t){u(n,t);var e=l(n);function n(t,r){var i;v(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=f(i),i.destroyCbs=[],i.componentFactoryResolver=new pa(f(i));var o=De(t),s=t[Qt]||null;return s&&Ia(s),i._bootstrapComponents=tr(o.bootstrap),i._r3Injector=yo(t,r,[{provide:le,useValue:f(i)},{provide:Vs,useValue:i.componentFactoryResolver}],Nt(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return m(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt.Default;return t===So||t===le||t===Xt?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(le),Ta=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).moduleType=t,null!==De(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(Nt(e)," vs ").concat(Nt(e.name)))})(n,Ca.get(n),e),Ca.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return m(n,[{key:"create",value:function(t){return new Aa(this.moduleType,t)}}]),n}(he);function Oa(t,e){var n=t[e];return n===qr?void 0:n}function xa(t,e){var n,r=fn(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Re(n.type)),s=ie(Ho);try{var a=nr(!1),u=o();return nr(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,hn(),t,u),u}finally{ie(s)}}function Pa(t,e,n){var r=hn(),i=en(r,t);return Da(r,Ra(r,t)?function(t,e,n,r,i,o){var s=e+n;return Mo(t,s,i)?Vo(t,s+1,o?r.call(o,i):r(i)):Oa(t,s+1)}(r,bn(),e,i.transform,n,i):i.transform(n))}function Na(t,e,n,r){var i=hn(),o=en(i,t);return Da(i,Ra(i,t)?function(t,e,n,r,i,o,s){var a=e+n;return Uo(t,a,i,o)?Vo(t,a+2,s?r.call(s,i,o):r(i,o)):Oa(t,a+2)}(i,bn(),e,o.transform,n,r,o):o.transform(n,r))}function Ra(t,e){return t[1].data[e+20].pure}function Da(t,e){return jo.isWrapped(e)&&(e=jo.unwrap(e),t[wn()]=qr),e}var ja=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v(this,n),(t=e.call(this)).__isAsync=r,t}return m(n,[{key:"emit",value:function(t){a(p(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},s=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=a(p(n.prototype),"subscribe",this).call(this,i,o,s);return t instanceof I&&t.add(u),u}}]),n}(M),Fa=new Jt("Application Initializer"),La=function(){var t=function(){function t(e){var n=this;v(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return m(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Xo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(Fa,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),Va=new Jt("AppId"),Ma={provide:Va,useFactory:function(){return"".concat(Ua()).concat(Ua()).concat(Ua())},deps:[]};function Ua(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var qa=new Jt("Platform Initializer"),Ba=new Jt("Platform ID"),za=new Jt("appBootstrapListener"),Ha=function(){var t=function(){function t(){v(this,t)}return m(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),Ga=new Jt("LocaleId"),Wa=new Jt("DefaultCurrencyCode"),Ka=function t(e,n){v(this,t),this.ngModuleFactory=e,this.componentFactories=n},Qa=function(t){return new Ta(t)},Za=Qa,Ya=function(t){return Promise.resolve(Qa(t))},Ja=function(t){var e=Qa(t),n=tr(De(t).declarations).reduce((function(t,e){var n=Ne(e);return n&&t.push(new ma(n)),t}),[]);return new Ka(e,n)},Xa=Ja,$a=function(t){return Promise.resolve(Ja(t))},tu=function(){var t=function(){function t(){v(this,t),this.compileModuleSync=Za,this.compileModuleAsync=Ya,this.compileModuleAndAllComponentsSync=Xa,this.compileModuleAndAllComponentsAsync=$a}return m(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),eu=Promise.resolve(0);function nu(t){"undefined"==typeof Zone?eu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var ru=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s;if(v(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=zt.requestAnimationFrame,e=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zt,(function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){t.lastRequestAnimationFrameId=-1,au(t),su(t)}),void 0,(function(){}),(function(){}))),t.fakeTopEventTask.invoke()})),au(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,s,a){try{return uu(n),t.invokeTask(i,o,s,a)}finally{r&&"eventTask"===o.type&&r(),cu(n)}},onInvoke:function(t,e,r,i,o,s,a){try{return uu(n),t.invoke(r,i,o,s,a)}finally{cu(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,au(n),su(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return m(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ou,iu,iu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function iu(){}var ou={};function su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function uu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cu(t){t._nesting--,su(t)}var lu,hu=function(){function t(){v(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}return m(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),fu=function(){var t=function(){function t(e){var n=this;v(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return m(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){ru.assertNotInAngularZone(),nu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())nu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(ru))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),du=function(){var t=function(){function t(){v(this,t),this._applications=new Map,pu.addToWindow(this)}return m(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}(),pu=new(function(){function t(){v(this,t)}return m(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),vu=new Jt("AllowMultipleToken"),yu=function t(e,n){v(this,t),this.name=e,this.token=n};function mu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new Jt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=gu();if(!o||o.injector.get(vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var s=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(lu&&!lu.destroyed&&!lu.injector.get(vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");lu=t.get(bu);var e=t.get(qa,null);e&&e.forEach((function(t){return t()}))}(So.create({providers:s,name:r}))}return function(t){var e=gu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function gu(){return lu&&!lu.destroyed?lu:null}var bu=function(){var t=function(){function t(e){v(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return m(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new hu:("zone.js"===n?void 0:n)||new ru({enableLongStackTrace:Ir(),shouldCoalesceEventChangeDetection:r})),s=[{provide:ru,useValue:o}];return o.run((function(){var e=So.create({providers:s,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(wr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Eu(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((s=n.injector.get(La)).runInitializers(),s.donePromise.then((function(){return Ia(n.injector.get(Ga,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Xo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(a){throw e.runOutsideAngular((function(){return t.handleError(a)})),a}var s}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=wu({},n);return function(t,e,n){var r=new Ta(n);return Promise.resolve(r)}(0,0,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(Nt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(So))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}();function wu(t,e){return Array.isArray(e)?e.reduce(wu,t):Object.assign(Object.assign({},t),e)}var _u,ku=((_u=function(){function t(e,n,r,i,o,s){var a=this;v(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ir(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var u=new R((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),c=new R((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){ru.assertNotInAngularZone(),nu((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){ru.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return q(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof o&&(r=e.pop()),null===i&&1===e.length&&e[0]instanceof R?e[0]:it(r)(ot(e,i))}(u,c.pipe((function(t){return st()((e=ft,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,lt);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return m(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Fs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(le),o=n.create(So.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var s=o.injector.get(fu,null);return s&&o.injector.get(du).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Ir()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,r=n(this._views);try{for(r.s();!(e=r.n()).done;)e.value.detectChanges()}catch(s){r.e(s)}finally{r.f()}if(this._enforceNoNewChanges){var i,o=n(this._views);try{for(o.s();!(i=o.n()).done;)i.value.checkNoChanges()}catch(s){o.e(s)}finally{o.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Eu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(za,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Eu(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||_u)(se(ru),se(Ha),se(So),se(wr),se(Vs),se(La))},_u.\u0275prov=kt({token:_u,factory:_u.\u0275fac}),_u);function Eu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Su=function t(){v(this,t)},Iu=function t(){v(this,t)},Cu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Au=function(){var t=function(){function t(e,n){v(this,t),this._compiler=e,this._config=n||Cu}return m(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,r=e(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),c("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Tu(t,i,o)})).then((function(t){return n._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),r=n[0],i=n[1],o="NgFactory";return void 0===i&&(i="default",o=""),c("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Tu(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(se(tu),se(Iu,8))},t.\u0275prov=kt({token:t,factory:t.\u0275fac}),t}();function Tu(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Ou=mu(null,"core",[{provide:Ba,useValue:"unknown"},{provide:bu,deps:[So]},{provide:du,deps:[]},{provide:Ha,deps:[]}]),xu=[{provide:ku,useClass:ku,deps:[ru,Ha,So,wr,Vs,La]},{provide:ya,deps:[ru],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:La,useClass:La,deps:[[new yt,Fa]]},{provide:tu,useClass:tu,deps:[]},Ma,{provide:ia,useFactory:function(){return aa},deps:[]},{provide:oa,useFactory:function(){return ua},deps:[]},{provide:Ga,useFactory:function(t){return Ia(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new vt(Ga),new yt,new gt]]},{provide:Wa,useValue:"USD"}],Pu=function(){var t=function t(e){v(this,t)};return t.\u0275mod=Te({type:t}),t.\u0275inj=Et({factory:function(e){return new(e||t)(se(ku))},providers:xu}),t}(),Nu={apiKey:"AIzaSyAm8tONlA5NqjumEFoBIZC1OTdMDrvZzKk",authDomain:"clinica-online-ae136.firebaseapp.com",databaseURL:"https://clinica-online-ae136.firebaseio.com",projectId:"clinica-online-ae136",storageBucket:"clinica-online-ae136.appspot.com",messagingSenderId:"808064967145",appId:"1:808064967145:web:d9c6f14f192c16463a2b78"},Ru=null;function Du(){return Ru}var ju,Fu=new Jt("DocumentToken"),Lu=((ju=function t(){v(this,t)}).\u0275fac=function(t){return new(t||ju)},ju.\u0275prov=kt({factory:Vu,token:ju,providedIn:"platform"}),ju);function Vu(){return se(qu)}var Mu,Uu=new Jt("Location Initialized"),qu=((Mu=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._init(),r}return m(n,[{key:"_init",value:function(){this.location=Du().getLocation(),this._history=Du().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Du().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Du().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Du().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Bu()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Bu()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Lu)).\u0275fac=function(t){return new(t||Mu)(se(Fu))},Mu.\u0275prov=kt({factory:zu,token:Mu,providedIn:"platform"}),Mu);function Bu(){return!!window.history.pushState}function zu(){return new qu(se(Fu))}function Hu(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Gu(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wu(t){return t&&"?"!==t[0]?"?"+t:t}var Ku,Qu=((Ku=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Ku)},Ku.\u0275prov=kt({factory:Zu,token:Ku,providedIn:"root"}),Ku);function Zu(t){var e=se(Fu).location;return new tc(se(Lu),e&&e.origin||"")}var Yu,Ju,Xu,$u=new Jt("appBaseHref"),tc=((Xu=function(t){u(n,t);var e=l(n);function n(t,r){var i;if(v(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,h(i)}return m(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Hu(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Wu(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Wu(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Wu(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Qu)).\u0275fac=function(t){return new(t||Xu)(se(Lu),se($u,8))},Xu.\u0275prov=kt({token:Xu,factory:Xu.\u0275fac}),Xu),ec=((Ju=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return m(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Hu(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Wu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+Wu(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Qu)).\u0275fac=function(t){return new(t||Ju)(se(Lu),se($u,8))},Ju.\u0275prov=kt({token:Ju,factory:Ju.\u0275fac}),Ju),nc=((Yu=function(){function t(e,n){var r=this;v(this,t),this._subject=new ja,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=Gu(ic(i)),this._platformStrategy.onPopState((function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})}))}return m(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+Wu(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ic(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wu(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wu(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||Yu)(se(Qu),se(Lu))},Yu.normalizeQueryParams=Wu,Yu.joinWithSlash=Hu,Yu.stripTrailingSlash=Gu,Yu.\u0275prov=kt({factory:rc,token:Yu,providedIn:"root"}),Yu);function rc(){return new nc(se(Qu),se(Lu))}function ic(t){return t.replace(/\/index.html$/,"")}var oc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),sc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),ac=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),uc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),cc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function lc(t,e){return vc(ka(t)[Sa.DateFormat],e)}function hc(t,e){return vc(ka(t)[Sa.TimeFormat],e)}function fc(t,e){return vc(ka(t)[Sa.DateTimeFormat],e)}function dc(t,e){var n=ka(t),r=n[Sa.NumberSymbols][e];if(void 0===r){if(e===cc.CurrencyDecimal)return n[Sa.NumberSymbols][cc.Decimal];if(e===cc.CurrencyGroup)return n[Sa.NumberSymbols][cc.Group]}return r}function pc(t){if(!t[Sa.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[Sa.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function vc(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function yc(t){var n=e(t.split(":"),2);return{hours:+n[0],minutes:+n[1]}}var mc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gc={},bc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,wc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),_c=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),kc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Ec(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Sc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var s=String(t);s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Ic(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,s){var a,u=function(t,e){switch(t){case _c.FullYear:return e.getFullYear();case _c.Month:return e.getMonth();case _c.Date:return e.getDate();case _c.Hours:return e.getHours();case _c.Minutes:return e.getMinutes();case _c.Seconds:return e.getSeconds();case _c.FractionalSeconds:return e.getMilliseconds();case _c.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===_c.Hours)0===u&&-12===n&&(u=12);else if(t===_c.FractionalSeconds)return a=e,Sc(u,3).substr(0,a);var c=dc(s,cc.MinusSign);return Sc(u,e,c,r,i)}}function Cc(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sc.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,s){return function(t,n,r,i,o,s){switch(r){case kc.Months:return function(t,e,n){var r=ka(t),i=vc([r[Sa.MonthsFormat],r[Sa.MonthsStandalone]],e);return vc(i,n)}(n,o,i)[t.getMonth()];case kc.Days:return function(t,e,n){var r=ka(t),i=vc([r[Sa.DaysFormat],r[Sa.DaysStandalone]],e);return vc(i,n)}(n,o,i)[t.getDay()];case kc.DayPeriods:var a=t.getHours(),u=t.getMinutes();if(s){var c=function(t){var e=ka(t);return pc(e),(e[Sa.ExtraData][2]||[]).map((function(t){return"string"==typeof t?yc(t):[yc(t[0]),yc(t[1])]}))}(n),l=function(t,e,n){var r=ka(t);pc(r);var i=vc([r[Sa.ExtraData][0],r[Sa.ExtraData][1]],e)||[];return vc(i,n)||[]}(n,o,i),h=c.findIndex((function(t){if(Array.isArray(t)){var n=e(t,2),r=n[0],i=n[1],o=a>=r.hours&&u>=r.minutes,s=a<i.hours||a===i.hours&&u<i.minutes;if(r.hours<i.hours){if(o&&s)return!0}else if(o||s)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1}));if(-1!==h)return l[h]}return function(t,e,n){var r=ka(t),i=vc([r[Sa.DayPeriodsFormat],r[Sa.DayPeriodsStandalone]],e);return vc(i,n)}(n,o,i)[a<12?0:1];case kc.Eras:return function(t,e){return vc(ka(t)[Sa.Eras],e)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+r)}}(o,s,t,n,r,i)}}function Ac(t){return function(e,n,r){var i=-1*r,o=dc(n,cc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case wc.Short:return(i>=0?"+":"")+Sc(s,2,o)+Sc(Math.abs(i%60),2,o);case wc.ShortGMT:return"GMT"+(i>=0?"+":"")+Sc(s,1,o);case wc.Long:return"GMT"+(i>=0?"+":"")+Sc(s,2,o)+":"+Sc(Math.abs(i%60),2,o);case wc.Extended:return 0===r?"Z":(i>=0?"+":"")+Sc(s,2,o)+":"+Sc(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function Tc(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,s,a;if(e){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+u)/7)}else{var l=(a=n,new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))),h=(o=l.getFullYear(),s=new Date(o,0,1).getDay(),new Date(o,0,1+(s<=4?4:11)-s)),f=l.getTime()-h.getTime();i=1+Math.round(f/6048e5)}return Sc(i,t,dc(r,cc.MinusSign))}}var Oc={};function xc(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Pc(t){return t instanceof Date&&!isNaN(t.valueOf())}var Nc,Rc,Dc,jc=function t(){v(this,t)},Fc=((Nc=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this)).locale=t,r}return m(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return ka(t)[Sa.PluralCase]}(e||this.locale)(t)){case oc.Zero:return"zero";case oc.One:return"one";case oc.Two:return"two";case oc.Few:return"few";case oc.Many:return"many";default:return"other"}}}]),n}(jc)).\u0275fac=function(t){return new(t||Nc)(se(Ga))},Nc.\u0275prov=kt({token:Nc,factory:Nc.\u0275fac}),Nc),Lc=function(){function t(e,n,r,i){v(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return m(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Vc=((Rc=function(){function t(e,n,r){v(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return m(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Lc(null,e._ngForOf,-1,-1),null===i?void 0:i),s=new Mc(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var a=e._viewContainer.get(r);e._viewContainer.move(a,i);var u=new Mc(t,a);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var s=this._viewContainer.get(i);s.context.index=i,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Ir()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Rc)(Ho(ha),Ho(ca),Ho(ia))},Rc.\u0275dir=xe({type:Rc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Rc),Mc=function t(e,n){v(this,t),this.record=e,this.view=n},Uc=((Dc=function(){function t(e,n){v(this,t),this._viewContainer=e,this._context=new qc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return m(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Bc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Bc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Dc)(Ho(ha),Ho(ca))},Dc.\u0275dir=xe({type:Dc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Dc),qc=function t(){v(this,t),this.$implicit=null,this.ngIf=null};function Bc(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Nt(e),"'."))}var zc,Hc,Gc,Wc,Kc=function(){function t(e,n){v(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return m(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Qc=((Wc=function(){function t(){v(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return m(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||Wc)},Wc.\u0275dir=xe({type:Wc,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Wc),Zc=((Gc=function(){function t(e,n,r){v(this,t),this.ngSwitch=r,r._addCase(),this._view=new Kc(e,n)}return m(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Gc)(Ho(ha),Ho(ca),Ho(Qc,1))},Gc.\u0275dir=xe({type:Gc,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Gc),Yc=((Hc=function(){function t(e){v(this,t),this.locale=e}return m(t,[{key:"transform",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(null==n||""===n||n!=n)return null;try{return function(t,n,r,i){var o=function(t){if(Pc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var n,r=parseFloat(t);if(!isNaN(t-r))return new Date(r);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var i=e(t.split("-").map((function(t){return+t})),3),o=i[0],s=i[1],a=i[2];return new Date(o,s-1,a)}if(n=t.match(mc))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}var u=new Date(t);if(!Pc(u))throw new Error('Unable to convert "'.concat(t,'" into a date'));return u}(t);n=function t(e,n){var r=function(t){return ka(t)[Sa.LocaleId]}(e);if(gc[r]=gc[r]||{},gc[r][n])return gc[r][n];var i="";switch(n){case"shortDate":i=lc(e,uc.Short);break;case"mediumDate":i=lc(e,uc.Medium);break;case"longDate":i=lc(e,uc.Long);break;case"fullDate":i=lc(e,uc.Full);break;case"shortTime":i=hc(e,uc.Short);break;case"mediumTime":i=hc(e,uc.Medium);break;case"longTime":i=hc(e,uc.Long);break;case"fullTime":i=hc(e,uc.Full);break;case"short":var o=t(e,"shortTime"),s=t(e,"shortDate");i=Ec(fc(e,uc.Short),[o,s]);break;case"medium":var a=t(e,"mediumTime"),u=t(e,"mediumDate");i=Ec(fc(e,uc.Medium),[a,u]);break;case"long":var c=t(e,"longTime"),l=t(e,"longDate");i=Ec(fc(e,uc.Long),[c,l]);break;case"full":var h=t(e,"fullTime"),f=t(e,"fullDate");i=Ec(fc(e,uc.Full),[h,f])}return i&&(gc[r][n]=i),i}(r,n)||n;for(var s,a=[];n;){if(!(s=bc.exec(n))){a.push(n);break}var u=(a=a.concat(s.slice(1))).pop();if(!u)break;n=u}var c=o.getTimezoneOffset();i&&(c=xc(i,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(xc(e,r)-r))}(o,i));var l="";return a.forEach((function(t){var e=function(t){if(Oc[t])return Oc[t];var e;switch(t){case"G":case"GG":case"GGG":e=Cc(kc.Eras,ac.Abbreviated);break;case"GGGG":e=Cc(kc.Eras,ac.Wide);break;case"GGGGG":e=Cc(kc.Eras,ac.Narrow);break;case"y":e=Ic(_c.FullYear,1,0,!1,!0);break;case"yy":e=Ic(_c.FullYear,2,0,!0,!0);break;case"yyy":e=Ic(_c.FullYear,3,0,!1,!0);break;case"yyyy":e=Ic(_c.FullYear,4,0,!1,!0);break;case"M":case"L":e=Ic(_c.Month,1,1);break;case"MM":case"LL":e=Ic(_c.Month,2,1);break;case"MMM":e=Cc(kc.Months,ac.Abbreviated);break;case"MMMM":e=Cc(kc.Months,ac.Wide);break;case"MMMMM":e=Cc(kc.Months,ac.Narrow);break;case"LLL":e=Cc(kc.Months,ac.Abbreviated,sc.Standalone);break;case"LLLL":e=Cc(kc.Months,ac.Wide,sc.Standalone);break;case"LLLLL":e=Cc(kc.Months,ac.Narrow,sc.Standalone);break;case"w":e=Tc(1);break;case"ww":e=Tc(2);break;case"W":e=Tc(1,!0);break;case"d":e=Ic(_c.Date,1);break;case"dd":e=Ic(_c.Date,2);break;case"E":case"EE":case"EEE":e=Cc(kc.Days,ac.Abbreviated);break;case"EEEE":e=Cc(kc.Days,ac.Wide);break;case"EEEEE":e=Cc(kc.Days,ac.Narrow);break;case"EEEEEE":e=Cc(kc.Days,ac.Short);break;case"a":case"aa":case"aaa":e=Cc(kc.DayPeriods,ac.Abbreviated);break;case"aaaa":e=Cc(kc.DayPeriods,ac.Wide);break;case"aaaaa":e=Cc(kc.DayPeriods,ac.Narrow);break;case"b":case"bb":case"bbb":e=Cc(kc.DayPeriods,ac.Abbreviated,sc.Standalone,!0);break;case"bbbb":e=Cc(kc.DayPeriods,ac.Wide,sc.Standalone,!0);break;case"bbbbb":e=Cc(kc.DayPeriods,ac.Narrow,sc.Standalone,!0);break;case"B":case"BB":case"BBB":e=Cc(kc.DayPeriods,ac.Abbreviated,sc.Format,!0);break;case"BBBB":e=Cc(kc.DayPeriods,ac.Wide,sc.Format,!0);break;case"BBBBB":e=Cc(kc.DayPeriods,ac.Narrow,sc.Format,!0);break;case"h":e=Ic(_c.Hours,1,-12);break;case"hh":e=Ic(_c.Hours,2,-12);break;case"H":e=Ic(_c.Hours,1);break;case"HH":e=Ic(_c.Hours,2);break;case"m":e=Ic(_c.Minutes,1);break;case"mm":e=Ic(_c.Minutes,2);break;case"s":e=Ic(_c.Seconds,1);break;case"ss":e=Ic(_c.Seconds,2);break;case"S":e=Ic(_c.FractionalSeconds,1);break;case"SS":e=Ic(_c.FractionalSeconds,2);break;case"SSS":e=Ic(_c.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ac(wc.Short);break;case"ZZZZZ":e=Ac(wc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ac(wc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ac(wc.Long);break;default:return null}return Oc[t]=e,e}(t);l+=e?e(o,r,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(n,r,o||this.locale,i)}catch(s){throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Nt(t),"'"))}(t,s.message)}}}]),t}()).\u0275fac=function(t){return new(t||Hc)(Ho(Ga))},Hc.\u0275pipe=Pe({name:"date",type:Hc,pure:!0}),Hc),Jc=((zc=function t(){v(this,t)}).\u0275mod=Te({type:zc}),zc.\u0275inj=Et({factory:function(t){return new(t||zc)},providers:[{provide:jc,useClass:Fc}]}),zc);function Xc(t){return"browser"===t}function $c(t){return"server"===t}var tl,el=((tl=function t(){v(this,t)}).\u0275prov=kt({token:tl,providedIn:"root",factory:function(){return new nl(se(Fu),window,se(wr))}}),tl),nl=function(){function t(e,n,r){v(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return m(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{if(!this.window||!this.window.scrollTo)return!1;var t=rl(this.window.history)||rl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window.scrollTo}catch(t){return!1}}}]),t}();function rl(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var il,ol,sl,al,ul=function(t){u(i,t);var r=l(i);function i(){return v(this,i),r.apply(this,arguments)}return m(i,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=cl||(cl=document.querySelector("base"))?cl.getAttribute("href"):null;return null==n?null:(e=n,il||(il=document.createElement("a")),il.setAttribute("href",e),"/"===il.pathname.charAt(0)?il.pathname:"/"+il.pathname)}},{key:"resetBaseElement",value:function(){cl=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,r){r=encodeURIComponent(r);var i,o=n(t.split(";"));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.indexOf("="),u=e(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===r)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new i,Ru||(Ru=t)}}]),i}(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.call(this)}return m(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){v(this,t)}}())),cl=null,ll=new Jt("TRANSITION_ID"),hl=[{provide:Fa,useFactory:function(t,e,n){return function(){n.get(La).donePromise.then((function(){var n=Du();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[ll,Fu,So],multi:!0}],fl=function(){function t(){v(this,t)}return m(t,[{key:"addToWindow",value:function(t){zt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},zt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},zt.getAllAngularRootElements=function(){return t.getAllRootElements()},zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push((function(t){var e=zt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Du().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,pu=e}}]),t}(),dl=new Jt("EventManagerPlugins"),pl=((ol=function(){function t(e,n){var r=this;v(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return m(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||ol)(se(dl),se(ru))},ol.\u0275prov=kt({token:ol,factory:ol.\u0275fac}),ol),vl=function(){function t(e){v(this,t),this._doc=e}return m(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Du().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),yl=((al=function(){function t(){v(this,t),this._stylesSet=new Set}return m(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||al)},al.\u0275prov=kt({token:al,factory:al.\u0275fac}),al),ml=((sl=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return m(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Du().remove(t)}))}}]),n}(yl)).\u0275fac=function(t){return new(t||sl)(se(Fu))},sl.\u0275prov=kt({token:sl,factory:sl.\u0275fac}),sl),gl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bl=/%COMP%/g;function wl(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?wl(t,i,n):(i=i.replace(bl,t),n.push(i))}return n}function _l(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var kl,El,Sl,Il,Cl=((kl=function(){function t(e,n,r){v(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Al(e)}return m(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case we.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Tl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case we.Native:case we.ShadowDom:return new Ol(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=wl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||kl)(se(pl),se(ml),se(Va))},kl.\u0275prov=kt({token:kl,factory:kl.\u0275fac}),kl),Al=function(){function t(e){v(this,t),this.eventManager=e,this.data=Object.create(null)}return m(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(gl[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=gl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=gl[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&Bs.DashCase?t.style.setProperty(e,n,r&Bs.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Bs.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_l(n)):this.eventManager.addEventListener(t,e,_l(n))}}]),t}(),Tl=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;v(this,n),(s=e.call(this,t)).component=i;var a=wl(o+"-"+i.id,i.styles,[]);return r.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(bl,o+"-"+i.id),s.hostAttr="_nghost-%COMP%".replace(bl,o+"-"+i.id),s}return m(n,[{key:"applyToHost",value:function(t){a(p(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=a(p(n.prototype),"createElement",this).call(this,t,e);return a(p(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Al),Ol=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;v(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.component=o,s.shadowRoot=o.encapsulation===we.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=wl(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return m(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return a(p(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return a(p(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return a(p(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(a(p(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Al),xl=((El=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return m(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(vl)).\u0275fac=function(t){return new(t||El)(se(Fu))},El.\u0275prov=kt({token:El,factory:El.\u0275fac}),El),Pl=["alt","control","meta","shift"],Nl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},jl=((Sl=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return m(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Du().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Pl.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Rl.hasOwnProperty(e)&&(e=Rl[e]))}return Nl[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Pl.forEach((function(r){r!=n&&(0,Dl[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(vl)).\u0275fac=function(t){return new(t||Sl)(se(Fu))},Sl.\u0275prov=kt({token:Sl,factory:Sl.\u0275fac}),Sl),Fl=mu(Ou,"browser",[{provide:Ba,useValue:"browser"},{provide:qa,useValue:function(){ul.makeCurrent(),fl.init()},multi:!0},{provide:Fu,useFactory:function(){return function(t){Qe=t}(document),document},deps:[]}]),Ll=[[],{provide:co,useValue:"root"},{provide:wr,useFactory:function(){return new wr},deps:[]},{provide:dl,useClass:xl,multi:!0,deps:[Fu,ru,Ba]},{provide:dl,useClass:jl,multi:!0,deps:[Fu]},[],{provide:Cl,useClass:Cl,deps:[pl,ml,Va]},{provide:qs,useExisting:Cl},{provide:yl,useExisting:ml},{provide:ml,useClass:ml,deps:[Fu]},{provide:fu,useClass:fu,deps:[ru]},{provide:pl,useClass:pl,deps:[dl,ru]},[]],Vl=((Il=function(){function t(e){if(v(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return m(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Va,useValue:e.appId},{provide:ll,useExisting:Va},hl]}}}]),t}()).\u0275mod=Te({type:Il}),Il.\u0275inj=Et({factory:function(t){return new(t||Il)(se(Il,12))},providers:Ll,imports:[Jc,Pu]}),Il);function Ml(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),Y(e,r)):ot(e)}"undefined"!=typeof window&&window;var Ul=function(t){u(n,t);var e=l(n);function n(t){var r;return v(this,n),(r=e.call(this))._value=t,r}return m(n,[{key:"_subscribe",value:function(t){var e=a(p(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new F;return this._value}},{key:"next",value:function(t){a(p(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(M),ql=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(T),Bl=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return m(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(T);function zl(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Bl(t,n,r);if(!i.closed)return e instanceof R?e.subscribe(i):Z(e)(i)}var Hl={},Gl=function(){function t(e){v(this,t),this.resultSelector=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new Wl(t,this.resultSelector))}}]),t}(),Wl=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return m(n,[{key:"_next",value:function(t){this.values.push(Hl),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(zl(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===Hl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ql),Kl=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Ql=new R((function(t){return t.complete()}));function Zl(t){return t?function(t){return new R((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Ql}function Yl(t){return new R((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?J(n):Zl()).subscribe(e)}))}function Jl(){return it(1)}function Xl(t,e){return function(n){return n.lift(new $l(t,e))}}var $l=function(){function t(e,n){v(this,t),this.predicate=e,this.thisArg=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new th(t,this.predicate,this.thisArg))}}]),t}(),th=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return m(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(T),eh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function nh(t){return function(e){return 0===t?Zl():e.lift(new rh(t))}}var rh=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new eh}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new ih(t,this.total))}}]),t}(),ih=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return m(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(T);function oh(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uh;return function(e){return e.lift(new sh(t))}}var sh=function(){function t(e){v(this,t),this.errorFactory=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new ah(t,this.errorFactory))}}]),t}(),ah=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return m(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(T);function uh(){return new Kl}function ch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new lh(t))}}var lh=function(){function t(e){v(this,t),this.defaultValue=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new hh(t,this.defaultValue))}}]),t}(),hh=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return m(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(T);function fh(t,e){return"function"==typeof e?function(n){return n.pipe(fh((function(n,r){return J(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new dh(t))}}var dh=function(){function t(e){v(this,t),this.project=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new ph(t,this.project))}}]),t}(),ph=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return m(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new X(this),r=this.destination;r.add(n),this.innerSubscription=tt(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||a(p(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&a(p(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}($);function vh(t){return function(e){return 0===t?Zl():e.lift(new yh(t))}}var yh=function(){function t(e){if(v(this,t),this.total=e,this.total<0)throw new eh}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new mh(t,this.total))}}]),t}(),mh=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return m(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(T);function gh(){return Jl()(Ml.apply(void 0,arguments))}function bh(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new wh(t,e,n))}}var wh=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new _h(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),_h=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=o,s.index=0,s}return m(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(T);function kh(t){return function(e){var n=new Eh(t),r=e.lift(n);return n.caught=r}}var Eh=function(){function t(e){v(this,t),this.selector=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new Sh(t,this.selector,this.caught))}}]),t}(),Sh=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return m(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void a(p(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new X(this);this.add(r);var i=tt(e,r);i!==r&&this.add(i)}}}]),n}($);function Ih(t,e){return et(t,e,1)}function Ch(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Xl((function(e,n){return t(e,n,r)})):P,vh(1),n?ch(e):oh((function(){return new Kl})))}}function Ah(){}function Th(t,e,n){return function(r){return r.lift(new Oh(t,e,n))}}var Oh=function(){function t(e,n,r){v(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new xh(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),xh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t))._tapNext=Ah,s._tapError=Ah,s._tapComplete=Ah,s._tapError=i||Ah,s._tapComplete=o||Ah,d(r)?(s._context=f(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||Ah,s._tapError=r.error||Ah,s._tapComplete=r.complete||Ah),s}return m(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(T);function Ph(t){return function(e){return e.lift(new Nh(t))}}var Nh=function(){function t(e){v(this,t),this.callback=e}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new Rh(t,this.callback))}}]),t}(),Rh=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).add(new I(r)),i}return n}(T),Dh=function t(e,n){v(this,t),this.id=e,this.url=n},jh=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return v(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return m(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Dh),Fh=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return m(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Dh),Lh=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).reason=i,o}return m(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Dh),Vh=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,t,r)).error=i,o}return m(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Dh),Mh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return m(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Dh),Uh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return m(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Dh),qh=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a.shouldActivate=s,a}return m(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Dh),Bh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return m(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Dh),zh=function(t){u(n,t);var e=l(n);function n(t,r,i,o){var s;return v(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return m(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Dh),Hh=function(){function t(e){v(this,t),this.route=e}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Gh=function(){function t(e){v(this,t),this.route=e}return m(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Wh=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Kh=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Qh=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Zh=function(){function t(e){v(this,t),this.snapshot=e}return m(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Yh=function(){function t(e,n,r){v(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return m(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Jh=function(){function t(e){v(this,t),this.params=e||{}}return m(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Xh(t){return new Jh(t)}function $h(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function tf(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ef(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!nf(t[n=r[o]],e[n]))return!1;return!0}function nf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=r(t).sort(),i=r(e).sort();return n.every((function(t,e){return i[e]===t}))}return t===e}function rf(t){return Array.prototype.concat.apply([],t)}function of(t){return t.length>0?t[t.length-1]:null}function sf(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function af(t){return $o(t)?t:Xo(t)?J(Promise.resolve(t)):Ml(t)}function uf(t,e,n){return n?function(t,e){return ef(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ff(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return nf(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ff(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ff(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!ff(n.segments,s)&&!!n.children.primary&&e(n.children.primary,r,a)}(e,n,n.segments)}(t.root,e.root)}var cf=function(){function t(e,n,r){v(this,t),this.root=e,this.queryParams=n,this.fragment=r}return m(t,[{key:"toString",value:function(){return yf.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xh(this.queryParams)),this._queryParamMap}}]),t}(),lf=function(){function t(e,n){var r=this;v(this,t),this.segments=e,this.children=n,this.parent=null,sf(n,(function(t,e){return t.parent=r}))}return m(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return mf(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),hf=function(){function t(e,n){v(this,t),this.path=e,this.parameters=n}return m(t,[{key:"toString",value:function(){return Ef(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Xh(this.parameters)),this._parameterMap}}]),t}();function ff(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function df(t,e){var n=[];return sf(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),sf(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var pf=function t(){v(this,t)},vf=function(){function t(){v(this,t)}return m(t,[{key:"parse",value:function(t){var e=new Tf(t);return new cf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return mf(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return sf(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=df(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(mf(e),"/").concat(o[0]):"".concat(mf(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(bf(t),"=").concat(bf(e))})).join("&"):"".concat(bf(t),"=").concat(bf(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),yf=new vf;function mf(t){return t.segments.map((function(t){return Ef(t)})).join("/")}function gf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return gf(t).replace(/%3B/gi,";")}function wf(t){return gf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _f(t){return decodeURIComponent(t)}function kf(t){return _f(t.replace(/\+/g,"%20"))}function Ef(t){return"".concat(wf(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(wf(t),"=").concat(wf(e[t]))})).join("")));var e}var Sf=/^[^\/()?;=#]+/;function If(t){var e=t.match(Sf);return e?e[0]:""}var Cf=/^[^=?&#]+/,Af=/^[^?&#]+/,Tf=function(){function t(e){v(this,t),this.url=e,this.remaining=e}return m(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lf([],{}):new lf([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new lf(t,e)),n}},{key:"parseSegment",value:function(){var t=If(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new hf(_f(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=If(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=If(this.remaining);r&&(n=r,this.capture(n))}t[_f(e)]=_f(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Cf);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Af);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=kf(e),o=kf(n);if(t.hasOwnProperty(i)){var s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=If(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new lf([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Of=function(){function t(e){v(this,t),this._root=e}return m(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=xf(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=xf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Pf(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Pf(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function xf(t,e){if(t===e.value)return e;var r,i=n(e.children);try{for(i.s();!(r=i.n()).done;){var o=xf(t,r.value);if(o)return o}}catch(s){i.e(s)}finally{i.f()}return null}function Pf(t,e){if(t===e.value)return[e];var r,i=n(e.children);try{for(i.s();!(r=i.n()).done;){var o=Pf(t,r.value);if(o.length)return o.unshift(e),o}}catch(s){i.e(s)}finally{i.f()}return[]}var Nf=function(){function t(e,n){v(this,t),this.value=e,this.children=n}return m(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Rf(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Df=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t)).snapshot=r,Uf(f(i),t),i}return m(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Of);function jf(t,e){var n=function(t,e){var n=new Vf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Mf("",new Nf(n,[]))}(t,e),r=new Ul([new hf("",{})]),i=new Ul({}),o=new Ul({}),s=new Ul({}),a=new Ul(""),u=new Ff(r,i,s,a,o,"primary",e,n.root);return u.snapshot=n.root,new Df(new Nf(u,[]),n)}var Ff=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=u}return m(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(t){return Xh(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(t){return Xh(t)})))),this._queryParamMap}}]),t}();function Lf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Vf=function(){function t(e,n,r,i,o,s,a,u,c,l,h){v(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return m(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Xh(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Xh(this.queryParams)),this._queryParamMap}}]),t}(),Mf=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,r)).url=t,Uf(f(i),r),i}return m(n,[{key:"toString",value:function(){return qf(this._root)}}]),n}(Of);function Uf(t,e){e.value._routerState=t,e.children.forEach((function(e){return Uf(t,e)}))}function qf(t){var e=t.children.length>0?" { ".concat(t.children.map(qf).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Bf(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ef(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ef(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ef(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ef(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zf(t,e){var n,r;return ef(t.params,e.params)&&ff(n=t.url,r=e.url)&&n.every((function(t,e){return ef(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||zf(t.parent,e.parent))}function Hf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gf(t,e,n,r,i){var o={};return r&&sf(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new cf(n.root===t?e:function t(e,n,r){var i={};return sf(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new lf(e.segments,i)}(n.root,t,e),o,i)}var Wf=function(){function t(e,n,r){if(v(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hf(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==of(r))throw new Error("{outlets:{}} has to be the last command")}return m(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Kf=function t(e,n,r){v(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Qf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Zf(t,e,n){if(t||(t=new lf([],{})),0===t.segments.length&&t.hasChildren())return Yf(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var s=t.segments[i],a=Qf(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!td(a,u,s))return o;r+=2}else{if(!td(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new lf(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new lf(t.segments.slice(r.pathIndex),t.children),Yf(o,0,i)}return r.match&&0===i.length?new lf(t.segments,{}):r.match&&!t.hasChildren()?Jf(t,e,n):r.match?Yf(t,0,i):Jf(t,e,n)}function Yf(t,e,n){if(0===n.length)return new lf(t.segments,{});var r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return sf(r,(function(n,r){null!==n&&(i[r]=Zf(t.children[r],e,n))})),sf(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new lf(t.segments,i)}function Jf(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){var o=Xf(n[i].outlets);return new lf(r,o)}if(0===i&&Hf(n[0]))r.push(new hf(t.segments[e].path,n[0])),i++;else{var s=Qf(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Hf(a)?(r.push(new hf(s,$f(a))),i+=2):(r.push(new hf(s,{})),i++)}}return new lf(r,{})}function Xf(t){var e={};return sf(t,(function(t,n){null!==t&&(e[n]=Jf(new lf([],{}),0,t))})),e}function $f(t){var e={};return sf(t,(function(t,n){return e[n]=""+t})),e}function td(t,e,n){return t==n.path&&ef(e,n.parameters)}var ed=function(){function t(e,n,r,i){v(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return m(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Bf(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=Rf(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),sf(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=Rf(t),o=t.value.component?r.children:e;sf(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=Rf(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Zh(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Kh(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Bf(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),nd(a.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=c,s.outlet&&s.outlet.activateWith(r,c),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function nd(t){Bf(t.value),t.children.forEach(nd)}var rd=function t(e,n){v(this,t),this.routes=e,this.module=n};function id(t){return"function"==typeof t}function od(t){return t instanceof cf}var sd=Symbol("INITIAL_VALUE");function ad(){return fh((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return q(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&_(e[0])&&(e=e[0]),ot(e,i).lift(new Gl(r))}).apply(void 0,r(t.map((function(t){return t.pipe(vh(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return q(r)?(e.pop(),function(t){return gh(e,t,r)}):function(t){return gh(e,t)}}(sd))})))).pipe(bh((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==sd)return t;if(r===sd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||od(r))return r}return t}),t)}),sd),Xl((function(t){return t!==sd})),B((function(t){return od(t)?t:!0===t})),vh(1))}))}var ud=function t(e){v(this,t),this.segmentGroup=e||null},cd=function t(e){v(this,t),this.urlTree=e};function ld(t){return new R((function(e){return e.error(new ud(t))}))}function hd(t){return new R((function(e){return e.error(new cd(t))}))}function fd(t){return new R((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var dd=function(){function t(e,n,r,i,o){v(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(le)}return m(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(B((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(kh((function(e){if(e instanceof cd)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ud)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(B((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(kh((function(t){if(t instanceof ud)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new lf([],{primary:t}):t;return new cf(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B((function(t){return new lf([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Ml({});var o=[],s=[],a={};return sf(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(B((function(t){return a[i]=t})));"primary"===i?o.push(l):s.push(l)})),Ml.apply(null,o.concat(s)).pipe(Jl(),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Xl((function(e,n){return t(e,n,r)})):P,nh(1),n?ch(e):oh((function(){return new Kl})))}}(),B((function(){return a})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,o,s){var a=this;return Ml.apply(void 0,r(n)).pipe(Ih((function(r){return a.expandSegmentAgainstRoute(t,e,n,r,i,o,s).pipe(kh((function(t){if(t instanceof ud)return Ml(null);throw t})))})),Ch((function(t){return!!t})),kh((function(t,n){if(t instanceof Kl||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,i,o))return Ml(new lf([],{}));throw new ud(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,s){return md(r)!==o?ld(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):ld(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?hd(o):this.lineralizeSegments(n,o).pipe(et((function(n){var o=new lf(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var s=this,a=pd(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,h=a.positionalParamSegments;if(!u)return ld(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?hd(f):this.lineralizeSegments(r,f).pipe(et((function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,r,i){var o=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(B((function(t){return r._loadedConfig=t,new lf(i,{})}))):Ml(new lf(i,{}));var s=pd(e,r,i),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return ld(e);var l=i.slice(c);return this.getChildConfig(t,r,i).pipe(et((function(t){var r=t.module,i=t.routes,s=function(t,e,r,i){return r.length>0&&function(t,e,n){return n.some((function(n){return yd(t,e,n)&&"primary"!==md(n)}))}(t,r,i)?{segmentGroup:vd(new lf(e,function(t,e){var r={};r.primary=e;var i,o=n(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;""===s.path&&"primary"!==md(s)&&(r[md(s)]=new lf([],{}))}}catch(a){o.e(a)}finally{o.f()}return r}(i,new lf(r,t.children)))),slicedSegments:[]}:0===r.length&&function(t,e,n){return n.some((function(n){return yd(t,e,n)}))}(t,r,i)?{segmentGroup:vd(new lf(t.segments,function(t,e,r,i){var o,s={},a=n(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;yd(t,e,u)&&!i[md(u)]&&(s[md(u)]=new lf([],{}))}}catch(c){a.e(c)}finally{a.f()}return Object.assign(Object.assign({},i),s)}(t,r,i,t.children))),slicedSegments:r}:{segmentGroup:t,slicedSegments:r}}(e,u,l,i),a=s.segmentGroup,c=s.slicedSegments;return 0===c.length&&a.hasChildren()?o.expandChildren(r,i,a).pipe(B((function(t){return new lf(u,t)}))):0===i.length&&0===c.length?Ml(new lf(u,{})):o.expandSegment(r,a,i,c,"primary",!0).pipe(B((function(t){return new lf(u.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Ml(new rd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ml(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(et((function(n){return n?r.configLoader.load(t.injector,e).pipe(B((function(t){return e._loadedConfig=t,t}))):function(t){return new R((function(e){return e.error($h("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Ml(new rd([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;return i&&0!==i.length?Ml(i.map((function(r){var i,o=t.get(r);if(function(t){return t&&id(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!id(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return af(i)}))).pipe(ad(),Th((function(t){if(od(t)){var e=$h('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}})),B((function(t){return!0===t}))):Ml(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ml(n);if(r.numberOfChildren>1||!r.children.primary)return fd(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new cf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return sf(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),s={};return sf(e.children,(function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)})),new lf(o,s)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var r,i=0,o=n(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.path===t.path)return e.splice(i),s;i++}}catch(a){o.e(a)}finally{o.f()}return t}}]),t}();function pd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||tf)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function vd(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new lf(t.segments.concat(e.segments),e.children)}return t}function yd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function md(t){return t.outlet||"primary"}var gd=function t(e){v(this,t),this.path=e,this.route=this.path[this.path.length-1]},bd=function t(e,n){v(this,t),this.component=e,this.route=n};function wd(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function _d(t,e,n){var r=Rf(t),i=t.value;sf(r,(function(t,r){_d(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new bd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function kd(t,e){return null!==t&&e&&e(new Qh(t)),Ml(!0)}function Ed(t,e){return null!==t&&e&&e(new Wh(t)),Ml(!0)}function Sd(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ml(r.map((function(r){return Yl((function(){var i,o=wd(r,e,n);if(function(t){return t&&id(t.canActivate)}(o))i=af(o.canActivate(e,t));else{if(!id(o))throw new Error("Invalid CanActivate guard");i=af(o(e,t))}return i.pipe(Ch())}))}))).pipe(ad()):Ml(!0)}function Id(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return Yl((function(){return Ml(e.guards.map((function(i){var o,s=wd(i,e.node,n);if(function(t){return t&&id(t.canActivateChild)}(s))o=af(s.canActivateChild(r,t));else{if(!id(s))throw new Error("Invalid CanActivateChild guard");o=af(s(r,t))}return o.pipe(Ch())}))).pipe(ad())}))}));return Ml(i).pipe(ad())}var Cd=function t(){v(this,t)},Ad=function(){function t(e,n,r,i,o,s){v(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return m(t,[{key:"recognize",value:function(){try{var t=xd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Vf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Nf(n,e),i=new Mf(this.url,r);return this.inheritParamsAndData(i._root),Ml(i)}catch(o){return new R((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=Lf(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=df(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,r,i){var o,s=n(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;try{return this.processSegmentAgainstRoute(a,e,r,i)}catch(u){if(!(u instanceof Cd))throw u}}}catch(c){s.e(c)}finally{s.f()}if(this.noLeftoversInUrl(e,r,i))return[];throw new Cd}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new Cd;if((t.outlet||"primary")!==r)throw new Cd;var i,o=[],s=[];if("**"===t.path){var a=n.length>0?of(n).parameters:{};i=new Vf(n,a,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rd(t),r,t.component,t,Td(e),Od(e)+n.length,Dd(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Cd;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||tf)(n,t,e);if(!r)throw new Cd;var i={};sf(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new Vf(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Rd(t),r,t.component,t,Td(e),Od(e)+o.length,Dd(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=xd(e,o,s,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Nf(i,d)]}if(0===c.length&&0===f.length)return[new Nf(i,[])];var p=this.processSegment(c,h,f,"primary");return[new Nf(i,p)]}}]),t}();function Td(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Od(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function xd(t,e,r,i,o){if(r.length>0&&function(t,e,n){return n.some((function(n){return Pd(t,e,n)&&"primary"!==Nd(n)}))}(t,r,i)){var s=new lf(e,function(t,e,r,i){var o={};o.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var s,a=n(r);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(""===u.path&&"primary"!==Nd(u)){var c=new lf([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,o[Nd(u)]=c}}}catch(l){a.e(l)}finally{a.f()}return o}(t,e,i,new lf(r,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===r.length&&function(t,e,n){return n.some((function(n){return Pd(t,e,n)}))}(t,r,i)){var a=new lf(t.segments,function(t,e,r,i,o,s){var a,u={},c=n(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(Pd(t,r,l)&&!o[Nd(l)]){var h=new lf([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===s?t.segments.length:e.length,u[Nd(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},o),u)}(t,e,r,i,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:r}}var u=new lf(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:r}}function Pd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Nd(t){return t.outlet||"primary"}function Rd(t){return t.data||{}}function Dd(t){return t.resolve||{}}function jd(t){return function(e){return e.pipe(fh((function(e){var n=t(e);return n?J(n).pipe(B((function(){return e}))):J([e])})))}}var Fd,Ld=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(function(){function t(){v(this,t)}return m(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Vd=((Fd=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Fd)},Fd.\u0275cmp=Se({type:Fd,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Yo(0,"router-outlet")},directives:function(){return[ap]},encapsulation:2}),Fd);function Md(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Ud(r,qd(e,r))}}function Ud(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Md(t.children,e)}function qd(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Bd(t){var e=t.children&&t.children.map(Bd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Vd),n}var zd=new Jt("ROUTES"),Hd=function(){function t(e,n,r,i){v(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return m(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new rd(rf(i.injector.get(zd)).map(Bd),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?J(this.loader.load(t)):af(t()).pipe(et((function(t){return t instanceof he?Ml(t):J(e.compiler.compileModuleAsync(t))})))}}]),t}(),Gd=function t(){v(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Wd,this.attachRef=null},Wd=function(){function t(){v(this,t),this.contexts=new Map}return m(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Gd,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Kd=function(){function t(){v(this,t)}return m(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function Qd(t){throw t}function Zd(t,e,n){return e.parse("/")}function Yd(t,e){return Ml(null)}var Jd,Xd,$d,tp=(($d=function(){function t(e,n,r,i,o,s,a,u){var c=this;v(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=Qd,this.malformedUriErrorHandler=Zd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yd,afterPreactivation:Yd},this.urlHandlingStrategy=new Kd,this.routeReuseStrategy=new Ld,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(le),this.console=o.get(Ha);var l=o.get(ru);this.isNgZoneEnabled=l instanceof ru,this.resetConfig(u),this.currentUrlTree=new cf(new lf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hd(s,a,(function(t){return c.triggerEvent(new Hh(t))}),(function(t){return c.triggerEvent(new Gh(t))})),this.routerState=jf(this.currentUrlTree,this.rootComponentType),this.transitions=new Ul({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return m(t,[{key:"setupNavigations",value:function(t){var e=this,r=this.events;return t.pipe(Xl((function(t){return 0!==t.id})),B((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),fh((function(t){var i,o,s,a=!1,u=!1;return Ml(t).pipe(Th((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),fh((function(t){var n,i,o,s,a=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ml(t).pipe(fh((function(t){var n=e.transitions.getValue();return r.next(new jh(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?Ql:[t]})),fh((function(t){return Promise.resolve(t)})),(n=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,s=e.config,function(t){return t.pipe(fh((function(t){return function(t,e,n,r,i){return new dd(t,e,n,r,i).apply()}(n,i,o,t.extractedUrl,s).pipe(B((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Th((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(et((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ad(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,o).pipe(B((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Th((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Th((function(t){var n=new Mh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);r.next(n)})));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new jh(u,e.serializeUrl(c),l,h);r.next(d);var p=jf(c,e.rootComponentType).snapshot;return Ml(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ql})),jd((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),Th((function(t){var n=new Uh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),B((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=Rf(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},s=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ff(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ff(t.url,e.url)||!ef(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(t,e)||!ef(t.queryParams,e.queryParams);case"paramsChange":default:return!zf(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new gd(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?u?u.children:null:r,i,o),c&&u&&u.outlet&&u.outlet.isActivated&&o.canDeactivateChecks.push(new bd(u.outlet.component,a))}else a&&_d(n,u,o),o.canActivateChecks.push(new gd(i)),t(e,null,s.component?u?u.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]})),sf(s,(function(t,e){return _d(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(et((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,s=o.canActivateChecks,a=o.canDeactivateChecks;return 0===a.length&&0===s.length?Ml(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return J(t).pipe(et((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ml(o.map((function(o){var s,a=wd(o,e,i);if(function(t){return t&&id(t.canDeactivate)}(a))s=af(a.canDeactivate(t,e,n,r));else{if(!id(a))throw new Error("Invalid CanDeactivate guard");s=af(a(t,e,n,r))}return s.pipe(Ch())}))).pipe(ad()):Ml(!0)}(t.component,t.route,n,e,r)})),Ch((function(t){return!0!==t}),!0))}(a,r,i,t).pipe(et((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return J(e).pipe(Ih((function(e){return J([Ed(e.route.parent,r),kd(e.route,r),Id(t,e.path,n),Sd(t,e.route,n)]).pipe(Jl(),Ch((function(t){return!0!==t}),!0))})),Ch((function(t){return!0!==t}),!0))}(r,s,t,e):Ml(n)})),B((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Th((function(t){if(od(t.guardsResult)){var n=$h('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Th((function(t){var n=new qh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Xl((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new Lh(t.id,e.serializeUrl(t.extractedUrl),"");return r.next(n),t.resolve(!1),!1}return!0})),jd((function(t){if(t.guards.canActivateChecks.length)return Ml(t).pipe(Th((function(t){var n=new Bh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),fh((function(t){var n,i,o=!1;return Ml(t).pipe((n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(et((function(t){var e=t.targetSnapshot,r=t.guards.canActivateChecks;if(!r.length)return Ml(t);var o=0;return J(r).pipe(Ih((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Ml({});var o={};return J(i).pipe(et((function(i){return function(t,e,n,r){var i=wd(t,e,r);return af(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Th((function(t){o[i]=t})))})),nh(1),et((function(){return Object.keys(o).length===i.length?Ml(o):Ql})))}(t._resolve,t,e,r).pipe(B((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Lf(t,n).resolve),null})))}(t.route,e,n,i)})),Th((function(){return o++})),nh(1),et((function(e){return o===r.length?Ml(t):Ql})))})))}),Th({next:function(){return o=!0},complete:function(){if(!o){var n=new Lh(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");r.next(n),t.resolve(!1)}}}))})),Th((function(t){var n=new zh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),jd((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,s=t.extras,a=s.skipLocationChange,u=s.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!a,replaceUrl:!!u})})),B((function(t){var r=function(t,e,r){var i=function t(e,r,i){if(i&&e.shouldReuseRoute(r.value,i.value.snapshot)){var o=i.value;o._futureSnapshot=r.value;var s=function(e,r,i){return r.children.map((function(r){var o,s=n(i.children);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(e.shouldReuseRoute(a.value.snapshot,r.value))return t(e,r,a)}}catch(u){s.e(u)}finally{s.f()}return t(e,r)}))}(e,r,i);return new Nf(o,s)}var a=e.retrieve(r.value);if(a){var u=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(r,u),u}var c,l=new Ff(new Ul((c=r.value).url),new Ul(c.params),new Ul(c.queryParams),new Ul(c.fragment),new Ul(c.data),c.outlet,c.component,c),h=r.children.map((function(n){return t(e,n)}));return new Nf(l,h)}(t,e._root,r?r._root:void 0);return new Df(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:r})})),Th((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,s=function(t){return e.triggerEvent(t)},B((function(t){return new ed(o,t.targetRouterState,t.currentRouterState,s).activate(i),t}))),Th({next:function(){a=!0},complete:function(){a=!0}}),Ph((function(){if(!a&&!u){e.resetUrlToCurrentUrlTree();var n=new Lh(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));r.next(n),t.resolve(!1)}e.currentNavigation=null})),kh((function(n){if(u=!0,(a=n)&&a.ngNavigationCancelingError){var i=od(n.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new Lh(t.id,e.serializeUrl(t.extractedUrl),n.message);r.next(o),i?setTimeout((function(){var r=e.urlHandlingStrategy.merge(n.url,e.rawUrlTree);return e.scheduleNavigation(r,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Vh(t.id,e.serializeUrl(t.extractedUrl),n);r.next(s);try{t.resolve(e.errorHandler(n))}catch(c){t.reject(c)}}var a;return Ql})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout((function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var s=Object.assign({},r);delete s.navigationId,0!==Object.keys(s).length&&(o.state=s)}t.scheduleNavigation(i,e,r,o)}),0),t.lastLocationChangeInfo=n})))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Md(t),this.config=t.map(Bd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,u=e.preserveFragment;Ir()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,o){if(0===n.length)return Gf(e.root,e.root,e,i,o);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wf(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var s={};return sf(i.outlets,(function(t,e){s[e]="string"==typeof t?t.split("/"):t})),[].concat(r(t),[{outlets:s}])}if(i.segmentPath)return[].concat(r(t),[i.segmentPath])}return"string"!=typeof i?[].concat(r(t),[i]):0===o?(i.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(r(t),[i])}),[]);return new Wf(n,e,i)}(n);if(s.toRoot())return Gf(e.root,new lf([],{}),e,i,o);var a=function(t,e,n){if(t.isAbsolute)return new Kf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Kf(r,r===e.root,0)}var i=Hf(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Kf(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),u=a.processChildren?Yf(a.segmentGroup,a.index,s.commands):Zf(a.segmentGroup,a.index,s.commands);return Gf(a.segmentGroup,u,e,i,o)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Ir()&&this.isNgZoneEnabled&&!ru.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=od(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(od(t))return uf(this.currentUrlTree,t,e);var n=this.parseUrl(t);return uf(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Fh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,s,a,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,s=i.reject,a=i.promise):a=new Promise((function(t,e){o=t,s=e}));var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||$d)(se(uo),se(pf),se(Wd),se(nc),se(So),se(Su),se(tu),se(void 0))},$d.\u0275prov=kt({token:$d,factory:$d.\u0275fac}),$d),ep=((Xd=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new M,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return m(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:rp(this.skipLocationChange),replaceUrl:rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Ir()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rp(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Xd)(Ho(tp),Ho(Ff),Go("tabindex"),Ho(zs),Ho(Ms))},Xd.\u0275dir=xe({type:Xd,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ts("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ze]}),Xd),np=((Jd=function(){function t(e,n,r){var i=this;v(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new M,this.subscription=e.events.subscribe((function(t){t instanceof Fh&&i.updateTargetUrlAndHref()}))}return m(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:rp(this.skipLocationChange),replaceUrl:rp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Ir()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:rp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:rp(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||Jd)(Ho(tp),Ho(Ff),Ho(Qu))},Jd.\u0275dir=xe({type:Jd,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&ts("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(As("href",e.href,Or),qo("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ze]}),Jd);function rp(t){return""===t||!!t}var ip,op,sp,ap=((ip=function(){function t(e,n,r,i,o){v(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new ja,this.deactivateEvents=new ja,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return m(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new up(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||ip)(Ho(Wd),Ho(ha),Ho(Vs),Go("name"),Ho(so))},ip.\u0275dir=xe({type:ip,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ip),up=function(){function t(e,n,r){v(this,t),this.route=e,this.childContexts=n,this.parent=r}return m(t,[{key:"get",value:function(t,e){return t===Ff?this.route:t===Wd?this.childContexts:this.parent.get(t,e)}}]),t}(),cp=function t(){v(this,t)},lp=function(){function t(){v(this,t)}return m(t,[{key:"preload",value:function(t,e){return Ml(null)}}]),t}(),hp=((sp=function(){function t(e,n,r,i,o){v(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Hd(n,r,(function(t){return e.triggerEvent(new Hh(t))}),(function(t){return e.triggerEvent(new Gh(t))}))}return m(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Xl((function(t){return t instanceof Fh})),Ih((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(le);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var r,i=[],o=n(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children))}}catch(u){o.e(u)}finally{o.f()}return J(i).pipe(it(),B((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(et((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||sp)(se(tp),se(Su),se(tu),se(So),se(cp))},sp.\u0275prov=kt({token:sp,factory:sp.\u0275fac}),sp),fp=((op=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return m(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof jh?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fh&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Yh&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Yh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||op)(se(tp),se(el),se(void 0))},op.\u0275prov=kt({token:op,factory:op.\u0275fac}),op),dp=new Jt("ROUTER_CONFIGURATION"),pp=new Jt("ROUTER_FORROOT_GUARD"),vp=[nc,{provide:pf,useClass:vf},{provide:tp,useFactory:function(t,e,n,r,i,o,s){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new tp(null,t,e,n,r,i,o,rf(s));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){var h=Du();l.events.subscribe((function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()}))}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[pf,Wd,nc,So,Su,tu,zd,dp,[function(){return function t(){v(this,t)}}(),new yt],[function(){return function t(){v(this,t)}}(),new yt]]},Wd,{provide:Ff,useFactory:function(t){return t.routerState.root},deps:[tp]},{provide:Su,useClass:Au},hp,lp,function(){function t(){v(this,t)}return m(t,[{key:"preload",value:function(t,e){return e().pipe(kh((function(){return Ml(null)})))}}]),t}(),{provide:dp,useValue:{enableTracing:!1}}];function yp(){return new yu("Router",tp)}var mp,gp=((mp=function(){function t(e,n){v(this,t)}return m(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[vp,kp(e),{provide:pp,useFactory:_p,deps:[[tp,new yt,new gt]]},{provide:dp,useValue:n||{}},{provide:Qu,useFactory:wp,deps:[Lu,[new vt($u),new yt],dp]},{provide:fp,useFactory:bp,deps:[tp,el,dp]},{provide:cp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:lp},{provide:yu,multi:!0,useFactory:yp},[Sp,{provide:Fa,multi:!0,useFactory:Ip,deps:[Sp]},{provide:Ap,useFactory:Cp,deps:[Sp]},{provide:za,multi:!0,useExisting:Ap}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[kp(e)]}}}]),t}()).\u0275mod=Te({type:mp}),mp.\u0275inj=Et({factory:function(t){return new(t||mp)(se(pp,8),se(tp,8))}}),mp);function bp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fp(t,e,n)}function wp(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ec(t,e):new tc(t,e)}function _p(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function kp(t){return[{provide:Io,multi:!0,useValue:t},{provide:zd,multi:!0,useValue:t}]}var Ep,Sp=((Ep=function(){function t(e){v(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new M}return m(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Uu,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(tp),i=t.injector.get(dp);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Ml(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(dp),n=this.injector.get(hp),r=this.injector.get(fp),i=this.injector.get(tp),o=this.injector.get(ku);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||Ep)(se(So))},Ep.\u0275prov=kt({token:Ep,factory:Ep.\u0275fac}),Ep);function Ip(t){return t.appInitializer.bind(t)}function Cp(t){return t.bootstrapListener.bind(t)}var Ap=new Jt("Router Initializer");function Tp(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function Op(t,e){return new R((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=J(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var xp,Pp,Np,Rp,Dp,jp,Fp,Lp=new Jt("NgValueAccessor"),Vp={provide:Lp,useExisting:jt((function(){return Mp})),multi:!0},Mp=((xp=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return m(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||xp)(Ho(zs),Ho(Ms))},xp.\u0275dir=xe({type:xp,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&ts("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[js([Vp])]}),xp),Up={provide:Lp,useExisting:jt((function(){return Bp})),multi:!0},qp=new Jt("CompositionEventMode"),Bp=((Rp=function(){function t(e,n,r){var i;v(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Du()?Du().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return m(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Rp)(Ho(zs),Ho(Ms),Ho(qp,8))},Rp.\u0275dir=xe({type:Rp,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ts("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[js([Up])]}),Rp),zp=((Np=function(){function t(){v(this,t)}return m(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}()).\u0275fac=function(t){return new(t||Np)},Np.\u0275dir=xe({type:Np}),Np),Hp=((Pp=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(zp)).\u0275fac=function(t){return Gp(t||Pp)},Pp.\u0275dir=xe({type:Pp,features:[To]}),Pp),Gp=(Dp=Hp,dt((function(){for(var t=Dp.prototype.constructor,e=t[Zt]||yr(t),n=Object.prototype,r=Object.getPrototypeOf(Dp.prototype).constructor;r&&r!==n;){var i=r[Zt]||yr(r);if(i&&i!==e)return i;r=Object.getPrototypeOf(r)}return function(t){return new t}}))),Wp=function(t){u(n,t);var e=l(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return m(n,[{key:"validator",get:function(){}},{key:"asyncValidator",get:function(){}}]),n}(zp),Kp=function(){function t(e){v(this,t),this._cd=e}return m(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Qp=((Fp=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(Kp)).\u0275fac=function(t){return new(t||Fp)(Ho(Wp,2))},Fp.\u0275dir=xe({type:Fp,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ds("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[To]}),Fp),Zp=((jp=function(t){u(n,t);var e=l(n);function n(t){return v(this,n),e.call(this,t)}return n}(Kp)).\u0275fac=function(t){return new(t||jp)(Ho(Hp,2))},jp.\u0275dir=xe({type:jp,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&ds("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[To]}),jp);function Yp(t){return null==t||0===t.length}function Jp(t){return null!=t&&"number"==typeof t.length}var Xp=new Jt("NgValidators"),$p=new Jt("NgAsyncValidators"),tv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ev=function(){function t(){v(this,t)}return m(t,null,[{key:"min",value:function(t){return function(e){if(Yp(e.value)||Yp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Yp(e.value)||Yp(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Yp(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Yp(t.value)||tv.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return Yp(e.value)||!Jp(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return Jp(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(Yp(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(nv);return 0==e.length?null:function(t){return iv(ov(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(nv);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(_(i))return Op(i,null);if(k(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return Op(o.map((function(t){return i[t]})),o)}}if("function"==typeof e[e.length-1]){var s=e.pop();return Op(e=1===e.length&&_(e[0])?e[0]:e,null).pipe(B((function(t){return s.apply(void 0,r(t))})))}return Op(e,null)}(ov(t,e).map(rv)).pipe(B(iv))}}}]),t}();function nv(t){return null!=t}function rv(t){var e=Xo(t)?J(t):t;return $o(e),e}function iv(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function ov(t,e){return e.map((function(e){return e(t)}))}function sv(t){return t.map((function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}}))}var av,uv,cv,lv,hv,fv,dv={provide:Lp,useExisting:jt((function(){return pv})),multi:!0},pv=((av=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return m(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||av)(Ho(zs),Ho(Ms))},av.\u0275dir=xe({type:av,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&ts("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[js([dv])]}),av),vv={provide:Lp,useExisting:jt((function(){return mv})),multi:!0},yv=((cv=function(){function t(){v(this,t),this._accessors=[]}return m(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||cv)},cv.\u0275prov=kt({token:cv,factory:cv.\u0275fac}),cv),mv=((uv=function(){function t(e,n,r,i){v(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return m(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Wp),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||uv)(Ho(zs),Ho(Ms),Ho(yv),Ho(So))},uv.\u0275dir=xe({type:uv,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&ts("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[js([vv])]}),uv),gv={provide:Lp,useExisting:jt((function(){return bv})),multi:!0},bv=((lv=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return m(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||lv)(Ho(zs),Ho(Ms))},lv.\u0275dir=xe({type:lv,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&ts("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[js([gv])]}),lv),wv={provide:Lp,useExisting:jt((function(){return _v})),multi:!0},_v=((hv=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return m(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||hv)(Ho(zs),Ho(Ms))},hv.\u0275dir=xe({type:hv,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&ts("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[js([wv])]}),hv),kv={provide:Lp,useExisting:jt((function(){return Ev})),multi:!0},Ev=((fv=function(){function t(e,n){v(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return m(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=e._getOptionValue(s.value);r.push(a)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){this._compareWith=t}}]),t}()).\u0275fac=function(t){return new(t||fv)(Ho(zs),Ho(Ms))},fv.\u0275dir=xe({type:fv,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&ts("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[js([kv])]}),fv);function Sv(t,e){t.validator=ev.compose([t.validator,e.validator]),t.asyncValidator=ev.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Iv(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Iv(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Iv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Cv(t,e){t.validator=ev.compose([t.validator,e.validator]),t.asyncValidator=ev.composeAsync([t.asyncValidator,e.asyncValidator])}function Av(t){return null!=t?ev.compose(sv(t)):null}function Tv(t){return null!=t?ev.composeAsync(sv(t)):null}var Ov=[Mp,bv,pv,_v,Ev,mv];function xv(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Pv(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Nv(t){return(Fv(t)?t.validators:t)||null}function Rv(t){return Array.isArray(t)?Av(t):t||null}function Dv(t,e){return(Fv(e)?e.asyncValidators:t)||null}function jv(t){return Array.isArray(t)?Tv(t):t||null}function Fv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Lv,Vv,Mv,Uv,qv,Bv,zv,Hv,Gv,Wv,Kv,Qv=function(){function t(e,n){v(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Rv(this._rawValidators),this._composedAsyncValidatorFn=jv(this._rawAsyncValidators)}return m(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Rv(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jv(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=rv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Yv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Jv&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new ja,this.statusChanges=new ja}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Fv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),Zv=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this,Nv(i),Dv(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return m(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Qv),Yv=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;return v(this,n),(o=e.call(this,Nv(r),Dv(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return m(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Zv?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Qv),Jv=function(t){u(r,t);var e=l(r);function r(t,n,i){var o;return v(this,r),(o=e.call(this,Nv(n),Dv(i,n))).controls=t,o._initObservables(),o._setUpdateStrategy(n),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return m(r,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof Zv?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=n(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(r){e.e(r)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),r}(Qv),Xv={provide:Hp,useExisting:jt((function(){return ty}))},$v=Promise.resolve(null),ty=((Vv=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new ja,i.form=new Yv({},Av(t),Tv(r)),i}return m(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;$v.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Sv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;$v.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Pv(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;$v.then((function(){var n=e._findContainer(t.path),r=new Yv({});Cv(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;$v.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;$v.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,xv(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Hp)).\u0275fac=function(t){return new(t||Vv)(Ho(Xp,10),Ho($p,10))},Vv.\u0275dir=xe({type:Vv,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ts("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[js([Xv]),To]}),Vv),ey=((Lv=function t(){v(this,t)}).\u0275fac=function(t){return new(t||Lv)},Lv.\u0275dir=xe({type:Lv,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Lv),ny=new Jt("NgModelWithFormControlWarning"),ry={provide:Hp,useExisting:jt((function(){return iy}))},iy=((Mv=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._validators=t,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new ja,i}return m(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Sv(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Pv(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Cv(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Cv(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,xv(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Sv(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Av(this._validators);this.form.validator=ev.compose([this.form.validator,t]);var e=Tv(this._asyncValidators);this.form.asyncValidator=ev.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Hp)).\u0275fac=function(t){return new(t||Mv)(Ho(Xp,10),Ho($p,10))},Mv.\u0275dir=xe({type:Mv,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&ts("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[js([ry]),To,ze]}),Mv),oy={provide:Wp,useExisting:jt((function(){return sy}))},sy=((Uv=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s){var a;return v(this,n),(a=e.call(this))._ngModelWarningConfig=s,a._added=!1,a.update=new ja,a._ngModelWarningSent=!1,a._parent=t,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach((function(t){var e;t.constructor===Bp?n=t:(e=t,Ov.some((function(t){return e.constructor===t}))?r=t:i=t)})),i||r||n||null}(0,o),a}return m(n,[{key:"ngOnChanges",value:function(t){var e,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(e=n,r=this._ngModelWarningConfig,Ir()&&"never"!==r&&((null!==r&&"once"!==r||e._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(t){}},{key:"path",get:function(){return function(t,e){return[].concat(r(e.path),[t])}(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Av(this._rawValidators)}},{key:"asyncValidator",get:function(){return Tv(this._rawAsyncValidators)}}]),n}(Wp)).\u0275fac=function(t){return new(t||Uv)(Ho(Hp,13),Ho(Xp,10),Ho($p,10),Ho(Lp,10),Ho(ny,8))},Uv.\u0275dir=xe({type:Uv,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[js([oy]),To,ze]}),Uv._ngModelWarningSentOnce=!1,Uv),ay={provide:Xp,useExisting:jt((function(){return uy})),multi:!0},uy=((qv=function(){function t(){v(this,t),this._required=!1}return m(t,[{key:"validate",value:function(t){return this.required?ev.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}}]),t}()).\u0275fac=function(t){return new(t||qv)},qv.\u0275dir=xe({type:qv,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&qo("required",e.required?"":null)},inputs:{required:"required"},features:[js([ay])]}),qv),cy={provide:Xp,useExisting:jt((function(){return ly})),multi:!0},ly=((Kv=function(){function t(){v(this,t),this._validator=ev.nullValidator}return m(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=ev.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||Kv)},Kv.\u0275dir=xe({type:Kv,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&qo("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[js([cy]),ze]}),Kv),hy=((Wv=function t(){v(this,t)}).\u0275mod=Te({type:Wv}),Wv.\u0275inj=Et({factory:function(t){return new(t||Wv)}}),Wv),fy=((Gv=function(){function t(){v(this,t)}return m(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Yv(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Zv(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new Jv(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof Zv||t instanceof Yv||t instanceof Jv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Gv)},Gv.\u0275prov=kt({token:Gv,factory:Gv.\u0275fac}),Gv),dy=((Hv=function t(){v(this,t)}).\u0275mod=Te({type:Hv}),Hv.\u0275inj=Et({factory:function(t){return new(t||Hv)},providers:[yv],imports:[hy]}),Hv),py=((zv=function(){function t(){v(this,t)}return m(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:ny,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=Te({type:zv}),zv.\u0275inj=Et({factory:function(t){return new(t||zv)},providers:[fy,yv],imports:[hy]}),zv),vy=((Bv=function(){function t(e,n,r){v(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return m(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Ml(this.value);case"E":return t=this.error,new R((function(e){return e.error(t)}));case"C":return Zl()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Bv("C"),Bv.undefinedValueNotification=new Bv("N",void 0),Bv);function yy(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new my(t,e))}}var my=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this.scheduler=e,this.delay=n}return m(t,[{key:"call",value:function(t,e){return e.subscribe(new gy(t,this.scheduler,this.delay))}}]),t}(),gy=function(t){u(n,t);var e=l(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return v(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return m(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new by(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(vy.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(vy.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(vy.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(T),by=function t(e,n){v(this,t),this.notification=e,this.destination=n},wy=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return m(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){u(n,t);var e=l(n);function n(t,r){return v(this,n),e.call(this)}return m(n,[{key:"schedule",value:function(t){return this}}]),n}(I)),_y=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return m(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?a(p(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?a(p(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?a(p(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(wy),ky=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;v(this,t),this.SchedulerAction=e,this.now=n}return m(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),Ey=function(t){u(n,t);var e=l(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ky.now;return v(this,n),(r=e.call(this,t,(function(){return n.delegate&&n.delegate!==f(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return m(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):a(p(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(ky),Sy=new(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return n}(Ey))(_y),Iy=Sy,Cy=function(t){u(n,t);var e=l(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return v(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return m(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}a(p(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Ay(this._getNow(),t)),this._trimBufferThenGetEvents()),a(p(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new F;if(this.isStopped||this.hasError?e=I.EMPTY:(this.observers.push(t),e=new L(this,t)),i&&t.add(t=new gy(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(var a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Iy).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(M),Ay=function t(e,n){v(this,t),this.time=e,this.value=n},Ty=new Ey(wy),Oy=1,xy=Promise.resolve(),Py={};function Ny(t){return t in Py&&(delete Py[t],!0)}var Ry=function(t){var e=Oy++;return Py[e]=!0,xy.then((function(){return Ny(e)&&t()})),e},Dy=function(t){Ny(t)},jy=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return m(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?a(p(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=Ry(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return a(p(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(Dy(e),t.scheduled=void 0)}}]),n}(wy),Fy=new(function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(Ey))(jy),Ly=function(t){u(n,t);var e=l(n);function n(t){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fy;return v(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=s,(_(i=o)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=Fy),r}return m(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fy;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(R),Vy=function(){function t(e,n){v(this,t),this.scheduler=e,this.delay=n}return m(t,[{key:"call",value:function(t,e){return new Ly(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),My=c("zIRd");function Uy(){}My.a.registerVersion("firebase","8.0.1","app");var qy=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sy;v(this,t),this.zone=e,this.delegate=n}return m(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),By=function(){function t(e){v(this,t),this.zone=e,this.task=null}return m(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Uy,{},Uy,Uy)})),e.pipe(Th({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),zy=function t(e){v(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new qy(Zone.current)})),this.insideAngular=e.run((function(){return new qy(Zone.current,Ty)}))};function Hy(t){return function(e){return(e=e.lift(new By(t.ngZone))).pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new Vy(t,e))}}(t.outsideAngular),yy(t.insideAngular))}}var Gy=["ngOnDestroy"],Wy=new Jt("angularfire2.app.options"),Ky=new Jt("angularfire2.app.nameOrConfig"),Qy=new Ws("6.0.5");function Zy(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",My.a.apps.filter((function(t){return t&&t.name===r.name}))[0]||e.runOutsideAngular((function(){return My.a.initializeApp(t,r)}))}var Yy,Jy,Xy,$y={provide:function t(){v(this,t)},useFactory:Zy,deps:[Wy,ru,[new yt,Ky]]},tm=((Xy=function(){function t(e){v(this,t),My.a.registerVersion("angularfire",Qy.full,e.toString()),My.a.registerVersion("angular",Ks.full)}return m(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:Wy,useValue:e},{provide:Ky,useValue:n}]}}}]),t}()).\u0275mod=Te({type:Xy}),Xy.\u0275inj=Et({factory:function(t){return new(t||Xy)(se(Ba))},providers:[$y]}),Xy),em=((Jy=function t(e,n,i,o){v(this,t);var s,a,u=new zy(o),l=Hy(u),h=Ml(void 0).pipe(yy(u.outsideAngular),fh((function(){return o.runOutsideAngular((function(){return c.e(5).then(c.bind(null,"6nsN"))}))})),B((function(){return Zy(e,o,n)})),B((function(t){return o.runOutsideAngular((function(){return t.auth()}))})),(a=(s={bufferSize:1,refCount:!1})&&"object"==typeof s?s:{bufferSize:s,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new Cy(i,s,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add((function(){c--,r.unsubscribe(),n&&!h&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(a))}));return $c(i)?this.authState=this.user=this.idToken=this.idTokenResult=Ml(null):(h.pipe(Ch()).subscribe(),this.authState=h.pipe(fh((function(t){return t.getRedirectResult().then((function(){return t}),(function(){return t}))})),fh((function(t){return o.runOutsideAngular((function(){return new R(t.onAuthStateChanged.bind(t))}))})),l),this.user=h.pipe(fh((function(t){return t.getRedirectResult().then((function(){return t}),(function(){return t}))})),fh((function(t){return o.runOutsideAngular((function(){return new R(t.onIdTokenChanged.bind(t))}))})),l),this.idToken=this.user.pipe(fh((function(t){return t?J(t.getIdToken()):Ml(null)}))),this.idTokenResult=this.user.pipe(fh((function(t){return t?J(t.getIdTokenResult()):Ml(null)})))),function(t,e,n){return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){if(t[o])return t[o];if(Gy.indexOf(o)>-1)return function(){};var i=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return i[e]},apply:function(t,e,n){return i.then((function(t){return t&&t.apply(void 0,r(n))}))}})}))}})}(this,h,o)}).\u0275fac=function(t){return new(t||Jy)(se(Wy),se(Ky,8),se(Ba),se(ru))},Jy.\u0275prov=kt({factory:function(){return new Jy(se(Wy),se(Ky,8),se(Ba),se(ru))},token:Jy,providedIn:"any"}),Jy),nm=((Yy=function t(){v(this,t)}).\u0275mod=Te({type:Yy}),Yy.\u0275inj=Et({factory:function(t){return new(t||Yy)},providers:[em]}),Yy);function rm(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ty;return new R((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot(n)})):r=t.onSnapshot(n),function(){null!=r&&r()}}))}(t,e)}function im(t,e){return rm(t,e).pipe(B((function(t){return{payload:t,type:"query"}})))}function om(t,e){return im(t,e).pipe(B((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function sm(t,e,n){return im(t,n).pipe(B((function(t){return t.payload.docChanges()})),bh((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),B((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function am(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}c("xsWp");var um=function(){function e(t,n,r){v(this,e),this.ref=t,this.query=n,this.afs=r}return m(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?om(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Xl((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):om(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(bh((function(t,e){return[].concat(r(t),r(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=am(t);return sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return im(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(n){return n.payload.docs.map((function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return J(this.query.get(t)).pipe(yy(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new cm(this.ref.doc(t),this.afs)}}]),e}(),cm=function(){function t(e,n){v(this,t),this.ref=e,this.afs=n}return m(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=vm(this.ref.collection(t),e),r=n.ref,i=n.query;return new um(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return rm(this.ref,this.afs.schedulers.outsideAngular).pipe(B((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(B((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return J(this.ref.get(t)).pipe(yy(this.afs.schedulers.insideAngular))}}]),t}(),lm=function(){function t(e,n){v(this,t),this.query=e,this.afs=n}return m(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?om(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),Xl((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):om(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(bh((function(t,e){return[].concat(r(t),r(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=am(t);return sm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return im(this.query,this.afs.schedulers.outsideAngular).pipe(B((function(t){return t.payload.docs.map((function(t){return t.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return J(this.query.get(t)).pipe(yy(this.afs.schedulers.insideAngular))}}]),t}(),hm=c("xsWp"),fm=new Jt("angularfire2.enableFirestorePersistence"),dm=new Jt("angularfire2.firestore.persistenceSettings"),pm=new Jt("angularfire2.firestore.settings");function vm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var ym,mm,gm,bm=((gm=function(){function t(e,n,r,i,o,s,a){var u=this;v(this,t),this.schedulers=new zy(s),this.keepUnstableUntilFirst=Hy(this.schedulers),this.firestore=s.runOutsideAngular((function(){var t=Zy(e,s,n);"registerFirestore"in hm&&hm.registerFirestore(My.a);var r=t.firestore();return i&&r.settings(i),r})),this.persistenceEnabled$=r&&!$c(o)?s.runOutsideAngular((function(){try{return J(u.firestore.enablePersistence(a||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Ml(!1)}})):Ml(!1)}return m(t,[{key:"collection",value:function(t,e){var n=vm("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new um(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new lm(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new cm(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||gm)(se(Wy),se(Ky,8),se(fm,8),se(pm,8),se(Ba),se(ru),se(dm,8))},gm.\u0275prov=kt({factory:function(){return new gm(se(Wy),se(Ky,8),se(fm,8),se(pm,8),se(Ba),se(ru),se(dm,8))},token:gm,providedIn:"any"}),gm),wm=((mm=function(){function t(){v(this,t)}return m(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:fm,useValue:!0},{provide:dm,useValue:e}]}}}]),t}()).\u0275mod=Te({type:mm}),mm.\u0275inj=Et({factory:function(t){return new(t||mm)},providers:[bm]}),mm),_m=((ym=function(){function t(e,n,r){v(this,t),this.afAuth=e,this.router=n,this.afs=r}return m(t,[{key:"login",value:function(t,e){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.afAuth.signInWithEmailAndPassword(t,e);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),console.error("login",n.t0),n.t0;case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"register",value:function(t,e){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.afAuth.createUserWithEmailAndPassword(t,e);case 3:return r=n.sent,i=r.user,n.next=7,this.sendEmailVerification();case 7:return n.abrupt("return",i);case 10:throw n.prev=10,n.t0=n.catch(0),console.error("Register error",n.t0),n.t0;case 13:case"end":return n.stop()}}),n,this,[[0,10]])})))}},{key:"sendEmailVerification",value:function(){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.afAuth.currentUser;case 3:return t.next=5,t.sent.sendEmailVerification();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("sendEmailVerification",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"isEmailVerified",value:function(t){return!0}},{key:"sendPasswordResetEmail",value:function(t){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.afAuth.sendPasswordResetEmail(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error("sendPasswordResetEmail",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"logout",value:function(){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.afAuth.signOut();case 3:localStorage.removeItem("user"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("logout",t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"updateUserData",value:function(t){try{return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,emailVerified:t.emailVerified,displayName:t.displayName},{merge:!0})}catch(e){console.error("updateUserData",e)}}},{key:"isLoggedIn",get:function(){try{return null!==JSON.parse(localStorage.getItem("user"))}catch(t){console.error("isLoggedIn",t)}}}]),t}()).\u0275fac=function(t){return new(t||ym)(se(em),se(tp),se(bm))},ym.\u0275prov=kt({token:ym,factory:ym.\u0275fac,providedIn:"root"}),ym),km=function(){function t(e){v(this,t),e?Object.assign(this,e):this.photos=new Array}return m(t,null,[{key:"CreatePatient",value:function(e,n,r,i,o){var s=new t;return s.id=e,s.name=n,s.lastName=r,s.photos=i,s.email=o,s}}]),t}(),Em=c("os0x"),Sm=c("qOnz"),Im=c("/6Yf"),Cm=function(t){function e(n,r){var i=t.call(this,Am(n),"Firebase Storage: "+r)||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Em.c)(e,t),e.prototype.codeEquals=function(t){return Am(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Sm.c);function Am(t){return"storage/"+t}function Tm(){return new Cm("unknown","An unknown error occurred, please check the error payload for server response.")}function Om(){return new Cm("canceled","User canceled the upload/download.")}function xm(){return new Cm("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pm(){return new Cm("app-deleted","The Firebase app was deleted.")}function Nm(t,e){return new Cm("invalid-format","String does not match format '"+t+"': "+e)}function Rm(t){throw new Cm("internal-error","Internal error: "+t)}var Dm={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},jm=function(t,e){this.data=t,this.contentType=e||null};function Fm(t,e){switch(t){case Dm.RAW:return new jm(Lm(e));case Dm.BASE64:case Dm.BASE64URL:return new jm(Vm(t,e));case Dm.DATA_URL:return new jm((n=new Mm(e)).base64?Vm(Dm.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw Nm(Dm.DATA_URL,"Malformed data URL.")}return Lm(e)}(n.rest),new Mm(e).contentType)}var n;throw Tm()}function Lm(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Vm(t,e){switch(t){case Dm.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Nm(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Dm.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Nm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(c){throw Nm(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Mm=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Nm(Dm.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},Um={STATE_CHANGED:"state_changed"},qm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Bm(t){switch(t){case"running":case"pausing":case"canceling":return qm.RUNNING;case"paused":return qm.PAUSED;case"success":return qm.SUCCESS;case"canceled":return qm.CANCELED;case"error":default:return qm.ERROR}}function zm(t){return null!=t}function Hm(t){return"string"==typeof t||t instanceof String}function Gm(t){return Wm()&&t instanceof Blob}function Wm(){return"undefined"!=typeof Blob}function Km(t,e,n,r){if(r<e)throw new Cm("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Cm("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}var Qm=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Zm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qm.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Qm.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Qm.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Rm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),zm(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return zm(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Rm("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Rm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Rm("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){zm(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){zm(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ym=function(){function t(){}return t.prototype.createXhrIo=function(){return new Zm},t}();function Jm(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Xm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Jm();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Wm())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var $m=function(){function t(t,e){var n=0,r="";Gm(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Gm(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Wm()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Xm.apply(null,r))}var i=e.map((function(t){return Hm(t)?Fm(Dm.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),tg=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new Cm("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new Cm("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function eg(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function ng(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function rg(t){return"https://firebasestorage.googleapis.com/v0"+t}function ig(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function og(t,e){return e}var sg=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||og},ag=null;function ug(t,e,n){var r=eg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new tg(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function cg(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var lg=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function hg(t){if(!t)throw Tm()}function fg(t,e){return function(n,r){var i=ug(t,r,e);return hg(null!==i),i}}function dg(t){return function(e,n){var r;return(r=401===e.getStatus()?new Cm("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Cm("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Cm("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function pg(t){var e=dg(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Cm("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function vg(t,e,n){var r=rg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new lg(r,"GET",fg(t,n),i);return o.errorHandler=pg(e),o}function yg(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var mg=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function gg(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){hg(!1)}return hg(!!n&&-1!==(e||["active"]).indexOf(n)),n}var bg=function(t,e,n){if("function"==typeof t||zm(e)||zm(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},wg=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};function _g(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var kg=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals("canceled")?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_("error"))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals("canceled")?s.completeTransitions_():(s.error_=t,s.transition_("error"))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=yg(e,r,i),a={name:s.fullPath},u=rg(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=cg(s,n),h=new lg(u,"POST",(function(t){var e;gg(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){hg(!1)}return hg(Hm(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=dg(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new lg(n,"POST",(function(t){var e=gg(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){hg(!1)}n||hg(!1);var i=Number(n);return hg(!isNaN(i)),new mg(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=dg(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new mg(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new mg(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Cm("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw xm();var p=new lg(n,"POST",(function(t,n){var i,s=gg(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?fg(e,o)(t,n):null,new mg(a,c,"final"===s,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=dg(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_("error")}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=vg(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=yg(e,r,i),c=cg(u,n),l=$m.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw xm();var h={name:u.fullPath},f=rg(o),d=t.maxUploadRetryTime,p=new lg(f,"POST",fg(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=dg(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=Om(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Bm(this.state_);return new wg(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new bg(e,n,r);return this.addObserver_(o),function(){i.removeObserver_(o)}},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Bm(this.state_)){case qm.SUCCESS:_g(this.resolve_.bind(null,this.snapshot))();break;case qm.CANCELED:case qm.ERROR:_g(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Bm(this.state_)){case qm.RUNNING:case qm.PAUSED:t.next&&_g(t.next.bind(t,this.snapshot))();break;case qm.SUCCESS:t.complete&&_g(t.complete.bind(t))();break;case qm.CANCELED:case qm.ERROR:t.error&&_g(t.error.bind(t,this.error_))();break;default:t.error&&_g(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),Eg=function(){function t(t,e){this.service=t,this.location=e instanceof tg?e:tg.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(ag)return ag;var t=[];t.push(new sg("bucket")),t.push(new sg("generation")),t.push(new sg("metageneration")),t.push(new sg("name","fullPath",!0));var e=new sg("name");e.xform=function(t,e){return function(t){return!Hm(t)||t.length<2?t:ng(t)}(e)},t.push(e);var n=new sg("size");return n.xform=function(t,e){return zm(e)?Number(e):e},t.push(n),t.push(new sg("timeCreated")),t.push(new sg("updated")),t.push(new sg("md5Hash",null,!0)),t.push(new sg("cacheControl",null,!0)),t.push(new sg("contentDisposition",null,!0)),t.push(new sg("contentEncoding",null,!0)),t.push(new sg("contentLanguage",null,!0)),t.push(new sg("contentType",null,!0)),t.push(new sg("metadata","customMetadata",!0)),ag=t}()},t.prototype.child=function(t){var e=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new tg(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new tg(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new tg(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return ng(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new kg(this,this.service,this.location,this.mappings(),new $m(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Dm.RAW),this.throwIfRoot_("putString");var r=Fm(e,t),i=Object.assign({},n);return!zm(i.contentType)&&zm(r.contentType)&&(i.contentType=r.contentType),new kg(this,this.service,this.location,this.mappings(),new $m(r.data,!0),i)},t.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=function(t,e){var n=rg(e.fullServerUrl()),r=new lg(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=pg(e),r}(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(Em.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Em.d)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&Km("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=rg(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new lg(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=eg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new tg(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new tg(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return hg(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=dg(e),u}(e.service,e.location,0,n.pageToken,n.maxResults);return e.service.makeRequest(r,t).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=vg(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=function(t,e,n,r){var i=rg(e.fullServerUrl()),o=cg(n,r),s=t.maxOperationRetryTime,a=new lg(i,"PATCH",fg(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=pg(e),a}(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=function(t,e,n){var r=rg(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new lg(r,"GET",function(t,e){return function(n,r){var i=ug(t,r,e);return hg(null!==i),function(t,e){var n=eg(e);if(null===n)return null;if(!Hm(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return rg("/b/"+i(t.bucket)+"/o/"+i(n))+ig({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=pg(e),o}(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new Cm("no-download-url","The given file does not have any download URLs.");return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Cm("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Sg=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Ig=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(u){o(u)}else null!==s?((r=Tm()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Pm():Om():new Cm("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new Cg(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout((function(){o=null,function(e,n){if(n)e(!1,new Cg(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Qm.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new Cg(s,n))}else{var a=n.getErrorCode()===Qm.ABORT;e(!1,new Cg(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Em.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Em.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),Cg=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n},Ag=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?tg.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new Tg(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:tg.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(Em.b)(this,void 0,void 0,(function(){var t,e;return Object(Em.d)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new Eg(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Sg(Pm());var r=function(t,e,n,r){var i=ig(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==My.a?My.a.SDK_VERSION:"AppManager")}(s),new Ig(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new Cm("invalid-argument","Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new Eg(this,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new Cm("invalid-argument","Expected full URL but got a child path, use ref instead.");try{tg.makeFromUrl(t)}catch(e){throw new Cm("invalid-argument","Expected valid full URL but got an invalid one.")}return new Eg(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Km("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Km("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),Tg=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function Og(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Ag(n,r,new Ym,e)}function xg(t){var e={TaskState:qm,TaskEvent:Um,StringFormat:Dm,Storage:Ag,Reference:Eg};t.INTERNAL.registerComponent(new Im.a("storage",Og,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.1")}function Pg(t){var e=function(t){return new R((function(e){var n=function(t){return e.next(t)};return t.on("state_changed",n,(function(t){return e.error(t)}),(function(){n(t.snapshot),e.complete()})),function(){return t.cancel()}}))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:function(){return e},percentageChanges:function(){return e.pipe(B((function(t){return t.bytesTransferred/t.totalBytes*100})))}}}function Ng(t,e,n){return{getDownloadURL:function(){return Ml(void 0).pipe(yy(e.outsideAngular),fh((function(){return t.getDownloadURL()})),n)},getMetadata:function(){return Ml(void 0).pipe(yy(e.outsideAngular),fh((function(){return t.getMetadata()})),n)},delete:function(){return J(t.delete())},child:function(r){return Ng(t.child(r),e,n)},updateMetadata:function(e){return J(t.updateMetadata(e))},put:function(e,n){return Pg(t.put(e,n))},putString:function(e,n,r){return Pg(t.putString(e,n,r))},listAll:function(){return J(t.listAll())}}}xg(My.a);var Rg,Dg,jg,Fg,Lg,Vg,Mg,Ug,qg,Bg,zg,Hg,Gg,Wg,Kg,Qg=new Jt("angularfire2.storageBucket"),Zg=((jg=function(){function t(e,n,r,i,o){v(this,t),this.schedulers=new zy(o),this.keepUnstableUntilFirst=Hy(this.schedulers),this.storage=o.runOutsideAngular((function(){var t=Zy(e,o,n);return xg&&xg(My.a),t.storage(r||void 0)}))}return m(t,[{key:"ref",value:function(t){return Ng(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(t,e,n){return Ng(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}]),t}()).\u0275fac=function(t){return new(t||jg)(se(Wy),se(Ky,8),se(Qg,8),se(Ba),se(ru))},jg.\u0275prov=kt({factory:function(){return new jg(se(Wy),se(Ky,8),se(Qg,8),se(Ba),se(ru))},token:jg,providedIn:"any"}),jg),Yg=((Dg=function t(){v(this,t)}).\u0275mod=Te({type:Dg}),Dg.\u0275inj=Et({factory:function(t){return new(t||Dg)},providers:[Zg]}),Dg),Jg=((Rg=function(){function t(e,n){var r=this;v(this,t),this.db=e,this.storage=n,this.getPatients().subscribe((function(t){r.patients=t})),this.patientsDB=this.db.collection("/patients",(function(t){return t}))}return m(t,[{key:"getPatients",value:function(){return this.db.collection("patients",(function(t){return t})).snapshotChanges().pipe(B((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"getPatientById",value:function(t){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.db.collection("patients").doc(t).get().toPromise().then((function(t){if(t.exists){var e=t.data();return new km(e)}}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"createPatient",value:function(t,e){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Creando paciente"),n.prev=1,n.next=4,this.addPatient(t).then((function(t){return console.log("Patient created"),t.photos=new Array,e.forEach((function(e){i.uploadImage(t,e)})),t}));case 4:return r=n.sent,n.abrupt("return",(console.log(r),r));case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"addPatient",value:function(t){var e=this;return new Promise((function(n,r){e.patientsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then((function(e){n(t)}),(function(t){return r(console.error(t))}))}))}},{key:"deletePatient",value:function(t){try{return this.db.collection("patients").doc(t.id).delete().then((function(t){console.log(t)}))}catch(e){console.log("Error: ",e)}}},{key:"editPatient",value:function(t){return this.db.collection("patients").doc(t.id).set(t,{merge:!0})}},{key:"uploadImage",value:function(t,e){var n=this;this.filePath="patients/"+e.name;var r=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Ph((function(){r.getDownloadURL().subscribe((function(e){n.downloadURL=e,t.photos.push(n.downloadURL),n.editPatient(t).then((function(){}))}))}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Rg)(se(bm),se(Zg))},Rg.\u0275prov=kt({token:Rg,factory:Rg.\u0275fac,providedIn:"root"}),Rg),Xg=function(){function t(e){v(this,t),e&&Object.assign(this,e)}return m(t,null,[{key:"CreateProfessional",value:function(e,n,r,i,o,s){var a=new t;return a.id=e,a.name=n,a.lastName=r,a.photos=i,a.email=o,a.specialty=s,a}}]),t}(),$g=((Fg=function(){function t(e,n){var r=this;v(this,t),this.db=e,this.storage=n,this.getProfessionals().subscribe((function(t){r.professionals=t})),this.professionalsDB=this.db.collection("/professionals",(function(t){return t.orderBy("date")}))}return m(t,[{key:"getProfessionals",value:function(){return this.db.collection("professionals").snapshotChanges().pipe(B((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"getProfessionalById",value:function(t){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.db.collection("professionals").doc(t).get().toPromise().then((function(t){if(t.exists){var e=t.data();return new Xg(e)}}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"createProfessional",value:function(t,e){var n=this;return this.addProfessional(t).then((function(r){return console.log("Professional created"),e.forEach((function(e){n.uploadImage(t,e)})),r}))}},{key:"addProfessional",value:function(t){var e=this;return new Promise((function(n,r){e.professionalsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then((function(e){n(t)}),(function(t){return r(console.error(t))}))}))}},{key:"deleteProfessional",value:function(t){try{return this.db.collection("professionals").doc(t.id).delete().then((function(t){console.log(t)}))}catch(e){console.log("Error: ",e)}}},{key:"editProfessional",value:function(t){return this.db.collection("professionals").doc(t.id).set(t,{merge:!0})}},{key:"uploadImage",value:function(t,e){var n=this;this.filePath="professionals/"+e.name;var r=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Ph((function(){r.getDownloadURL().subscribe((function(e){n.downloadURL=e,t.photos=new Array,t.photos.push(n.downloadURL),n.editProfessional(t).then((function(){return console.log("Updated photo")}))}))}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Fg)(se(bm),se(Zg))},Fg.\u0275prov=kt({token:Fg,factory:Fg.\u0275fac,providedIn:"root"}),Fg),tb=function(){function t(e){v(this,t),e&&Object.assign(this,e)}return m(t,null,[{key:"CrearProfesional",value:function(e,n,r,i,o){var s=new t;return s.id=e,s.name=n,s.lastName=r,s.photos=i,s.email=o,s}}]),t}(),eb=((Lg=function(){function t(e,n){var r=this;v(this,t),this.db=e,this.storage=n,this.getAdministrators().subscribe((function(t){r.administrators=t})),this.administratorsDB=this.db.collection("/administrators",(function(t){return t.orderBy("date")}))}return m(t,[{key:"getAdministrators",value:function(){return this.db.collection("administrators").snapshotChanges().pipe(B((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"getAdministratorById",value:function(t){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.db.collection("administrators").doc(t).get().toPromise().then((function(t){if(t.exists){var e=t.data();return new tb(e)}}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"createAdministrator",value:function(t,e){var n=this;return this.addAdministrator(t).then((function(r){return console.log("Administrator created"),e.forEach((function(e){n.uploadImage(t,e)})),r}))}},{key:"addAdministrator",value:function(t){var e=this;return new Promise((function(n,r){e.administratorsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then((function(e){n(t)}),(function(t){return r(console.error(t))}))}))}},{key:"deleteAdministrator",value:function(t){try{return this.db.collection("administrators").doc(t.id).delete().then((function(t){console.log(t)}))}catch(e){console.log("Error: ",e)}}},{key:"editAdministrator",value:function(t){return this.db.collection("administrators").doc(t.id).set(t,{merge:!0})}},{key:"uploadImage",value:function(t,e){var n=this;this.filePath="administrators/"+e.name;var r=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Ph((function(){r.getDownloadURL().subscribe((function(e){n.downloadURL=e,t.photos=new Array,t.photos.push(n.downloadURL),n.editAdministrator(t).then((function(){return console.log("Updated photo")}))}))}))).subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Lg)(se(bm),se(Zg))},Lg.\u0275prov=kt({token:Lg,factory:Lg.\u0275fac,providedIn:"root"}),Lg),nb=new Jt("recaptcha-language"),rb=new Jt("recaptcha-base-url"),ib=new Jt("recaptcha-nonce-tag"),ob=new Jt("recaptcha-settings"),sb=new Jt("recaptcha-v3-site-key"),ab=((Vg=Mg=function(){function t(e,n,r,i,o){v(this,t),this.platformId=e,this.language=n,this.baseUrl=r,this.nonce=i,this.v3SiteKey=o,this.init(),this.ready=Xc(this.platformId)?Mg.ready.asObservable():Ml()}return m(t,[{key:"init",value:function(){if(!Mg.ready&&Xc(this.platformId)){var t=new Ul(null);Mg.ready=t,function(e,n,r,i,o){window.ng2recaptchaloaded=function(){!function(e){t.next(e)}(grecaptcha)};var s=document.createElement("script");s.innerHTML="",s.src="".concat(i||"https://www.google.com/recaptcha/api.js","?render=").concat(e,"&onload=ng2recaptchaloaded").concat(r),o&&(s.nonce=o),s.async=!0,s.defer=!0,document.head.appendChild(s)}(this.v3SiteKey||"explicit",0,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}]),t}()).\u0275fac=function(t){return new(t||Vg)(se(Ba),se(nb,8),se(rb,8),se(ib,8),se(sb,8))},Vg.\u0275prov=kt({token:Vg,factory:function(t){return Vg.\u0275fac(t)}}),Vg.ready=null,Vg),ub=0,cb=((Bg=function(){function t(e,n,r,i){v(this,t),this.elementRef=e,this.loader=n,this.zone=r,this.id="ngrecaptcha-"+ub++,this.resolved=new ja,i&&(this.siteKey=i.siteKey,this.theme=i.theme,this.type=i.type,this.size=i.size,this.badge=i.badge)}return m(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.subscription=this.loader.ready.subscribe((function(e){null!=e&&e.render instanceof Function&&(t.grecaptcha=e,t.renderRecaptcha())}))}},{key:"ngOnDestroy",value:function(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}},{key:"execute",value:function(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}},{key:"reset",value:function(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}},{key:"expired",value:function(){this.resolved.emit(null)}},{key:"captchaResponseCallback",value:function(t){this.resolved.emit(t)}},{key:"grecaptchaReset",value:function(){var t=this;null!=this.widget&&this.zone.runOutsideAngular((function(){return t.grecaptcha.reset(t.widget)}))}},{key:"renderRecaptcha",value:function(){var t=this;this.widget=this.grecaptcha.render(this.elementRef.nativeElement,{badge:this.badge,callback:function(e){t.zone.run((function(){return t.captchaResponseCallback(e)}))},"expired-callback":function(){t.zone.run((function(){return t.expired()}))},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type}),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}]),t}()).\u0275fac=function(t){return new(t||Bg)(Ho(Ms),Ho(ab),Ho(ru),Ho(ob,8))},Bg.\u0275cmp=Se({type:Bg,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,e){2&t&&qo("id",e.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),Bg),lb=((qg=function t(){v(this,t)}).\u0275mod=Te({type:qg}),qg.\u0275inj=Et({factory:function(t){return new(t||qg)}}),qg),hb=((Ug=zg=function(){function t(){v(this,t)}return m(t,null,[{key:"forRoot",value:function(){return zg}}]),t}()).\u0275mod=Te({type:Ug}),Ug.\u0275inj=Et({factory:function(t){return new(t||Ug)},providers:[ab],imports:[[lb]]}),Ug),fb=((Hg=Gg=function(){function t(e){v(this,t),this.host=e}return m(t,[{key:"writeValue",value:function(t){t||this.host.reset()}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"onResolve",value:function(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}]),t}()).\u0275fac=function(t){return new(t||Hg)(Ho(cb))},Hg.\u0275dir=xe({type:Hg,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,e){1&t&&ts("resolved",(function(t){return e.onResolve(t)}))},features:[js([{multi:!0,provide:Lp,useExisting:jt((function(){return Gg}))}])]}),Hg),db=((Kg=function t(){v(this,t)}).\u0275mod=Te({type:Kg}),Kg.\u0275inj=Et({factory:function(t){return new(t||Kg)},imports:[[dy,lb]]}),Kg),pb=((Wg=function(){function t(){v(this,t),this.dismiss=new ja}return m(t,[{key:"ngOnInit",value:function(){}},{key:"onDismiss",value:function(){this.dismiss.emit()}}]),t}()).\u0275fac=function(t){return new(t||Wg)},Wg.\u0275cmp=Se({type:Wg,selectors:[["boot-alert"]],inputs:{color:"color",mensaje:"mensaje"},outputs:{dismiss:"dismiss"},decls:5,vars:4,consts:[["role","alert"],["type","button",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){var n;1&t&&(Qo(0,"div",0),Es(1),Qo(2,"button",1),ts("click",(function(){return e.onDismiss()})),Qo(3,"span",2),Es(4,"\xd7"),Zo(),Zo(),Zo()),2&t&&(n=e.color,function(t,e,n,r){var i=fn(),o=kn(2);i.firstUpdatePass&&ys(i,null,o,!0);var s=hn();if(n!==qr&&Mo(s,o,n)){var a=i.data[Rn()+20];if(ks(a,!0)&&!vs(i,o)){var u=a.classesWithoutHost;null!==u&&(n=Rt(u,n||"")),Ko(i,a,s,n,!0)}else!function(t,e,n,r,i,o,s,a){i===qr&&(i=ss);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,v=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,v=d),null!==p&&bs(t,e,n,r,p,v,!0,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return ss;var r=[],i=kr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(ve,ps,Bo(hn(),"alert alert-",n," alert-dismissible fade show")),Wr(1),Is(" ",e.mensaje," "))},styles:[""]}),Wg);function vb(t,e){if(1&t){var n=Jo();Qo(0,"div"),Qo(1,"button",22),ts("click",(function(){return dn(n),rs(2).enterAsClient()})),Qo(2,"div",23),Yo(3,"img",24),Qo(4,"div",25),Qo(5,"h5",26),Es(6),Zo(),Zo(),Zo(),Zo(),Qo(7,"button",22),ts("click",(function(){return dn(n),rs(2).enterAsClient1()})),Qo(8,"div",23),Yo(9,"img",24),Qo(10,"div",25),Qo(11,"h5",26),Es(12),Zo(),Zo(),Zo(),Zo(),Qo(13,"button",22),ts("click",(function(){return dn(n),rs(2).enterAsProfessional()})),Qo(14,"div",23),Yo(15,"img",24),Qo(16,"div",25),Qo(17,"h5",26),Es(18),Zo(),Zo(),Zo(),Zo(),Qo(19,"button",22),ts("click",(function(){return dn(n),rs(2).enterAsProfessional1()})),Qo(20,"div",23),Yo(21,"img",24),Qo(22,"div",25),Qo(23,"h5",26),Es(24),Zo(),Zo(),Zo(),Zo(),Qo(25,"button",22),ts("click",(function(){return dn(n),rs(2).enterAsAdministrator()})),Qo(26,"div",23),Yo(27,"img",24),Qo(28,"div",25),Qo(29,"h5",26),Es(30),Zo(),Zo(),Zo(),Zo(),Zo()}if(2&t){var r=rs(2);Wr(3),is("src",r.patientTesting.photos[0],Or),Wr(3),Is("Paciente: ",r.patientTesting.name,""),Wr(3),is("src",r.patientTesting2.photos[0],Or),Wr(3),Is("Paciente: ",r.patientTesting2.name,""),Wr(3),is("src",r.professionalTesting.photos[0],Or),Wr(3),Is("Profesional: ",r.professionalTesting.name,""),Wr(3),is("src",r.professionalTesting2.photos[0],Or),Wr(3),Is("Profesional: ",r.professionalTesting2.name,""),Wr(3),is("src",r.administratorTesting.photos[0],Or),Wr(3),Is("Administrador: ",r.administratorTesting.name,"")}}function yb(t,e){if(1&t&&(Qo(0,"div"),Qo(1,"div"),Qo(2,"label"),zo(3,vb,31,10,"div",3),Zo(),Zo(),Zo()),2&t){var n=rs();Wr(3),Wo("ngIf",n.administratorTesting)}}function mb(t,e){if(1&t){var n=Jo();Qo(0,"button",22),ts("click",(function(){dn(n);var t=rs();return t.testing=!t.testing})),Es(1,"Mostrar usuarios testing"),Zo()}}function gb(t,e){if(1&t&&Yo(0,"boot-alert",27),2&t){var n=rs();Wo("mensaje",n.mensaje)("color",n.bootColorAlert)}}function bb(t,e){if(1&t){var n=Jo();Qo(0,"button",28),ts("click",(function(){return dn(n),rs().onLogin()})),Es(1,"Entrar"),Zo()}2&t&&Wo("disabled",rs().loginForm.invalid)}function wb(t,e){1&t&&(Qo(0,"div",29),Qo(1,"span",30),Es(2,"Loading..."),Zo(),Zo())}var _b,kb=((_b=function(){function t(e,n,r,i,o,s){v(this,t),this.fb=e,this.router=n,this.authService=r,this.patientService=i,this.professionalService=o,this.administratorService=s,this.createForm(),this.condicion=!1,this.testing=!1,this.spinner=!1,this.submitted=!1}return m(t,[{key:"ngOnInit",value:function(){this.loadTesters()}},{key:"loadTesters",value:function(){var t=this;this.patientService.getPatientById("cEewD51RQsYrvaYHQ3eRAzkUHDJ3").then((function(e){t.patientTesting=e})),this.patientService.getPatientById("u7J9vE2bebTUh8rtLxBNEyEdOc73").then((function(e){t.patientTesting2=e})),this.professionalService.getProfessionalById("gyFb67SEpFPDD8FzTONy9XJCZM22").then((function(e){t.professionalTesting=e})),this.professionalService.getProfessionalById("gxEvpY2NmUXicRjeIsBp3AdS72H3").then((function(e){t.professionalTesting2=e})),this.administratorService.getAdministratorById("ieLf7BsRyOQH0I7WlRAzk9Fw0Bn1").then((function(e){t.administratorTesting=e}))}},{key:"createForm",value:function(){this.loginForm=this.fb.group({email:["",ev.required],password:["",ev.required],recaptchaReactive:["",ev.required]})}},{key:"getUserAccount",value:function(t){return Tp(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.patientService.getPatientById(t.uid).then((function(t){t&&(console.log("Bienvenido PACIENTE",t.name),localStorage.setItem("user",JSON.stringify(t)),_m.user=t)}));case 2:return e.next=4,this.professionalService.getProfessionalById(t.uid).then((function(t){t&&(console.log("Bienvenido PROFESIONAL",t.name),localStorage.setItem("user",JSON.stringify(t)),_m.user=t)}));case 4:return e.next=6,this.administratorService.getAdministratorById(t.uid).then((function(t){t&&(console.log("Bienvenido ADMINISTRADOR",t.name),localStorage.setItem("user",JSON.stringify(t)),_m.user=t)}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"onLogin",value:function(){var t=this;this.spinner=!0,console.log(this.loginForm.controls.email.value,this.loginForm.controls.password.value),this.authService.login(this.loginForm.controls.email.value,this.loginForm.controls.password.value).then((function(e){if(t.verificarUsuarioTesting(e.user))return!0;e.user.emailVerified?t.onLoginSuccess():(t.bootColorAlert="danger",t.mensaje="Verifique su email",t.spinner=!1,t.submitted=!0)})).catch((function(e){t.bootColorAlert="danger",t.cargarMensajeErrorAuth(e),t.submitted=!0,t.spinner=!1,console.log("Error: ",e)}))}},{key:"onLoginSuccess",value:function(){var t=this;this.bootColorAlert="success",this.mensaje="Verificado\u2713",this.submitted=!0,setTimeout((function(e){t.router.navigate(["/home"])}),2e3)}},{key:"verificarUsuarioTesting",value:function(t){switch(t.email){case"paciente@gonzales.com":case"jorge@gmail.com":case"medico@valderrama.com":case"Medico2@Delaolla.com":case"administrador@administrador.com":return this.onLoginSuccess(),!0;default:return!1}}},{key:"cargarMensajeErrorAuth",value:function(t){switch(t.code){case"auth/user-not-found":this.mensaje="Usuario no registrado";break;case"auth/wrong-password":this.mensaje="Contrase\xf1a incorrecta";break;case"auth/invalid-email":this.mensaje="email invalido";break;case"auth/email-already-exists":this.mensaje="El email ya existe";default:this.mensaje="email invalido"}}},{key:"enterAsClient",value:function(){this.loginForm.controls.email.setValue("paciente@gonzales.com"),this.loginForm.controls.password.setValue("111111")}},{key:"enterAsClient1",value:function(){this.loginForm.controls.email.setValue("jorge@gmail.com"),this.loginForm.controls.password.setValue("111111")}},{key:"enterAsProfessional",value:function(){this.loginForm.controls.email.setValue("medico@valderrama.com"),this.loginForm.controls.password.setValue("111111")}},{key:"enterAsProfessional1",value:function(){this.loginForm.controls.email.setValue("Medico2@Delaolla.com"),this.loginForm.controls.password.setValue("111111")}},{key:"enterAsAdministrator",value:function(){this.loginForm.controls.email.setValue("administrador@administrador.com"),this.loginForm.controls.password.setValue("111111")}},{key:"resolved",value:function(t){}}]),t}()).\u0275fac=function(t){return new(t||_b)(Ho(fy),Ho(tp),Ho(_m),Ho(Jg),Ho($g),Ho(eb))},_b.\u0275cmp=Se({type:_b,selectors:[["app-login"]],decls:28,vars:6,consts:[[1,"text-center","body"],[1,"container"],[1,"d-flex"],[4,"ngIf"],[1,"p-2","flex-grow-1"],[1,"form-signin",3,"formGroup"],["src","../../../assets/images/medialSign.svg","alt","","width","150","height","150",1,"mb-4"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Correo","name","email","required","","autofocus","","formControlName","email",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Contrase\xf1a","name","password","required","","formControlName","password",1,"form-control"],["class","btn btn-sm btn-primary btn-block","type","submit",3,"click",4,"ngIf"],["formControlName","recaptchaReactive","siteKey","6LeKd98ZAAAAANCIjc5-WVR4PiaFaeLn9J1uh9bm","required","",3,"resolved"],[3,"mensaje","color",4,"ngIf"],["class","btn btn-lg btn-primary btn-block","type","submit",3,"disabled","click",4,"ngIf"],["class","spinner-grow text-warning","role","status",4,"ngIf"],["type","submit","routerLink","/signup",1,"btn","btn-sm","btn-secondary","btn-block"],[1,"mt-5","mb-3","text-muted"],["aria-label","Favorite",1,"mdc-fab"],[1,"mdc-fab__ripple"],[1,"mdc-fab__icon","material-icons"],["type","submit",1,"btn","btn-sm","btn-primary","btn-block",3,"click"],[1,"media"],[1,"mr-3",2,"width","50px",3,"src"],[1,"media-body"],[1,"mt-0"],[3,"mensaje","color"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled","click"],["role","status",1,"spinner-grow","text-warning"],[1,"sr-only"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Qo(2,"div",2),zo(3,yb,4,1,"div",3),Qo(4,"div",4),Qo(5,"form",5),Yo(6,"img",6),Qo(7,"h1",7),Es(8,"Clinica Online"),Zo(),Qo(9,"label",8),Es(10,"Correo"),Zo(),Yo(11,"input",9),Qo(12,"label",10),Es(13,"Contrase\xf1a"),Zo(),Yo(14,"input",11),zo(15,mb,2,0,"button",12),Qo(16,"re-captcha",13),ts("resolved",(function(t){return e.resolved(t)})),Zo(),zo(17,gb,1,2,"boot-alert",14),zo(18,bb,2,1,"button",15),zo(19,wb,3,0,"div",16),Qo(20,"button",17),Es(21,"Registrarme"),Zo(),Qo(22,"p",18),Es(23,"\xa9 Federico Vera"),Zo(),Zo(),Zo(),Zo(),Zo(),Zo(),Qo(24,"button",19),Yo(25,"div",20),Qo(26,"span",21),Es(27,"favorite"),Zo(),Zo()),2&t&&(Wr(3),Wo("ngIf",e.testing),Wr(2),Wo("formGroup",e.loginForm),Wr(10),Wo("ngIf",!e.testing),Wr(2),Wo("ngIf",e.submitted),Wr(1),Wo("ngIf",!e.spinner),Wr(1),Wo("ngIf",e.spinner))},directives:[Uc,ey,Zp,iy,Bp,uy,Qp,sy,cb,fb,ep,pb],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width:768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),_b);function Eb(t,e){1&t&&(Qo(0,"li",7),Qo(1,"a",12),Es(2,"Usuarios "),Qo(3,"span",9),Es(4,"(current)"),Zo(),Zo(),Zo())}function Sb(t,e){1&t&&(Qo(0,"li",7),Qo(1,"a",13),Es(2,"Turnos "),Qo(3,"span",9),Es(4,"(current)"),Zo(),Zo(),Zo())}function Ib(t,e){1&t&&(Qo(0,"li",7),Qo(1,"a",14),Es(2,"Mis Turnos"),Qo(3,"span",9),Es(4,"(current)"),Zo(),Zo(),Zo())}function Cb(t,e){1&t&&(Qo(0,"li",7),Qo(1,"a",15),Es(2,"Solicitar Turno "),Qo(3,"span",9),Es(4,"(current)"),Zo(),Zo(),Zo())}var Ab,Tb,Ob,xb,Pb=((xb=function(){function t(e,n){v(this,t),this.router=e,this.AuthService=n}return m(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user"))}},{key:"ngAfterViewInit",value:function(){}},{key:"logOut",value:function(){localStorage.removeItem("user"),this.router.navigate(["/login"]),this.AuthService.logout().then((function(t){console.log("LogOut Successful")}))}}]),t}()).\u0275fac=function(t){return new(t||xb)(Ho(tp),Ho(_m))},xb.\u0275cmp=Se({type:xb,selectors:[["app-header"]],decls:20,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],["routerLink","/myProfile",1,"nav-link","btn-outline-secondary"],[1,"sr-only"],[1,"form-inline","mt-2","mt-md-0"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],["routerLink","/users",1,"nav-link","btn-outline-secondary"],["routerLink","/appointments",1,"nav-link","btn-outline-secondary"],["routerLink","/myAppointments",1,"nav-link","btn-outline-secondary"],["routerLink","/signupAppointment",1,"nav-link","btn-outline-secondary"]],template:function(t,e){1&t&&(Qo(0,"header"),Qo(1,"nav",0),Qo(2,"a",1),Es(3,"Clinica Online"),Zo(),Qo(4,"button",2),Yo(5,"span",3),Zo(),Qo(6,"div",4),Qo(7,"ul",5),zo(8,Eb,5,0,"li",6),zo(9,Sb,5,0,"li",6),zo(10,Ib,5,0,"li",6),zo(11,Cb,5,0,"li",6),Qo(12,"li",7),Qo(13,"a",8),Es(14," Mi perfil "),Qo(15,"span",9),Es(16,"(current)"),Zo(),Zo(),Zo(),Zo(),Qo(17,"form",10),Qo(18,"button",11),ts("click",(function(){return e.logOut()})),Es(19,"Salir"),Zo(),Zo(),Zo(),Zo(),Zo()),2&t&&(Wr(8),Wo("ngIf","administrator"==e.user.usertype),Wr(1),Wo("ngIf","administrator"==e.user.usertype),Wr(1),Wo("ngIf","patient"==e.user.usertype||"professional"==e.user.usertype),Wr(1),Wo("ngIf","patient"==e.user.usertype||"administrator"==e.user.usertype))},directives:[np,Uc,ey,Zp,ty],styles:[""]}),xb),Nb=((Ob=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ob)},Ob.\u0275cmp=Se({type:Ob,selectors:[["app-carousel"]],decls:25,vars:0,consts:[["id","myCarousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#myCarousel","data-slide-to","0",1,"active"],["data-target","#myCarousel","data-slide-to","1"],["data-target","#myCarousel","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["width","100%","height","100%","src","https://englishlive.ef.com/es-mx/blog/wp-content/uploads/sites/8/2018/09/Vocabulario-en-ingl%C3%A9s-que-todo-m%C3%A9dico-debe-conocer.jpg","alt","",1,"bd-placeholder-img"],[1,"container"],[1,"carousel-caption","text-left","text-dark","font-weight-bold"],["routerLink","/signupAppointment","role","button",1,"btn","btn-lg","btn-primary"],["href","#myCarousel","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#myCarousel","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"ol",1),Yo(2,"li",2),Yo(3,"li",3),Yo(4,"li",4),Zo(),Qo(5,"div",5),Qo(6,"div",6),Yo(7,"img",7),Qo(8,"div",8),Qo(9,"div",9),Qo(10,"h1"),Es(11,"Pida un turno."),Zo(),Qo(12,"p"),Es(13,"Puede pedir un turno seleccionando al profesional o la especialidad."),Zo(),Qo(14,"p"),Qo(15,"a",10),Es(16,"Pedir turno"),Zo(),Zo(),Zo(),Zo(),Zo(),Zo(),Qo(17,"a",11),Yo(18,"span",12),Qo(19,"span",13),Es(20,"Previous"),Zo(),Zo(),Qo(21,"a",14),Yo(22,"span",15),Qo(23,"span",13),Es(24,"Next"),Zo(),Zo(),Zo())},directives:[np],styles:[""]}),Ob),Rb=((Tb=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Tb)},Tb.\u0275cmp=Se({type:Tb,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"],[1,"text-center"]],template:function(t,e){1&t&&(Qo(0,"footer",0),Qo(1,"p",1),Es(2,"\xa9 Federico Vera \xb7 "),Zo(),Zo())},styles:[""]}),Tb),Db=((Ab=function(){function t(e){v(this,t),this.authService=e}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ab)(Ho(_m))},Ab.\u0275cmp=Se({type:Ab,selectors:[["app-menu-principal"]],decls:5,vars:0,consts:[["role","main"],[1,"container","marketing"]],template:function(t,e){1&t&&(Yo(0,"app-header"),Qo(1,"main",0),Yo(2,"app-carousel"),Yo(3,"div",1),Yo(4,"app-footer"),Zo())},directives:[Pb,Nb,Rb],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width:768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),Ab),jb=function(t){return t.PATIENT="patient",t.ADMINISTRATOR="administrator",t.PROFESSIONAL="professional",t}({});function Fb(t,e){1&t&&(Qo(0,"div"),Es(1," Nombre es requerido. "),Zo())}function Lb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Fb,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.name.errors.required)}}function Vb(t,e){1&t&&(Qo(0,"div"),Es(1," Apellido es requerido. "),Zo())}function Mb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Vb,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.lastName.errors.required)}}function Ub(t,e){1&t&&(Qo(0,"div"),Es(1," Edad es requerida. "),Zo())}function qb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Ub,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.age.errors.required)}}function Bb(t,e){1&t&&(Qo(0,"div"),Es(1," DNI es requerido. "),Zo())}function zb(t,e){1&t&&(Qo(0,"div"),Es(1," DNI debe tener al menos 7 caracteres. "),Zo())}function Hb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Bb,2,0,"div",37),zo(2,zb,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.dni.errors.required),Wr(1),Wo("ngIf",n.administratorForm.controls.dni.errors.minlength)}}function Gb(t,e){1&t&&(Qo(0,"div"),Es(1," Email es requerido. "),Zo())}function Wb(t,e){1&t&&(Qo(0,"div"),Es(1," Email invalido. "),Zo())}function Kb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Gb,2,0,"div",37),zo(2,Wb,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.email.errors.required),Wr(1),Wo("ngIf",n.administratorForm.controls.email.errors.email)}}function Qb(t,e){1&t&&(Qo(0,"div"),Es(1," Contrase\xf1a requerida. "),Zo())}function Zb(t,e){1&t&&(Qo(0,"div"),Es(1," La contrase\xf1a debe contener al menos 6 caracteres. "),Zo())}function Yb(t,e){if(1&t&&(Qo(0,"div",36),zo(1,Qb,2,0,"div",37),zo(2,Zb,2,0,"div",37),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.administratorForm.controls.password.errors.required),Wr(1),Wo("ngIf",n.administratorForm.controls.password.errors.minlength)}}function Jb(t,e){if(1&t){var n=Jo();Qo(0,"div",38),Qo(1,"boot-alert",39),ts("dismiss",(function(){return dn(n),rs().navigate()})),Zo(),Zo()}}var Xb,$b,tw,ew=((tw=function(){function t(e,n,r,i){v(this,t),this.authService=e,this.fb=n,this.administratorService=r,this.router=i,this.registered=!1,this.photos=new Array}return m(t,[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.administratorForm=this.fb.group({id:[""],name:["",ev.required],dni:["",[ev.required,ev.minLength(7)]],age:["",ev.required],lastName:["",ev.required],email:["",[ev.required,ev.email]],password:["",[ev.required,ev.minLength(6)]],usertype:[jb.ADMINISTRATOR]})}},{key:"onSubmit",value:function(){var t=this;try{this.assignPhotos(),this.authService.register(this.administratorForm.controls.email.value,this.administratorForm.controls.password.value).then((function(e){e&&(t.administratorForm.controls.id.setValue(e.uid),t.administratorForm.removeControl("password"),t.administratorService.createAdministrator(t.administratorForm.value,t.photos).then((function(n){console.log("Professional Created",n),e.updateProfile({displayName:n.name}).then((function(){console.log("Now Verify your email to login."),t.registered=!0}))})),t.administratorForm.addControl("password",t.fb.control({password:"111111"})))})).catch((function(t){console.log("Error",t)}))}catch(e){console.error(e)}}},{key:"handlePhoto1",value:function(t){this.photo1=t.target.files[0]}},{key:"assignPhotos",value:function(){this.photo1&&this.photos.push(this.photo1)}}]),t}()).\u0275fac=function(t){return new(t||tw)(Ho(_m),Ho(fy),Ho(eb),Ho(tp))},tw.\u0275cmp=Se({type:tw,selectors:[["app-form-administrator"]],decls:70,vars:9,consts:[[1,"container",2,"margin-top","10%"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","","value","","required","",1,"form-control"],["for","edad"],["type","text","id","edad","formControlName","age","placeholder","Edad","value","","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","value","","required","",1,"form-control"],["for","email"],[1,"text-muted"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file","id","fotos",1,"form-control-file",3,"change"],[1,"invalid-feedback"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"container"],["mensaje","Administrador Registrado correctamente.","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Yo(2,"img",2),Qo(3,"h2"),Es(4,"Clinica Online"),Zo(),Qo(5,"p",3),Es(6,"Registrar un administrador."),Zo(),Zo(),Qo(7,"div",4),Qo(8,"div",5),Qo(9,"h4",6),Es(10,"Datos Necesarios"),Zo(),Qo(11,"form",7),Qo(12,"div",4),Qo(13,"div",8),Qo(14,"label",9),Es(15,"Nombre"),Zo(),Yo(16,"input",10),zo(17,Lb,2,1,"div",11),Zo(),Qo(18,"div",8),Qo(19,"label",12),Es(20,"Apellido"),Zo(),Yo(21,"input",13),zo(22,Mb,2,1,"div",11),Zo(),Zo(),Qo(23,"div",4),Qo(24,"div",8),Qo(25,"label",14),Es(26,"Edad"),Zo(),Yo(27,"input",15),zo(28,qb,2,1,"div",11),Zo(),Qo(29,"div",8),Qo(30,"label",16),Es(31,"DNI"),Zo(),Yo(32,"input",17),zo(33,Hb,3,2,"div",11),Zo(),Zo(),Qo(34,"div",6),Qo(35,"label",18),Es(36,"Correo "),Yo(37,"span",19),Zo(),Yo(38,"input",20),zo(39,Kb,3,2,"div",11),Zo(),Qo(40,"div",6),Qo(41,"label",21),Es(42,"Contrase\xf1a"),Zo(),Yo(43,"input",22),zo(44,Yb,3,2,"div",11),Zo(),Qo(45,"div",4),Qo(46,"div",23),Qo(47,"div",24),Qo(48,"label",25),Es(49,"Imagen de perfil"),Zo(),Qo(50,"input",26),ts("change",(function(t){return e.handlePhoto1(t)})),Zo(),Zo(),Qo(51,"div",27),Es(52," Please select a valid country. "),Zo(),Zo(),Zo(),Yo(53,"hr",28),Qo(54,"button",29),ts("click",(function(){return e.onSubmit()})),Es(55,"Registrar Administrador"),Zo(),zo(56,Jb,2,0,"div",30),Zo(),Zo(),Zo(),Qo(57,"footer",31),Qo(58,"p",32),Es(59,"\xa9 Federico Vera"),Zo(),Qo(60,"ul",33),Qo(61,"li",34),Qo(62,"a",35),Es(63,"Privacy"),Zo(),Zo(),Qo(64,"li",34),Qo(65,"a",35),Es(66,"Terms"),Zo(),Zo(),Qo(67,"li",34),Qo(68,"a",35),Es(69,"Support"),Zo(),Zo(),Zo(),Zo(),Zo()),2&t&&(Wr(11),Wo("formGroup",e.administratorForm),Wr(6),Wo("ngIf",e.administratorForm.controls.name.invalid&&(e.administratorForm.controls.name.dirty||e.administratorForm.controls.name.touched)),Wr(5),Wo("ngIf",e.administratorForm.controls.lastName.invalid&&(e.administratorForm.controls.lastName.dirty||e.administratorForm.controls.lastName.touched)),Wr(6),Wo("ngIf",e.administratorForm.controls.age.invalid&&(e.administratorForm.controls.age.dirty||e.administratorForm.controls.age.touched)),Wr(5),Wo("ngIf",e.administratorForm.controls.dni.invalid&&(e.administratorForm.controls.dni.dirty||e.administratorForm.controls.dni.touched)),Wr(6),Wo("ngIf",e.administratorForm.controls.email.invalid&&(e.administratorForm.controls.email.dirty||e.administratorForm.controls.email.touched)),Wr(5),Wo("ngIf",e.administratorForm.controls.password.invalid&&(e.administratorForm.controls.password.dirty||e.administratorForm.controls.password.touched)),Wr(10),Wo("disabled",e.administratorForm.invalid),Wr(2),Wo("ngIf",e.registered))},directives:[ey,Zp,iy,Bp,Qp,sy,uy,Uc,pb],styles:[""]}),tw),nw=(($b=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$b)},$b.\u0275cmp=Se({type:$b,selectors:[["app-signup-administrator"]],decls:2,vars:0,template:function(t,e){1&t&&(Yo(0,"app-header"),Yo(1,"app-form-administrator"))},directives:[Pb,ew],styles:[""]}),$b),rw=((Xb=function(){function t(e){var n=this;v(this,t),this.db=e,this.getSpecialtys().subscribe((function(t){n.specialtys=t})),this.specialtyDB=this.db.collection("/specialtys",(function(t){return t.orderBy("date")}))}return m(t,[{key:"getSpecialtys",value:function(){return this.db.collection("specialtys").snapshotChanges().pipe(B((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"addSpecialty",value:function(t){var e=this;return new Promise((function(n,r){e.specialtyDB.add(JSON.parse(JSON.stringify(t))).then((function(r){t.id=r.id,e.editSpecialty(JSON.parse(JSON.stringify(t))),n(t)}),(function(t){return r(console.error(t))}))}))}},{key:"deleteSpecialty",value:function(t){try{return this.db.collection("specialtys").doc(t.id).delete().then((function(t){console.log(t)}))}catch(e){console.log("Error: ",e)}}},{key:"editSpecialty",value:function(t){return this.db.collection("specialtys").doc(t.id).set(t,{merge:!0})}}]),t}()).\u0275fac=function(t){return new(t||Xb)(se(bm))},Xb.\u0275prov=kt({token:Xb,factory:Xb.\u0275fac,providedIn:"root"}),Xb);function iw(t,e){if(1&t){var n=Jo();Qo(0,"tbody"),Qo(1,"tr",4),ts("click",(function(){dn(n);var t=e.$implicit;return rs().onChoose(t)})),Qo(2,"td"),Es(3),Zo(),Zo(),Zo()}if(2&t){var r=e.$implicit;Wr(3),Ss(r.specialty)}}var ow,sw=((ow=function(){function t(){v(this,t),this.chooseSpecialty=new ja}return m(t,[{key:"ngOnInit",value:function(){}},{key:"onChoose",value:function(t){this.chooseSpecialty.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||ow)},ow.\u0275cmp=Se({type:ow,selectors:[["app-specialty-list"]],inputs:{specialtys:"specialtys"},outputs:{chooseSpecialty:"chooseSpecialty"},decls:11,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(Qo(0,"nav",0),Qo(1,"h4"),Es(2,"Especialidades"),Zo(),Zo(),Qo(3,"table",1),Qo(4,"caption"),Es(5,"Tabla Especialidades"),Zo(),Qo(6,"thead"),Qo(7,"tr"),Qo(8,"th",2),Es(9,"Especialidad"),Zo(),Zo(),Zo(),zo(10,iw,4,1,"tbody",3),Zo()),2&t&&(Wr(10),Wo("ngForOf",e.specialtys))},directives:[Vc],styles:[""]}),ow),aw=function t(e){v(this,t),e&&Object.assign(this,e)};function uw(t,e){1&t&&(Qo(0,"div"),Es(1," Duracion es requerida. "),Zo())}function cw(t,e){if(1&t&&(Qo(0,"div",9),zo(1,uw,2,0,"div",10),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.specialtyForm.controls.duration.errors.required)}}function lw(t,e){1&t&&(Qo(0,"div"),Es(1," Especialidad requerida. "),Zo())}function hw(t,e){if(1&t&&(Qo(0,"div",9),zo(1,lw,2,0,"div",10),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.specialtyForm.controls.specialty.errors.required)}}function fw(t,e){1&t&&(Qo(0,"div",11),Qo(1,"span",12),Es(2,"Guardando..."),Zo(),Zo())}function dw(t,e){if(1&t){var n=Jo();Qo(0,"boot-alert",13),ts("dismiss",(function(){return dn(n),rs().resetForm()})),Zo()}}var pw,vw=((pw=function(){function t(e,n,r,i,o){v(this,t),this.authService=e,this.fb=n,this.patientService=r,this.router=i,this.specialtyService=o,this.specialty=new ja,this.mostrarMensaje=!1,this.spinner=!1}return m(t,[{key:"ngOnInit",value:function(){this.createFormSpecialty()}},{key:"createFormSpecialty",value:function(){this.specialtyForm=this.fb.group({specialty:["",ev.required],duration:["",ev.required]})}},{key:"addSpecialty",value:function(){var t=this;this.spinner=!0,console.log(this.specialtyForm.value);var e=new aw;e.specialty=this.specialtyForm.controls.specialty.value,e.duration=this.specialtyForm.controls.duration.value,this.specialtyService.addSpecialty(e).then((function(n){t.spinner=!1,t.mostrarMensaje=!t.mostrarMensaje,t.specialty.emit(e)}))}},{key:"resetForm",value:function(){this.mostrarMensaje=!this.mostrarMensaje,this.specialtyForm.reset()}}]),t}()).\u0275fac=function(t){return new(t||pw)(Ho(_m),Ho(fy),Ho(Jg),Ho(tp),Ho(rw))},pw.\u0275cmp=Se({type:pw,selectors:[["app-specialty-form"]],outputs:{specialty:"specialty"},decls:15,vars:6,consts:[["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","livespan"],["type","text","id","livespan","formControlName","duration","placeholder","Promedio de turno","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","text","id","livespan","formControlName","specialty","placeholder","Promedio de turno","value","","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","spinner-grow text-warning","role","status",4,"ngIf"],["mensaje","Especialidad Agregada","color","danger",3,"dismiss",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["role","status",1,"spinner-grow","text-warning"],[1,"sr-only"],["mensaje","Especialidad Agregada","color","danger",3,"dismiss"]],template:function(t,e){1&t&&(Qo(0,"form",0),Qo(1,"div",1),Qo(2,"label",2),Es(3,"Duraci\xf3n (min)"),Zo(),Yo(4,"input",3),zo(5,cw,2,1,"div",4),Zo(),Qo(6,"div",1),Qo(7,"label",2),Es(8,"Nombre"),Zo(),Yo(9,"input",5),zo(10,hw,2,1,"div",4),Zo(),Qo(11,"button",6),ts("click",(function(){return e.addSpecialty()})),Es(12,"Agregar Especialidad "),Zo(),zo(13,fw,3,0,"div",7),zo(14,dw,1,0,"boot-alert",8),Zo()),2&t&&(Wo("formGroup",e.specialtyForm),Wr(5),Wo("ngIf",e.specialtyForm.controls.duration.invalid&&(e.specialtyForm.controls.duration.dirty||e.specialtyForm.controls.duration.touched)),Wr(5),Wo("ngIf",e.specialtyForm.controls.specialty.invalid&&(e.specialtyForm.controls.specialty.dirty||e.specialtyForm.controls.specialty.touched)),Wr(1),Wo("disabled",e.specialtyForm.invalid),Wr(2),Wo("ngIf",e.spinner),Wr(1),Wo("ngIf",e.mostrarMensaje))},directives:[ey,Zp,iy,Bp,Qp,sy,uy,Uc,pb],styles:[""]}),pw);function yw(t,e){1&t&&(Qo(0,"div"),Es(1," Nombre es requerido. "),Zo())}function mw(t,e){if(1&t&&(Qo(0,"div",42),zo(1,yw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.name.errors.required)}}function gw(t,e){1&t&&(Qo(0,"div"),Es(1," Apellido es requerido. "),Zo())}function bw(t,e){if(1&t&&(Qo(0,"div",42),zo(1,gw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.lastName.errors.required)}}function ww(t,e){1&t&&(Qo(0,"div"),Es(1," Edad es requerida. "),Zo())}function _w(t,e){1&t&&(Qo(0,"div"),Es(1," Edad debe ser mayor a 18. "),Zo())}function kw(t,e){1&t&&(Qo(0,"div"),Es(1," Edad debe ser menor a 99. "),Zo())}function Ew(t,e){if(1&t&&(Qo(0,"div",42),zo(1,ww,2,0,"div",28),zo(2,_w,2,0,"div",28),zo(3,kw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.age.errors.required),Wr(1),Wo("ngIf",n.professionalForm.controls.age.errors.min),Wr(1),Wo("ngIf",n.professionalForm.controls.age.errors.max)}}function Sw(t,e){1&t&&(Qo(0,"div"),Es(1," DNI es requerido. "),Zo())}function Iw(t,e){1&t&&(Qo(0,"div"),Es(1," DNI debe tener al menos 7 caracteres. "),Zo())}function Cw(t,e){if(1&t&&(Qo(0,"div",42),zo(1,Sw,2,0,"div",28),zo(2,Iw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.dni.errors.required),Wr(1),Wo("ngIf",n.professionalForm.controls.dni.errors.minlength)}}function Aw(t,e){1&t&&(Qo(0,"div"),Es(1," Email es requerido. "),Zo())}function Tw(t,e){1&t&&(Qo(0,"div"),Es(1," Email invalido. "),Zo())}function Ow(t,e){if(1&t&&(Qo(0,"div",42),zo(1,Aw,2,0,"div",28),zo(2,Tw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.email.errors.required),Wr(1),Wo("ngIf",n.professionalForm.controls.email.errors.email)}}function xw(t,e){1&t&&(Qo(0,"div"),Es(1," Contrase\xf1a requerida. "),Zo())}function Pw(t,e){1&t&&(Qo(0,"div"),Es(1," La contrase\xf1a debe contener al menos 6 caracteres. "),Zo())}function Nw(t,e){if(1&t&&(Qo(0,"div",42),zo(1,xw,2,0,"div",28),zo(2,Pw,2,0,"div",28),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.professionalForm.controls.password.errors.required),Wr(1),Wo("ngIf",n.professionalForm.controls.password.errors.minlength)}}function Rw(t,e){1&t&&(Qo(0,"label"),Qo(1,"b"),Es(2,"Elija su/s especialidad/es :"),Zo(),Zo())}function Dw(t,e){if(1&t){var n=Jo();Qo(0,"ul",44),Qo(1,"li",45),Es(2),Qo(3,"span",46),Qo(4,"i",47),ts("click",(function(){dn(n);var t=e.index;return rs(2).deleteSpecialty(t)})),Zo(),Zo(),Zo(),Zo()}if(2&t){var r=e.$implicit;Wr(2),Is(" ",r.specialty," ")}}function jw(t,e){if(1&t&&(Qo(0,"div",24),Qo(1,"label"),Qo(2,"b"),Es(3,"Epecialidad/es elegida/s :"),Zo(),Zo(),zo(4,Dw,5,1,"ul",43),Zo()),2&t){var n=rs();Wr(4),Wo("ngForOf",n.specialtysChoosen)}}function Fw(t,e){if(1&t){var n=Jo();Qo(0,"button",48),ts("click",(function(){dn(n);var t=rs();return t.showSpecialtyForm=!t.showSpecialtyForm})),Es(1,"\u2795"),Zo()}}function Lw(t,e){if(1&t){var n=Jo();Qo(0,"button",48),ts("click",(function(){dn(n);var t=rs();return t.showSpecialtyForm=!t.showSpecialtyForm})),Es(1,"\u2796"),Zo()}}function Vw(t,e){if(1&t){var n=Jo();Qo(0,"div",4),Qo(1,"div",8),Qo(2,"app-specialty-form",49),ts("specialty",(function(t){return dn(n),rs().onChooseSpecialty(t)})),Zo(),Zo(),Zo()}}function Mw(t,e){if(1&t){var n=Jo();Qo(0,"div",50),Qo(1,"boot-alert",51),ts("dismiss",(function(){return dn(n),rs().navigate()})),Zo(),Zo()}}var Uw,qw,Bw=((qw=function(){function t(e,n,r,i,o){v(this,t),this.authService=e,this.fb=n,this.profesionalService=r,this.router=i,this.specialtyService=o,this.showSpecialtyForm=!1,this.registered=!1,this.photos=new Array}return m(t,[{key:"ngOnInit",value:function(){var t=this;this.createForm(),this.specialtyService.getSpecialtys().subscribe((function(e){t.specialtys=e}))}},{key:"createForm",value:function(){this.professionalForm=this.fb.group({id:[""],name:["",ev.required],dni:["",[ev.required,ev.minLength(7)]],age:["",[ev.required,ev.min(18),ev.max(99)]],lastName:["",ev.required],email:["",[ev.required,ev.email]],password:["",[ev.required,ev.minLength(6)]],specialty:[Array,ev.required],approved:[""],usertype:[jb.PROFESSIONAL]})}},{key:"verError",value:function(){console.log(this.professionalForm)}},{key:"onSubmit",value:function(){var t=this;try{this.assignPhotos(),this.authService.register(this.professionalForm.controls.email.value,this.professionalForm.controls.password.value).then((function(e){e&&(t.professionalForm.controls.id.setValue(e.uid),t.professionalForm.controls.approved.setValue(!1),t.professionalForm.removeControl("password"),t.profesionalService.createProfessional(t.professionalForm.value,t.photos).then((function(n){console.log("Professional Created",n),e.updateProfile({displayName:n.name}).then((function(){console.log("Now Verify your email to login."),t.registered=!0}))})),t.professionalForm.addControl("password",t.fb.control({password:"111111"})))})).catch((function(t){console.log("Error",t)}))}catch(e){console.error(e)}}},{key:"handlePhoto1",value:function(t){this.photo1=t.target.files[0]}},{key:"handlePhoto2",value:function(t){this.photo2=t.target.files[0]}},{key:"assignPhotos",value:function(){this.photo1&&this.photos.push(this.photo1)}},{key:"navigate",value:function(){this.router.navigate(["/login"])}},{key:"onChooseSpecialty",value:function(t){if(this.specialtysChoosen){var e=!1;this.specialtysChoosen.forEach((function(n){t.specialty==n.specialty&&(e=!0)})),e||(this.specialtysChoosen.push(t),this.professionalForm.controls.specialty.setValue(this.specialtysChoosen),console.log(t))}else this.specialtysChoosen=[],this.specialtysChoosen.push(t),this.professionalForm.controls.specialty.setValue(this.specialtysChoosen),console.log(t)}},{key:"deleteSpecialty",value:function(t){this.specialtysChoosen.splice(t,1)}}]),t}()).\u0275fac=function(t){return new(t||qw)(Ho(_m),Ho(fy),Ho($g),Ho(tp),Ho(rw))},qw.\u0275cmp=Se({type:qw,selectors:[["app-form-professional"]],decls:82,vars:15,consts:[[1,"container","mt-5"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","Nombre","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Apellido","value","","required","",1,"form-control"],["for","edad"],["type","number","id","edad","formControlName","age","placeholder","Edad","min","18","max","99","placeholder","Edad","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","value","","required","",1,"form-control"],["for","email"],[1,"text-muted"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file","id","fotos",1,"form-control-file",3,"change"],[1,"invalid-feedback"],[4,"ngIf"],["class","form-group",4,"ngIf"],[3,"specialtys","chooseSpecialty"],["for","newSpecialty"],["id","newSpecialty","class","btn btn-outline-success",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","badge-primary","badge-pill"],["aria-hidden","true",1,"fa","fa-trash",3,"click"],["id","newSpecialty",1,"btn","btn-outline-success",3,"click"],[3,"specialty"],[1,"container"],["mensaje","Profesional Registrado correctamente. Verifique su casilla de correo y aguarde a ser aprobado por un Administrador","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Yo(2,"img",2),Qo(3,"h2"),Es(4,"Clinica Online"),Zo(),Qo(5,"p",3),Es(6,"Rellene el formulario para registrar un profesional."),Zo(),Zo(),Qo(7,"div",4),Qo(8,"div",5),Qo(9,"h4",6),Es(10,"Datos Necesarios"),Zo(),Qo(11,"form",7),Qo(12,"div",4),Qo(13,"div",8),Qo(14,"label",9),Es(15,"Nombre"),Zo(),Yo(16,"input",10),zo(17,mw,2,1,"div",11),Zo(),Qo(18,"div",8),Qo(19,"label",12),Es(20,"Apellido"),Zo(),Yo(21,"input",13),zo(22,bw,2,1,"div",11),Zo(),Zo(),Qo(23,"div",4),Qo(24,"div",8),Qo(25,"label",14),Es(26,"Edad"),Zo(),Yo(27,"input",15),zo(28,Ew,4,3,"div",11),Zo(),Qo(29,"div",8),Qo(30,"label",16),Es(31,"DNI"),Zo(),Yo(32,"input",17),zo(33,Cw,3,2,"div",11),Zo(),Zo(),Qo(34,"div",6),Qo(35,"label",18),Es(36,"Correo "),Yo(37,"span",19),Zo(),Yo(38,"input",20),zo(39,Ow,3,2,"div",11),Zo(),Qo(40,"div",6),Qo(41,"label",21),Es(42,"Contrase\xf1a"),Zo(),Yo(43,"input",22),zo(44,Nw,3,2,"div",11),Zo(),Qo(45,"div",4),Qo(46,"div",23),Qo(47,"div",24),Qo(48,"label",25),Es(49,"Imagen de perfil"),Zo(),Qo(50,"input",26),ts("change",(function(t){return e.handlePhoto1(t)})),Zo(),Zo(),Qo(51,"div",27),Es(52," Please select a valid country. "),Zo(),Zo(),Zo(),Qo(53,"div",4),Qo(54,"div",23),zo(55,Rw,3,0,"label",28),zo(56,jw,5,1,"div",29),Zo(),Zo(),Qo(57,"app-specialty-list",30),ts("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Zo(),Qo(58,"label",31),Qo(59,"b"),Es(60,"Agregar nueva especialidad"),Zo(),Zo(),Es(61," \xa0 "),zo(62,Fw,2,0,"button",32),zo(63,Lw,2,0,"button",32),zo(64,Vw,3,0,"div",33),Yo(65,"hr",34),Qo(66,"button",35),ts("click",(function(){return e.onSubmit()})),Es(67,"Registrar Profesional"),Zo(),zo(68,Mw,2,0,"div",36),Zo(),Zo(),Zo(),Qo(69,"footer",37),Qo(70,"p",38),Es(71,"\xa9 Federico Vera"),Zo(),Qo(72,"ul",39),Qo(73,"li",40),Qo(74,"a",41),Es(75,"Privacy"),Zo(),Zo(),Qo(76,"li",40),Qo(77,"a",41),Es(78,"Terms"),Zo(),Zo(),Qo(79,"li",40),Qo(80,"a",41),Es(81,"Support"),Zo(),Zo(),Zo(),Zo(),Zo()),2&t&&(Wr(11),Wo("formGroup",e.professionalForm),Wr(6),Wo("ngIf",e.professionalForm.controls.name.invalid&&(e.professionalForm.controls.name.dirty||e.professionalForm.controls.name.touched)),Wr(5),Wo("ngIf",e.professionalForm.controls.lastName.invalid&&(e.professionalForm.controls.lastName.dirty||e.professionalForm.controls.lastName.touched)),Wr(6),Wo("ngIf",e.professionalForm.controls.age.invalid&&(e.professionalForm.controls.age.dirty||e.professionalForm.controls.age.touched)),Wr(5),Wo("ngIf",e.professionalForm.controls.dni.invalid&&(e.professionalForm.controls.dni.dirty||e.professionalForm.controls.dni.touched)),Wr(6),Wo("ngIf",e.professionalForm.controls.email.invalid&&(e.professionalForm.controls.email.dirty||e.professionalForm.controls.email.touched)),Wr(5),Wo("ngIf",e.professionalForm.controls.password.invalid&&(e.professionalForm.controls.password.dirty||e.professionalForm.controls.password.touched)),Wr(11),Wo("ngIf",!e.specialtysChoosen),Wr(1),Wo("ngIf",e.specialtysChoosen),Wr(1),Wo("specialtys",e.specialtys),Wr(5),Wo("ngIf",!e.showSpecialtyForm),Wr(1),Wo("ngIf",e.showSpecialtyForm),Wr(1),Wo("ngIf",e.showSpecialtyForm),Wr(2),Wo("disabled",e.professionalForm.invalid),Wr(2),Wo("ngIf",e.registered))},directives:[ey,Zp,iy,Bp,Qp,sy,uy,Uc,pv,sw,Vc,vw,pb],styles:[""]}),qw),zw=((Uw=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Uw)},Uw.\u0275cmp=Se({type:Uw,selectors:[["app-signup-professional"]],decls:2,vars:0,template:function(t,e){1&t&&(Yo(0,"app-header"),Yo(1,"app-form-professional"))},directives:[Pb,Bw],styles:[""]}),Uw),Hw=function t(){v(this,t)};function Gw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Ww(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:t,options:e}}function Kw(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Qw(t){return{type:6,styles:t,offset:null}}function Zw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function Yw(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function Jw(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function Xw(t){Promise.resolve(null).then(t)}var $w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Xw((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),t_=function(){function t(e){var n=this;v(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,s=this.players.length;0==s?Xw((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++r==s&&n._onFinish()})),t.onDestroy((function(){++i==s&&n._onDestroy()})),t.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function e_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function n_(t){switch(t.length){case 0:return new $w;case 1:return t[0];default:return new t_(t)}}function r_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(r.forEach((function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach((function(n){var r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a})),r||a.push(l),c=l,u=n})),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function i_(t,e,n,r){switch(e){case"start":t.onStart((function(){return r(n&&o_(n,"start",t))}));break;case"done":t.onDone((function(){return r(n&&o_(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return r(n&&o_(n,"destroy",t))}))}}function o_(t,e,n){var r=n.totalTime,i=s_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function s_(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function a_(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function u_(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var c_=function(t,e){return!1},l_=function(t,e){return!1},h_=function(t,e,n){return[]},f_=e_();(f_||"undefined"!=typeof Element)&&(c_=function(t,e){return t.contains(e)},l_=function(){if(f_||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:l_}(),h_=function(t,e,n){var i=[];if(n)i.push.apply(i,r(t.querySelectorAll(e)));else{var o=t.querySelector(e);o&&i.push(o)}return i});var d_=null,p_=!1;function v_(t){d_||(d_=("undefined"!=typeof document?document.body:null)||{},p_=!!d_.style&&"WebkitAppearance"in d_.style);var e=!0;return d_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in d_.style)&&p_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in d_.style),e}var y_=l_,m_=c_,g_=h_;function b_(t){var e={};return Object.keys(t).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]})),e}var w_,__=((w_=function(){function t(){v(this,t)}return m(t,[{key:"validateStyleProperty",value:function(t){return v_(t)}},{key:"matchesElement",value:function(t,e){return y_(t,e)}},{key:"containsElement",value:function(t,e){return m_(t,e)}},{key:"query",value:function(t,e,n){return g_(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new $w(n,r)}}]),t}()).\u0275fac=function(t){return new(t||w_)},w_.\u0275prov=kt({token:w_,factory:w_.\u0275fac}),w_),k_=function(){var t=function t(){v(this,t)};return t.NOOP=new __,t}();function E_(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:S_(parseFloat(e[1]),e[2])}function S_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function I_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=S_(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(i=S_(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function C_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function A_(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else C_(t,n);return n}function T_(t,e,n){return n?e+":"+n+";":""}function O_(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=T_(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=T_(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function x_(t,e,n){t.style&&(Object.keys(e).forEach((function(r){var i=V_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]})),e_()&&O_(t))}function P_(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=V_(e);t.style[n]=""})),e_()&&O_(t))}function N_(t){return Array.isArray(t)?1==t.length?t[0]:Kw(t):t}var R_=new RegExp("{{\\s*(.+?)\\s*}}","g");function D_(t){var e=[];if("string"==typeof t){for(var n;n=R_.exec(t);)e.push(n[1]);R_.lastIndex=0}return e}function j_(t,e,n){var r=t.toString(),i=r.replace(R_,(function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?t:i}function F_(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var L_=/-+([a-z0-9])/g;function V_(t){return t.replace(L_,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function M_(t,e){return 0===t||0===e}function U_(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach((function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]})),o.length)for(var s=function(){var n=e[a];o.forEach((function(e){n[e]=B_(t,e)}))},a=1;a<e.length;a++)s()}return e}function q_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function B_(t,e){return window.getComputedStyle(t)[e]}var z_=new Set(["true","1"]),H_=new Set(["false","0"]);function G_(t,e){var n=z_.has(t)||H_.has(t),r=z_.has(e)||H_.has(e);return function(i,o){var s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?z_.has(t):H_.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?z_.has(e):H_.has(e)),s&&a}}var W_=new RegExp("s*:selfs*,?","g");function K_(t,e,n){return new Q_(t).build(e,n)}var Q_=function(){function t(e){v(this,t),this._driver=e}return m(t,[{key:"build",value:function(t,e){var n=new Z_(e);return this._resetContextStyleTimingState(n),q_(this,N_(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach((function(t){a.name=t,o.push(n.visitState(a,e))})),a.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,s.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(t){if(Y_(t)){var e=t;Object.keys(e).forEach((function(t){D_(e[t]).forEach((function(t){o.hasOwnProperty(t)||i.add(t)}))}))}})),i.size){var s=F_(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=q_(this,N_(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],s=i[2],a=i[3];e.push(G_(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(G_(a,o))}(t,i,r)})):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:J_(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return q_(n,t,e)})),options:J_(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map((function(t){e.currentTime=r;var o=q_(n,t,e);return i=Math.max(i,e.currentTime),o}));return e.currentTime=i,{type:3,steps:o,options:J_(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return X_(I_(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var i=X_(0,0,"");return i.dynamic=!0,i.strValue=r,i}return X_((n=n||I_(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Qw({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};r.easing&&(a.easing=r.easing),o=Qw(a)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var r=!1,i=null;return n.forEach((function(t){if(Y_(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(r){if(n._driver.validateStyleProperty(r)){var s,a,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(s=t[r],a=e.options,u=e.errors,c=a.params||{},(l=D_(s)).length&&l.forEach((function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],s=!1,a=!1,u=0,c=t.steps.map((function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Y_(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Y_(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),r}));a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach((function(t,i){var s=h>0?i==f?1:h*i:o[i],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,r.styles.push(t)})),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:q_(this,N_(t.animation),e),options:J_(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:J_(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:J_(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(W_,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),s=o[0],a=o[1];n.currentQuerySelector=r.length?r+" "+s:s,a_(n.collectedStyles,n.currentQuerySelector,{});var u=q_(this,N_(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:J_(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:I_(t.timings,e.errors,!0);return{type:12,animation:q_(this,N_(t.animation),e),timings:n,options:null}}}]),t}(),Z_=function t(e){v(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Y_(t){return!Array.isArray(t)&&"object"==typeof t}function J_(t){var e;return t?(t=C_(t)).params&&(t.params=(e=t.params)?C_(e):null):t={},t}function X_(t,e,n){return{duration:t,delay:e,easing:n}}function $_(t,e,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var tk=function(){function t(){v(this,t),this._map=new Map}return m(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,r(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),ek=new RegExp(":enter","g"),nk=new RegExp(":leave","g");function rk(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ik).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}var ik=function(){function t(){v(this,t)}return m(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new tk;var l=new sk(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),q_(this,n,l);var h=l.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map((function(t){return t.buildKeyframes()})):[$_(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?E_(n.duration):null,o=null!=n.delay?E_(n.delay):null;return 0!==i&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),q_(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ok);var s=E_(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach((function(t){return q_(n,t,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?E_(t.options.delay):0;t.steps.forEach((function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),q_(n,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)})),r.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return I_(e.params?j_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?E_(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ok);var s=r,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach((function(r,i){e.currentQueryIndex=i;var a=e.createSubContext(t.options,r);o&&a.delayNextStep(o),r===e.element&&(u=a.currentTimeline),q_(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;q_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),ok={},sk=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ok,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ak(this._driver,n,0),a.push(this.currentTimeline)}return m(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=E_(r.duration)),null!=r.delay&&(i.delay=E_(r.delay));var o=r.params;if(o){var s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach((function(t){e&&s.hasOwnProperty(t)||(s[t]=j_(o[t],s,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ok,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new uk(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,o,s){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(ek,"."+this._enterClassName)).replace(nk,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push.apply(a,r(u))}return o||0!=a.length||s.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),ak=function(){function t(e,n,r,i){v(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return m(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},s=function(t,e){var n,r={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){r[t]="*"})):A_(t,!1,r)})),r}(t,this._globalTimelineStyles);Object.keys(s).forEach((function(t){var e=j_(s[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,s){var a=A_(o,!0);Object.keys(a).forEach((function(t){var r=a[t];"!"==r?e.add(t):"*"==r&&n.add(t)})),r||(a.offset=s/t.duration),i.push(a)}));var o=e.size?F_(e.values()):[],s=n.size?F_(n.values()):[];if(r){var a=i[0],u=C_(a);a.offset=0,u.offset=1,i=[a,u]}return $_(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),uk=function(t){u(n,t);var e=l(n);function n(t,r,i,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return v(this,n),(u=e.call(this,t,r,a.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return m(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=r+n,a=n/s,u=A_(t[0],!1);u.offset=0,o.push(u);var c=A_(t[0],!1);c.offset=ck(a),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=A_(t[h],!1);f.offset=ck((n+f.offset*r)/s),o.push(f)}r=s,n=0,i="",t=o}return $_(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(ak);function ck(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var lk=function t(){v(this,t)},hk=function(t){u(n,t);var e=l(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"normalizePropertyName",value:function(t,e){return V_(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(fk[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(lk),fk=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function dk(t,e,n,r,i,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var pk={},vk=function(){function t(e,n,r){v(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return m(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some((function(t){return t(e,n,r,i)}))}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||pk,f=this.buildStyles(n,s&&s.params||pk,l),d=a&&a.params||pk,p=this.buildStyles(r,d,l),v=new Set,y=new Map,m=new Map,g="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:rk(t,e,this.ast.animation,i,o,f,p,b,u,l),_=0;if(w.forEach((function(t){_=Math.max(t.duration+t.delay,_)})),l.length)return dk(e,this._triggerName,n,r,g,f,p,[],[],y,m,_,l);w.forEach((function(t){var n=t.element,r=a_(y,n,{});t.preStyleProps.forEach((function(t){return r[t]=!0}));var i=a_(m,n,{});t.postStyleProps.forEach((function(t){return i[t]=!0})),n!==e&&v.add(n)}));var k=F_(v.values());return dk(e,this._triggerName,n,r,g,f,p,w,k,y,m,_)}}]),t}(),yk=function(){function t(e,n){v(this,t),this.styles=e,this.defaultParams=n}return m(t,[{key:"buildStyles",value:function(t,e){var n={},r=C_(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(r[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach((function(t){var o=i[t];o.length>1&&(o=j_(o,r,e)),n[t]=o}))}})),n}}]),t}(),mk=function(){function t(e,n){var r=this;v(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){r.states[t.name]=new yk(t.style,t.options&&t.options.params||{})})),gk(this.states,"true","1"),gk(this.states,"false","0"),n.transitions.forEach((function(t){r.transitionFactories.push(new vk(e,t,r.states))})),this.fallbackTransition=new vk(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return m(t,[{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find((function(i){return i.match(t,e,n,r)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function gk(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var bk=new tk,wk=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return m(t,[{key:"register",value:function(t,e){var n=[],r=K_(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=r_(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=rk(this._driver,e,s,"ng-enter","ng-leave",{},{},i,bk,o)).forEach((function(t){var e=a_(a,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));a.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=r._driver.computeStyle(e,n,"*")}))}));var u=n_(n.map((function(t){var e=a.get(t.element);return r._buildPlayer(t,{},e)})));return this._playersById[t]=u,u.onDestroy((function(){return r.destroy(t)})),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,r){var i=s_(e,"","","");return i_(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),_k=[],kk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ek={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sk=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=C_(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return m(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Ik=new Sk("void"),Ck=function(){function t(e,n,r){v(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rk(n,this._hostClassName)}return m(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=a_(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};s.push(a);var u=a_(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(Rk(t,"ng-trigger"),Rk(t,"ng-trigger-"+e),u[e]=Ik),function(){o._engine.afterFlush((function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new Tk(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Rk(t,"ng-trigger"),Rk(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],c=new Sk(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[e]=c,u||(u=Ik),"void"===c.value||u.value!==c.value){var l=a_(this._engine.playersByElement,t,[]);l.forEach((function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(Rk(t,"ng-animate-queued"),s.onStart((function(){Dk(t,"ng-animate-queued")}))),s.onDone((function(){var e=r.players.indexOf(s);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(s);i>=0&&n.splice(i,1)}})),this.players.push(s),l.push(s),s}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){P_(t,p),x_(t,v)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,r){e._elementListeners.set(r,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach((function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(t){return n.clearElementCache(t)}))}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach((function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&s.push(n)}})),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&n_(s).onDone((function(){return i._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=e._triggers[i].fallbackTransition,s=e._engine.statesByElement.get(t)[i]||Ik,a=new Sk("void"),u=new Tk(e.id,i,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var s=t;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==kk||(r.afterFlush((function(){return n.clearElementCache(t)})),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Rk(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,s=e._elementListeners.get(o);s&&s.forEach((function(e){if(e.name==r.triggerName){var n=s_(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,i_(r.player,e.phase,n,e.callback)}})),i.markedForDestroy?e._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Ak=function(){function t(e,n,r){v(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return m(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Ck(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,r){if(Ok(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(Ok(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rk(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Dk(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(Ok(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return Ok(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return n_(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=kk,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)Rk(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?n_(n).onDone((function(){a.forEach((function(t){return t()}))})):a.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new tk,o=[],s=new Map,a=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach((function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])}));var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Nk(d,this.collectedEnterElements),v=new Map,y=0;p.forEach((function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach((function(t){return Rk(t,n)}))}));for(var m=[],g=new Set,b=new Set,w=0;w<this.collectedLeaveElements.length;w++){var _=this.collectedLeaveElements[w],k=_.__ng_removed;k&&k.setForRemoval&&(m.push(_),g.add(_),k.hasAnimation?this.driver.query(_,".ng-star-inserted",!0).forEach((function(t){return g.add(t)})):b.add(_))}var E=new Map,S=Nk(d,Array.from(g));S.forEach((function(t,e){var n="ng-leave"+y++;E.set(e,n),t.forEach((function(t){return Rk(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=v.get(e);t.forEach((function(t){return Dk(t,n)}))})),S.forEach((function(t,e){var n=E.get(e);t.forEach((function(t){return Dk(t,n)}))})),m.forEach((function(t){n.processLeaveNode(t)}))}));for(var I=[],C=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach((function(t){var e=t.player,r=t.element;if(I.push(e),n.collectedEnterElements.length){var s=r.__ng_removed;if(s&&s.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,r),d=E.get(r),p=v.get(r),y=n._buildInstruction(t,i,p,d,h);if(y.errors&&y.errors.length)C.push(y);else{if(h)return e.onStart((function(){return P_(r,y.fromStyles)})),e.onDestroy((function(){return x_(r,y.toStyles)})),void o.push(e);if(t.isFallbackTransition)return e.onStart((function(){return P_(r,y.fromStyles)})),e.onDestroy((function(){return x_(r,y.toStyles)})),void o.push(e);y.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(r,y.timelines),a.push({instruction:y,player:e,element:r}),y.queriedElements.forEach((function(t){return a_(u,t,[]).push(e)})),y.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}})),y.postStyleProps.forEach((function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach((function(t){return r.add(t)}))}))}}));if(C.length){var T=[];C.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),I.forEach((function(t){return t.destroy()})),this.reportError(T)}var O=new Map,x=new Map;a.forEach((function(t){var e=t.element;i.has(e)&&(x.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))})),o.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){a_(O,e,[]).push(t),t.destroy()}))}));var P=m.filter((function(t){return Fk(t,c,l)})),N=new Map;Pk(N,this.driver,b,l,"*").forEach((function(t){Fk(t,c,l)&&P.push(t)}));var R=new Map;p.forEach((function(t,e){Pk(R,n.driver,new Set(t),c,"!")})),P.forEach((function(t){var e=N.get(t),n=R.get(t);N.set(t,Object.assign(Object.assign({},e),n))}));var D=[],j=[],F={};a.forEach((function(t){var e=t.element,r=t.player,a=t.instruction;if(i.has(e)){if(h.has(e))return r.onDestroy((function(){return x_(e,a.toStyles)})),r.disabled=!0,r.overrideTotalTime(a.totalTime),void o.push(r);var u=F;if(x.size>1){for(var c=e,l=[];c=c.parentNode;){var f=x.get(c);if(f){u=f;break}l.push(c)}l.forEach((function(t){return x.set(t,u)}))}var d=n._buildAnimation(r.namespaceId,a,O,s,R,N);if(r.setRealPlayer(d),u===F)D.push(r);else{var p=n.playersByElement.get(u);p&&p.length&&(r.parentPlayer=n_(p)),o.push(r)}}else P_(e,a.fromStyles),r.onDestroy((function(){return x_(e,a.toStyles)})),j.push(r),h.has(e)&&o.push(r)})),j.forEach((function(t){var e=s.get(t.element);if(e&&e.length){var n=n_(e);t.setRealPlayer(n)}})),o.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<m.length;L++){var V=m[L],M=V.__ng_removed;if(Dk(V,"ng-leave"),!M||!M.hasAnimation){var U=[];if(u.size){var q=u.get(V);q&&q.length&&U.push.apply(U,r(q));for(var B=this.driver.query(V,".ng-animating",!0),z=0;z<B.length;z++){var H=u.get(B[z]);H&&H.length&&U.push.apply(U,r(H))}}var G=U.filter((function(t){return!t.destroyed}));G.length?jk(this,V,G):this.processLeaveNode(V)}}return m.length=0,D.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),D}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!i||"void"==i;a.forEach((function(t){t.queued||(u||t.triggerName==r)&&o.push(t)}))}}return(n||r)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,r){var i,o=this,s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=n(e.timelines);try{var l=function(){var t=i.value.element,n=t!==s,c=a_(r,t,[]);o._getPreviousPlayers(t,n,a,u,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)}))};for(c.s();!(i=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}P_(s,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var s=this,a=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map((function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new $w(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||_k).map((function(t){return t.getRealPlayer()})),v=[],function t(e,n){for(var r=0;r<e.length;r++){var i=e[r];i instanceof t_?t(i.players,n):n.push(i)}}(p,v),v).filter((function(t){return!!t.element&&t.element===f})),g=i.get(f),b=o.get(f),w=r_(0,s._normalizer,0,e.keyframes,g,b),_=s._buildPlayer(e,w,m);if(e.subTimeline&&r&&h.add(f),y){var k=new Tk(t,a,f);k.setRealPlayer(_),c.push(k)}return _}));c.forEach((function(t){a_(s.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(s.playersByQueriedElement,t.element,t)}))})),l.forEach((function(t){return Rk(t,"ng-animating")}));var d=n_(f);return d.onDestroy((function(){l.forEach((function(t){return Dk(t,"ng-animating")})),x_(u,e.toStyles)})),h.forEach((function(t){a_(r,t,[]).push(d)})),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new $w(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Tk=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new $w,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return m(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return i_(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){a_(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Ok(t){return t&&1===t.nodeType}function xk(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Pk(t,e,n,r,i){var o=[];n.forEach((function(t){return o.push(xk(t))}));var s=[];r.forEach((function(n,r){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ek,s.push(r))})),t.set(r,o)}));var a=0;return n.forEach((function(t){return xk(t,o[a++])})),s}function Nk(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var r=new Set(e),i=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=i.get(e);if(o)return o;var s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Rk(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Dk(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function jk(t,e,n){n_(n).onDone((function(){return t.processLeaveNode(e)}))}function Fk(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach((function(t){return i.add(t)})):e.set(t,r),n.delete(t),!0}var Lk=function(){function t(e,n,r){var i=this;v(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Ak(e,n,r),this._timelineEngine=new wk(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return m(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,s=this._triggerCache[o];if(!s){var a=[],u=K_(this._driver,i,a);if(a.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new mk(t,e)}(r,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(u_(r),2),s=o[0],a=o[1];this._timelineEngine.command(s,n,a,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var s=e(u_(r),2),a=s[0],u=s[1];return this._timelineEngine.listen(a,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Vk(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=Uk(e[0]),e.length>1&&(r=Uk(e[e.length-1]))):e&&(n=Uk(e)),n||r?new Mk(t,n,r):null}var Mk=function(){var t=function(){function t(e,n,r){v(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return m(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&x_(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(x_(this._element,this._initialStyles),this._endStyles&&(x_(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(P_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(P_(this._element,this._endStyles),this._endStyles=null),x_(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Uk(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];qk(i)&&((e=e||{})[i]=t[i])}return e}function qk(t){return"display"===t||"position"===t}var Bk=function(){function t(e,n,r,i,o,s,a){var u=this;v(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return m(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Qk(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Kk(t,"",e),Wk(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){zk(this._element,this._name,"paused")}},{key:"resume",value:function(){zk(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Hk(this._element,this._name);this._position=t*this._duration,Kk(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Wk(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Qk(t,"").split(","),r=Gk(n,e);r>=0&&(n.splice(r,1),Kk(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function zk(t,e,n){Kk(t,"PlayState",n,Hk(t,e))}function Hk(t,e){var n=Qk(t,"");return n.indexOf(",")>0?Gk(n.split(","),e):Gk([n],e)}function Gk(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Wk(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Kk(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var s=o.split(",");s[r]=n,n=s.join(",")}}t.style[i]=n}function Qk(t,e){return t.style["animation"+e]}var Zk=function(){function t(e,n,r,i,o,s,a,u){v(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+o,this._buildStyler()}return m(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Bk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:B_(t.element,r))}))}this.currentSnapshot=e}}]),t}(),Yk=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=b_(r),i}return m(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),a(p(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),a(p(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,a(p(n.prototype),"destroy",this).call(this))}}]),n}($w),Jk=function(){function t(){v(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return m(t,[{key:"validateStyleProperty",value:function(t){return v_(t)}},{key:"matchesElement",value:function(t,e){return y_(t,e)}},{key:"containsElement",value:function(t,e){return m_(t,e)}},{key:"query",value:function(t,e,n){return g_(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return b_(t)}));var r="@keyframes ".concat(e," {\n"),i="";n.forEach((function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;s&&this._notifyFaultyScrubber();var a=o.filter((function(t){return t instanceof Zk})),u={};M_(n,r)&&a.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var c=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=U_(t,e,u));if(0==n)return new Yk(t,c);var l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);var f=Vk(t,e),d=new Zk(t,e,l,n,r,i,c,f);return d.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),Xk=function(){function t(e,n,r,i){v(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return m(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:B_(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),$k=function(){function t(){v(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tE().toString()),this._cssKeyframesDriver=new Jk}return m(t,[{key:"validateStyleProperty",value:function(t){return v_(t)}},{key:"matchesElement",value:function(t,e){return y_(t,e)}},{key:"containsElement",value:function(t,e){return m_(t,e)}},{key:"query",value:function(t,e,n){return g_(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);var u={},c=o.filter((function(t){return t instanceof Xk}));M_(n,r)&&c.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return u[t]=e[t]}))}));var l=Vk(t,e=U_(t,e=e.map((function(t){return A_(t,!1)})),u));return new Xk(t,e,a,l)}}]),t}();function tE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var eE,nE=((eE=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:we.None,styles:[],data:{animation:[]}}),i}return m(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Kw(t):t;return oE(this._renderer,null,e,"register",[n]),new rE(e,this._renderer)}}]),n}(Hw)).\u0275fac=function(t){return new(t||eE)(se(qs),se(Fu))},eE.\u0275prov=kt({token:eE,factory:eE.\u0275fac}),eE),rE=function(t){u(n,t);var e=l(n);function n(t,r){var i;return v(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return m(n,[{key:"create",value:function(t,e){return new iE(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){v(this,t)}}()),iE=function(){function t(e,n,r,i){v(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return m(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return oE(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function oE(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var sE,aE,uE,cE=((sE=function(){function t(e,n,r){v(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return m(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new lE("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach((function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,s,t,r.name,r)})),new hE(this,s,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return n(r)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var n=e(t,2);(0,n[0])(n[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||sE)(se(qs),se(Lk),se(ru))},sE.\u0275prov=kt({token:sE,factory:sE.\u0275fac}),sE),lE=function(){function t(e,n,r){v(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return m(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),hE=function(t){u(r,t);var n=l(r);function r(t,e,i,o){var s;return v(this,r),(s=n.call(this,e,i,o)).factory=t,s.namespaceId=e,s}return m(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,s=this;if("@"==n.charAt(0)){var a,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(a=e([i.substring(0,o),i.substr(o+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,u,c,l,(function(t){s.factory.scheduleListenerCallback(t._data||-1,r,t)}))}return this.delegate.listen(t,n,r)}}]),r}(lE),fE=((aE=function(t){u(n,t);var e=l(n);function n(t,r,i){return v(this,n),e.call(this,t.body,r,i)}return n}(Lk)).\u0275fac=function(t){return new(t||aE)(se(Fu),se(k_),se(lk))},aE.\u0275prov=kt({token:aE,factory:aE.\u0275fac}),aE),dE=[{provide:k_,useFactory:function(){return"function"==typeof tE()?new $k:new Jk}},{provide:new Jt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Hw,useClass:nE},{provide:lk,useFactory:function(){return new hk}},{provide:Lk,useClass:fE},{provide:qs,useFactory:function(t,e,n){return new cE(t,e,n)},deps:[Cl,Lk,ru]}],pE=((uE=function t(){v(this,t)}).\u0275mod=Te({type:uE}),uE.\u0275inj=Et({factory:function(t){return new(t||uE)},providers:dE,imports:[Vl]}),uE);function vE(t,e){if(1&t){var n=Jo();Qo(0,"tbody"),Qo(1,"tr",4),ts("click",(function(){dn(n);var t=e.$implicit;return rs().onChoosePatient(t)})),Qo(2,"td"),Es(3),Zo(),Qo(4,"td"),Es(5),Zo(),Qo(6,"td"),Es(7),Zo(),Qo(8,"td",5),Yo(9,"img",6),Zo(),Qo(10,"td",5),Yo(11,"img",6),Zo(),Zo(),Zo()}if(2&t){var r=e.$implicit;Wr(3),Ss(r.name),Wr(2),Ss(r.lastName),Wr(2),Ss(r.email),Wr(2),is("src",r.photos[0],Or),Wr(2),is("src",r.photos[1],Or)}}var yE,mE,gE,bE,wE=((bE=function(){function t(){v(this,t),this.choosePatient=new ja}return m(t,[{key:"ngOnInit",value:function(){}},{key:"onChoosePatient",value:function(t){this.choosePatient.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||bE)},bE.\u0275cmp=Se({type:bE,selectors:[["app-patient-list"]],inputs:{patients:"patients"},outputs:{choosePatient:"choosePatient"},decls:19,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"width","20%"],["alt","",2,"height","100px","width","100px",3,"src"]],template:function(t,e){1&t&&(Qo(0,"nav",0),Qo(1,"h4"),Es(2,"Listado Pacientes"),Zo(),Zo(),Qo(3,"table",1),Qo(4,"caption"),Es(5,"Listado Pacientes"),Zo(),Qo(6,"thead"),Qo(7,"tr"),Qo(8,"th",2),Es(9,"Nombre"),Zo(),Qo(10,"th",2),Es(11,"Apellido"),Zo(),Qo(12,"th",2),Es(13,"correo"),Zo(),Qo(14,"th",2),Es(15,"Foto1"),Zo(),Qo(16,"th",2),Es(17,"Foto2"),Zo(),Zo(),Zo(),zo(18,vE,12,5,"tbody",3),Zo()),2&t&&(Wr(18),Wo("ngForOf",e.patients))},directives:[Vc],styles:[""]}),bE),_E=((gE=function(){function t(e,n){var r=this;v(this,t),this.db=e,this.storage=n,this.getAppointments().subscribe((function(t){r.appointments=t})),this.appointmentsDB=this.db.collection("/appointments",(function(t){return t.orderBy("date")}))}return m(t,[{key:"getAppointments",value:function(){return this.db.collection("appointments",(function(t){return t.orderBy("timeStamp")})).snapshotChanges().pipe(B((function(t){return t.map((function(t){return t.payload.doc.data()}))})))}},{key:"addAppointment",value:function(t){var e=this;return new Promise((function(n,r){e.appointmentsDB.add(JSON.parse(JSON.stringify(t))).then((function(r){t.id=r.id,e.editAppointment(t),n(t)}),(function(t){return r(console.error(t))}))}))}},{key:"deleteAppointment",value:function(t){try{return this.db.collection("appointments").doc(t.id).delete().then((function(t){console.log(t)}))}catch(e){console.log("Error: ",e)}}},{key:"editAppointment",value:function(t){return this.db.collection("appointments").doc(t.id).set(JSON.parse(JSON.stringify(t)))}}]),t}()).\u0275fac=function(t){return new(t||gE)(se(bm),se(Zg))},gE.\u0275prov=kt({token:gE,factory:gE.\u0275fac,providedIn:"root"}),gE),kE=((mE=function(){function t(e){v(this,t),this.el=e}return m(t,[{key:"ngOnChanges",value:function(){this.changeColor(1==this.isApproved?"green":"red")}},{key:"changeColor",value:function(t){this.el.nativeElement.style.backgroundColor=t}}]),t}()).\u0275fac=function(t){return new(t||mE)(Ho(Ms))},mE.\u0275dir=xe({type:mE,selectors:[["","appResaltarHabilitado",""]],inputs:{isApproved:"isApproved"},features:[ze]}),mE),EE=((yE=function(){function t(){v(this,t)}return m(t,[{key:"transform",value:function(t){return 1==t?"HABILITADO":"DESHABILITADO"}}]),t}()).\u0275fac=function(t){return new(t||yE)},yE.\u0275pipe=Pe({name:"approved",type:yE,pure:!0}),yE);function SE(t,e){1&t&&(Qo(0,"th",2),Es(1,"Estado"),Zo())}function IE(t,e){if(1&t){var n=Jo();Qo(0,"td",11),ts("click",(function(){dn(n);var t=rs().$implicit;return rs().approveProfessional(t)})),Es(1),xa(2,"approved"),Zo()}if(2&t){var r=rs().$implicit;Wo("isApproved",r.approved),Wr(1),Is(" ",Pa(2,2,r.approved)," ")}}function CE(t,e){if(1&t){var n=Jo();Qo(0,"tbody"),Qo(1,"tr",7),ts("click",(function(){dn(n);var t=e.$implicit;return rs().onChoose(t)})),Qo(2,"td"),Es(3),Zo(),Qo(4,"td"),Es(5),Zo(),Qo(6,"td"),Es(7),Zo(),Qo(8,"td",8),Yo(9,"img",9),Zo(),zo(10,IE,3,4,"td",10),Zo(),Zo()}if(2&t){var r=e.$implicit,i=rs();Wr(3),Ss(r.name),Wr(2),Ss(r.lastName),Wr(2),Ss(r.email),Wr(2),is("src",r.photos[0],Or),Wr(1),Wo("ngIf",i.isAdministrator)}}function AE(t,e){1&t&&(Qo(0,"div",12),Qo(1,"span",13),Es(2,"Guardando..."),Zo(),Zo())}var TE,OE=((TE=function(){function t(e){v(this,t),this.professionalService=e,this.chooseProfessional=new ja,this.spinner=!1}return m(t,[{key:"ngOnInit",value:function(){"administrator"==JSON.parse(localStorage.getItem("user")).usertype&&(this.isAdministrator=!0)}},{key:"onChoose",value:function(t){this.chooseProfessional.emit(t)}},{key:"approveProfessional",value:function(t){var e=this;this.spinner=!0,console.log(t),t.approved=!t.approved,this.professionalService.editProfessional(t).then((function(t){e.spinner=!1,console.log("Modificado correctamente")}))}}]),t}()).\u0275fac=function(t){return new(t||TE)(Ho($g))},TE.\u0275cmp=Se({type:TE,selectors:[["app-professional-list"]],inputs:{professionals:"professionals"},outputs:{chooseProfessional:"chooseProfessional"},decls:20,vars:3,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"position","absolute","top","50%","left","50%"],["class","spinner-grow text-warning text-center ","role","status","style","width: 3rem; height: 3rem;",4,"ngIf"],[2,"cursor","pointer",3,"click"],[2,"width","20%"],["alt","",2,"height","100px","width","100px",3,"src"],["class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","habilitar/deshabilitar","appResaltarHabilitado","",3,"isApproved","click",4,"ngIf"],["data-toggle","tooltip","data-placement","top","title","habilitar/deshabilitar","appResaltarHabilitado","",1,"btn","btn-secondary",3,"isApproved","click"],["role","status",1,"spinner-grow","text-warning","text-center",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(Qo(0,"nav",0),Qo(1,"h4"),Es(2,"Profesionales"),Zo(),Zo(),Qo(3,"table",1),Qo(4,"caption"),Es(5,"Tabla Profesionales"),Zo(),Qo(6,"thead"),Qo(7,"tr"),Qo(8,"th",2),Es(9,"Nombre"),Zo(),Qo(10,"th",2),Es(11,"Apellido"),Zo(),Qo(12,"th",2),Es(13,"Correo"),Zo(),Qo(14,"th",2),Es(15,"Foto"),Zo(),zo(16,SE,2,0,"th",3),Zo(),Zo(),zo(17,CE,11,5,"tbody",4),Zo(),Qo(18,"div",5),zo(19,AE,3,0,"div",6),Zo()),2&t&&(Wr(16),Wo("ngIf",e.isAdministrator),Wr(1),Wo("ngForOf",e.professionals),Wr(2),Wo("ngIf",e.spinner))},directives:[Uc,Vc,kE],pipes:[EE],styles:[""]}),TE);function xE(t,e){if(1&t&&(Qo(0,"td"),Es(1),Zo()),2&t){var n=rs().$implicit;Wr(1),Cs("",n.professional.name," ",n.professional.lastName,"")}}function PE(t,e){1&t&&(Qo(0,"td",7),Es(1,"Seleccione Profesional"),Zo())}function NE(t,e){if(1&t&&(Qo(0,"td"),Es(1),Zo()),2&t){var n=rs().$implicit;Wr(1),Cs("",n.patient.name," ",n.patient.lastName,"")}}function RE(t,e){1&t&&(Qo(0,"td",7),Es(1,"Seleccione Turno"),Zo())}function DE(t,e){if(1&t&&(Qo(0,"td"),Es(1),Zo()),2&t){var n=rs().$implicit;Wr(1),Ss(n.specialty.specialty)}}function jE(t,e){1&t&&(Qo(0,"td",7),Es(1,"Seleccione Especialidad"),Zo())}function FE(t,e){if(1&t&&(Qo(0,"td"),Es(1),xa(2,"date"),Zo()),2&t){var n=rs().$implicit;Wr(1),Ss(Na(2,1,n.timeStamp,"dd/MM/yyyy HH:mm"))}}function LE(t,e){1&t&&(Qo(0,"td",7),Es(1,"Seleccione Turno"),Zo())}function VE(t,e){if(1&t){var n=Jo();Qo(0,"tbody"),Qo(1,"tr",4),ts("click",(function(){dn(n);var t=e.$implicit;return rs().onChoose(t)})),zo(2,xE,2,2,"td",5),zo(3,PE,2,0,"td",6),zo(4,NE,2,2,"td",5),zo(5,RE,2,0,"td",6),zo(6,DE,2,1,"td",5),zo(7,jE,2,0,"td",6),zo(8,FE,3,4,"td",5),zo(9,LE,2,0,"td",6),Zo(),Zo()}if(2&t){var r=e.$implicit;Wr(2),Wo("ngIf",r.professional),Wr(1),Wo("ngIf",!r.professional),Wr(1),Wo("ngIf",r.patient),Wr(1),Wo("ngIf",!r.patient),Wr(1),Wo("ngIf",r.specialty),Wr(1),Wo("ngIf",!r.specialty),Wr(1),Wo("ngIf",r.timeStamp),Wr(1),Wo("ngIf",!r.timeStamp)}}var ME,UE,qE,BE,zE=((BE=function(){function t(){v(this,t),this.chooseAppointment=new ja}return m(t,[{key:"ngOnInit",value:function(){}},{key:"onChoose",value:function(t){this.chooseAppointment.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||BE)},BE.\u0275cmp=Se({type:BE,selectors:[["app-appointment-list"]],inputs:{appointments:"appointments"},outputs:{chooseAppointment:"chooseAppointment"},decls:15,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,e){1&t&&(Yo(0,"nav",0),Qo(1,"table",1),Qo(2,"caption"),Es(3,"Turnos"),Zo(),Qo(4,"thead"),Qo(5,"tr"),Qo(6,"th",2),Es(7,"Profesional"),Zo(),Qo(8,"th",2),Es(9,"Paciente"),Zo(),Qo(10,"th",2),Es(11,"Especialidad"),Zo(),Qo(12,"th",2),Es(13,"Fecha y Hora"),Zo(),Zo(),Zo(),zo(14,VE,10,8,"tbody",3),Zo()),2&t&&(Wr(14),Wo("ngForOf",e.appointments))},directives:[Vc,Uc],pipes:[Yc],styles:[""]}),BE),HE=((qE=function(){function t(e,n,r,i,o){v(this,t),this.datePipe=e,this.fb=n,this.appointmentService=r,this.professionalService=i,this.specialtyService=o}return m(t,[{key:"ngOnInit",value:function(){var t=new Date;this.minDate=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2),this.createForm(),this.getSpecialtys(),this.getProfessionals()}},{key:"createForm",value:function(){this.appointmentForm=this.fb.group({date:["",ev.required],filter:new Zv("professional")})}},{key:"changeDate",value:function(t,e){new Date(this.appointmentForm.controls.date.value);var n=new Date(this.appointmentForm.controls.date.value+"T00:00");console.log(n)}},{key:"createAvailableList",value:function(){}},{key:"onChooseSpecialty",value:function(t){console.log(t)}},{key:"onChooseProfessional",value:function(t){console.log(t)}},{key:"getSpecialtys",value:function(){var t=this;this.specialtyService.getSpecialtys().subscribe((function(e){t.specialtys=e,console.log(e)}))}},{key:"getProfessionals",value:function(){var t=this;this.professionalService.getProfessionals().subscribe((function(e){t.professionals=e,console.log(e)}))}}]),t}()).\u0275fac=function(t){return new(t||qE)(Ho(Yc),Ho(fy),Ho(_E),Ho($g),Ho(rw))},qE.\u0275cmp=Se({type:qE,selectors:[["app-appointment-form"]],decls:47,vars:8,consts:[[1,"container",2,"margin-top","5%"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],[3,"professionals","chooseProfessional"],[1,"d-block","my-3"],[1,"col-md-6","mb-3"],["for","date"],["type","date","name","date","formControlName","date",1,"form-control",3,"min","change"],[1,"invalid-feedback"],[3,"appointments"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Yo(2,"img",2),Qo(3,"h2"),Es(4,"Turnos"),Zo(),Qo(5,"p",3),Es(6,"Seleccione profesional o especialidad."),Zo(),Zo(),Qo(7,"div",4),Qo(8,"div",5),Qo(9,"h4",6),Es(10,"Datos Necesarios"),Zo(),Qo(11,"form",7),Qo(12,"div",4),Qo(13,"div",8),Qo(14,"app-specialty-list",9),ts("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Zo(),Zo(),Qo(15,"div",8),Qo(16,"app-professional-list",10),ts("chooseProfessional",(function(t){return e.onChooseProfessional(t)})),Zo(),Zo(),Zo(),Yo(17,"div",11),Qo(18,"div",4),Qo(19,"div",12),Qo(20,"div"),Qo(21,"label",13),Es(22,"Seleccione Fecha para ver turnos disponibles"),Zo(),Zo(),Qo(23,"input",14),ts("change",(function(t){return e.changeDate(t,e.filtro)})),Zo(),Qo(24,"div",15),Es(25," Valid first name is required. "),Zo(),Es(26," Fecha elegida: "),Yo(27,"br"),Es(28),xa(29,"date"),Zo(),Zo(),Yo(30,"app-appointment-list",16),Yo(31,"hr",17),Qo(32,"button",18),Es(33,"Pedir turno"),Zo(),Zo(),Zo(),Zo(),Qo(34,"footer",19),Qo(35,"p",20),Es(36,"\xa9 Federico Vera"),Zo(),Qo(37,"ul",21),Qo(38,"li",22),Qo(39,"a",23),Es(40,"Privacy"),Zo(),Zo(),Qo(41,"li",22),Qo(42,"a",23),Es(43,"Terms"),Zo(),Zo(),Qo(44,"li",22),Qo(45,"a",23),Es(46,"Support"),Zo(),Zo(),Zo(),Zo(),Zo()),2&t&&(Wr(11),Wo("formGroup",e.appointmentForm),Wr(3),Wo("specialtys",e.specialtys),Wr(2),Wo("professionals",e.professionals),Wr(7),Wo("min",e.minDate),Wr(5),Is(" ",Pa(29,6,e.appointmentForm.get("date").value)," "),Wr(2),Wo("appointments",e.appointments))},directives:[ey,Zp,iy,sw,OE,Bp,Qp,sy,zE],pipes:[Yc],styles:[""]}),qE),GE=((UE=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||UE)},UE.\u0275cmp=Se({type:UE,selectors:[["app-make-an-appointment"]],decls:2,vars:0,template:function(t,e){1&t&&(Yo(0,"app-header"),Yo(1,"app-appointment-form"))},directives:[Pb,HE],styles:[""]}),UE),WE=((ME=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ME)},ME.\u0275cmp=Se({type:ME,selectors:[["app-welcome"]],decls:5,vars:0,consts:[[1,"container",2,"height","100vh"],[1,"d-block","text-center"],["routerLink","/login",1,"btn","border-success","button-image-login","rounded"],["routerLink","/signup",1,"btn","border-success","button-image-register","rounded"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Yo(2,"button",2),Zo(),Qo(3,"div",1),Yo(4,"button",3),Zo(),Zo())},directives:[ep],styles:[".button-image-login[_ngcontent-%COMP%]{background-image:url(https://pafssh.provirtualmeeting.com/wp-content/uploads/2020/09/login.png)}.button-image-login[_ngcontent-%COMP%], .button-image-register[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;width:100%;height:50vh}.button-image-register[_ngcontent-%COMP%]{background-image:url(https://veedorfiscal.files.wordpress.com/2014/09/registro1.jpg?h=470&w=627)}"]}),ME);function KE(t,e){1&t&&(Qo(0,"div"),Es(1," Nombre es requerido. "),Zo())}function QE(t,e){if(1&t&&(Qo(0,"div",37),zo(1,KE,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.name.errors.required)}}function ZE(t,e){1&t&&(Qo(0,"div"),Es(1," Apellido es requerido. "),Zo())}function YE(t,e){if(1&t&&(Qo(0,"div",37),zo(1,ZE,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.lastName.errors.required)}}function JE(t,e){1&t&&(Qo(0,"div"),Es(1," DNI es requerido. "),Zo())}function XE(t,e){1&t&&(Qo(0,"div"),Es(1," DNI debe tener al menos 7 digitos "),Zo())}function $E(t,e){if(1&t&&(Qo(0,"div",37),zo(1,JE,2,0,"div",38),zo(2,XE,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.dni.errors.required),Wr(1),Wo("ngIf",n.patientForm.controls.dni.errors.minlength)}}function tS(t,e){1&t&&(Qo(0,"div"),Es(1," Edad es requerida. "),Zo())}function eS(t,e){1&t&&(Qo(0,"div"),Es(1," la edad debe ser mayor a 1 y menor a 110. "),Zo())}function nS(t,e){1&t&&(Qo(0,"div"),Es(1," la edad debe ser mayor a 1 y menor a 110. "),Zo())}function rS(t,e){if(1&t&&(Qo(0,"div",37),zo(1,tS,2,0,"div",38),zo(2,eS,2,0,"div",38),zo(3,nS,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.age.errors.required),Wr(1),Wo("ngIf",n.patientForm.controls.age.errors.min),Wr(1),Wo("ngIf",n.patientForm.controls.age.errors.max)}}function iS(t,e){1&t&&(Qo(0,"div"),Es(1," Obra Social es requerida. "),Zo())}function oS(t,e){if(1&t&&(Qo(0,"div",37),zo(1,iS,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.obraSocial.errors.required)}}function sS(t,e){1&t&&(Qo(0,"div"),Es(1," Email es requerido. "),Zo())}function aS(t,e){if(1&t&&(Qo(0,"div",37),zo(1,sS,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.email.errors.required)}}function uS(t,e){1&t&&(Qo(0,"div"),Es(1," Contrase\xf1a es requerida. "),Zo())}function cS(t,e){if(1&t&&(Qo(0,"div",37),zo(1,uS,2,0,"div",38),Zo()),2&t){var n=rs();Wr(1),Wo("ngIf",n.patientForm.controls.password.errors.required)}}function lS(t,e){if(1&t){var n=Jo();Qo(0,"div",0),Qo(1,"boot-alert",39),ts("dismiss",(function(){return dn(n),rs().navigate()})),Zo(),Zo()}}var hS,fS=((hS=function(){function t(e,n,r,i){v(this,t),this.authService=e,this.fb=n,this.patientService=r,this.router=i,this.photos=new Array,this.registered=!1,this.createForm()}return m(t,[{key:"ngOnInit",value:function(){}},{key:"createForm",value:function(){this.patientForm=this.fb.group({name:["",ev.required],lastName:["",ev.required],age:["",[ev.required,ev.min(1),ev.max(110)]],dni:["",ev.required],obraSocial:["",ev.required],email:["",ev.required],password:["",ev.required],usertype:[jb.PATIENT],id:[""]})}},{key:"onSubmit",value:function(){var t=this;try{this.assignPhotos(),this.authService.register(this.patientForm.controls.email.value,this.patientForm.controls.password.value).then((function(e){e&&(t.patientForm.controls.id.setValue(e.uid),t.patientForm.removeControl("password"),t.patientService.createPatient(t.patientForm.value,t.photos).then((function(n){console.log("Created patient",n),e.updateProfile({displayName:n.name}).then((function(){console.log("Now Verify your email to login."),t.registered=!0}))})),t.patientForm.addControl("password",t.fb.control({password:"111111"})))})).catch((function(t){console.log("Error",t)}))}catch(e){console.error(e)}}},{key:"handlePhoto1",value:function(t){this.photo1=t.target.files[0]}},{key:"handlePhoto2",value:function(t){this.photo2=t.target.files[0]}},{key:"assignPhotos",value:function(){this.photo1&&this.photos.push(this.photo1),this.photo2&&this.photos.push(this.photo2)}},{key:"navigate",value:function(){this.router.navigate(["/login"])}}]),t}()).\u0275fac=function(t){return new(t||hS)(Ho(_m),Ho(fy),Ho(Jg),Ho(tp))},hS.\u0275cmp=Se({type:hS,selectors:[["app-form-patient"]],decls:80,vars:10,consts:[[1,"container"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","Nombre","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Apellido","value","","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","minlength","7","value","","required","",1,"form-control"],["for","edad"],["type","number","id","edad","formControlName","age","placeholder","Edad","min","2","max","99","value","","required","",1,"form-control"],["for","OS"],[1,"text-muted"],["type","text","id","OS","formControlName","obraSocial","placeholder","Obra Social",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file",1,"form-control-file",3,"change"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],[4,"ngIf"],["mensaje","Verifique su correo para poder iniciar sesion, revise su buz\xf3n de entrada","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Yo(2,"img",2),Qo(3,"h2"),Es(4,"Clinica Online"),Zo(),Qo(5,"p",3),Es(6,"Por favor reg\xedstrate para poder utilizar nuestros servicios."),Zo(),Zo(),Qo(7,"div",4),Qo(8,"div",5),Qo(9,"h4",6),Es(10,"Datos Necesarios"),Zo(),Qo(11,"form",7),Qo(12,"div",4),Qo(13,"div",8),Qo(14,"label",9),Es(15,"Nombre"),Zo(),Yo(16,"input",10),zo(17,QE,2,1,"div",11),Zo(),Qo(18,"div",8),Qo(19,"label",12),Es(20,"Apellido"),Zo(),Yo(21,"input",13),zo(22,YE,2,1,"div",11),Zo(),Zo(),Qo(23,"div",4),Qo(24,"div",8),Qo(25,"label",14),Es(26,"DNI"),Zo(),Yo(27,"input",15),zo(28,$E,3,2,"div",11),Zo(),Qo(29,"div",8),Qo(30,"label",16),Es(31,"Edad"),Zo(),Yo(32,"input",17),zo(33,rS,4,3,"div",11),Zo(),Zo(),Qo(34,"div",6),Qo(35,"label",18),Es(36,"Obra Social "),Yo(37,"span",19),Zo(),Yo(38,"input",20),zo(39,oS,2,1,"div",11),Zo(),Qo(40,"div",6),Qo(41,"label",21),Es(42,"Correo "),Yo(43,"span",19),Zo(),Yo(44,"input",22),zo(45,aS,2,1,"div",11),Zo(),Qo(46,"div",6),Qo(47,"label",23),Es(48,"Contrase\xf1a"),Zo(),Yo(49,"input",24),zo(50,cS,2,1,"div",11),Zo(),Qo(51,"div",4),Qo(52,"div",25),Qo(53,"div",26),Qo(54,"label",27),Es(55,"Foto 1"),Zo(),Qo(56,"input",28),ts("change",(function(t){return e.handlePhoto1(t)})),Zo(),Zo(),Zo(),Zo(),Qo(57,"div",4),Qo(58,"div",25),Qo(59,"div",26),Qo(60,"label",27),Es(61,"Foto 2"),Zo(),Qo(62,"input",28),ts("change",(function(t){return e.handlePhoto2(t)})),Zo(),Zo(),Zo(),Zo(),Yo(63,"hr",29),Qo(64,"button",30),ts("click",(function(){return e.onSubmit()})),Es(65,"Registrar Paciente"),Zo(),zo(66,lS,2,0,"div",31),Zo(),Zo(),Zo(),Qo(67,"footer",32),Qo(68,"p",33),Es(69,"\xa9 Federico Vera"),Zo(),Qo(70,"ul",34),Qo(71,"li",35),Qo(72,"a",36),Es(73,"Privacy"),Zo(),Zo(),Qo(74,"li",35),Qo(75,"a",36),Es(76,"Terms"),Zo(),Zo(),Qo(77,"li",35),Qo(78,"a",36),Es(79,"Support"),Zo(),Zo(),Zo(),Zo(),Zo()),2&t&&(Wr(11),Wo("formGroup",e.patientForm),Wr(6),Wo("ngIf",e.patientForm.controls.name.invalid&&(e.patientForm.controls.name.dirty||e.patientForm.controls.name.touched)),Wr(5),Wo("ngIf",e.patientForm.controls.lastName.invalid&&(e.patientForm.controls.lastName.dirty||e.patientForm.controls.lastName.touched)),Wr(6),Wo("ngIf",e.patientForm.controls.dni.invalid&&(e.patientForm.controls.dni.dirty||e.patientForm.controls.dni.touched)),Wr(5),Wo("ngIf",e.patientForm.controls.age.invalid&&(e.patientForm.controls.age.dirty||e.patientForm.controls.age.touched)),Wr(6),Wo("ngIf",e.patientForm.controls.obraSocial.invalid&&(e.patientForm.controls.obraSocial.dirty||e.patientForm.controls.obraSocial.touched)),Wr(6),Wo("ngIf",e.patientForm.controls.email.invalid&&(e.patientForm.controls.email.dirty||e.patientForm.controls.email.touched)),Wr(5),Wo("ngIf",e.patientForm.controls.password.invalid&&(e.patientForm.controls.password.dirty||e.patientForm.controls.password.touched)),Wr(14),Wo("disabled",e.patientForm.invalid),Wr(2),Wo("ngIf",e.registered))},directives:[ey,Zp,iy,Bp,Qp,sy,uy,Uc,ly,pv,pb],styles:[""]}),hS);function dS(t,e){if(1&t){var n=Jo();Qo(0,"button",4),ts("click",(function(){dn(n);var t=rs();return t.isChoosingForm=!0,t.formChoosen=""})),Es(1,"Elegir Perfil"),Zo()}}function pS(t,e){if(1&t){var n=Jo();Qo(0,"div",6),Qo(1,"button",10),ts("click",(function(){return dn(n),rs(2).onChooseForm("administrator")})),Zo(),Zo()}}function vS(t,e){if(1&t){var n=Jo();Qo(0,"div",5),Qo(1,"div",6),Qo(2,"button",7),ts("click",(function(){return dn(n),rs().onChooseForm("patient")})),Zo(),Zo(),Qo(3,"div",6),Qo(4,"button",8),ts("click",(function(){return dn(n),rs().onChooseForm("professional")})),Zo(),Zo(),zo(5,pS,2,0,"div",9),Zo()}if(2&t){var r=rs();Wr(5),Wo("ngIf",r.user&&"administrator"==r.user.usertype)}}function yS(t,e){1&t&&Yo(0,"app-form-patient")}function mS(t,e){1&t&&Yo(0,"app-form-professional")}function gS(t,e){1&t&&Yo(0,"app-form-administrator")}var bS,wS=((bS=function(){function t(e){v(this,t),this.userService=e,this.isChoosingForm=!0}return m(t,[{key:"ngOnInit",value:function(){this.user=JSON.parse(localStorage.getItem("user"))}},{key:"onChooseForm",value:function(t){this.isChoosingForm=!1,this.formChoosen=t}}]),t}()).\u0275fac=function(t){return new(t||bS)(Ho(_m))},bS.\u0275cmp=Se({type:bS,selectors:[["app-signup"]],decls:6,vars:6,consts:[["type","button","class","btn btn-outline-warning float-right position-right",3,"click",4,"ngIf"],["class","container","style","height: 100vh;",4,"ngIf"],[1,"container",3,"ngSwitch"],[4,"ngSwitchCase"],["type","button",1,"btn","btn-outline-warning","float-right","position-right",3,"click"],[1,"container",2,"height","100vh"],[1,"d-block","text-center"],[1,"btn","border-success","button-image-patient","rounded",3,"click"],[1,"btn","border-success","button-image-professional","rounded",3,"click"],["class","d-block text-center",4,"ngIf"],[1,"btn","border-success","button-image-administrator","rounded",3,"click"]],template:function(t,e){1&t&&(zo(0,dS,2,0,"button",0),zo(1,vS,6,1,"div",1),Qo(2,"div",2),zo(3,yS,1,0,"app-form-patient",3),zo(4,mS,1,0,"app-form-professional",3),zo(5,gS,1,0,"app-form-administrator",3),Zo()),2&t&&(Wo("ngIf",!e.isChoosingForm),Wr(1),Wo("ngIf",e.isChoosingForm),Wr(1),Wo("ngSwitch",e.formChoosen),Wr(1),Wo("ngSwitchCase","patient"),Wr(1),Wo("ngSwitchCase","professional"),Wr(1),Wo("ngSwitchCase","administrator"))},directives:[Uc,Qc,Zc,fS,Bw,ew],styles:[".button-image-patient[_ngcontent-%COMP%]{background-image:url(http://www.foscal.com.co/web/wp-content/pdfs/usuario-dren-quirurgico.jpg)}.button-image-patient[_ngcontent-%COMP%], .button-image-professional[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;width:100%;height:33vh}.button-image-professional[_ngcontent-%COMP%]{background-image:url(https://static.vecteezy.com/system/resources/previews/000/608/082/non_2x/vector-set-of-doctor-cartoon-characters-medical-staff-team-concept.jpg)}.button-image-administrator[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;background-image:url(https://st2.depositphotos.com/4216129/9266/v/600/depositphotos_92663088-stock-illustration-serious-business-man-cartoon-character.jpg);width:100%;height:33vh}"]}),bS);function _S(t,e){1&t&&Yo(0,"app-patient-list",11),2&t&&Wo("patients",rs().patientsList)}function kS(t,e){if(1&t&&(Qo(0,"div"),Yo(1,"app-professional-list",12),Zo()),2&t){var n=rs();Wr(1),Wo("professionals",n.professionalList)}}function ES(t,e){1&t&&Yo(0,"app-form-administrator")}function SS(t,e){1&t&&Yo(0,"app-form-patient")}function IS(t,e){1&t&&Yo(0,"app-form-professional")}function CS(t,e){1&t&&Yo(0,"app-signup")}var AS,TS,OS=((TS=function(){function t(e,n){v(this,t),this.patientService=e,this.professionalService=n,this.professionalList=[],this.userInfo=!0,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}return m(t,[{key:"ngOnInit",value:function(){var t=this;this.patientService.getPatients().subscribe((function(e){console.log(e),t.patientsList=e})),this.professionalService.getProfessionals().subscribe((function(e){t.professionalList=e}))}},{key:"showUserInfo",value:function(){this.userInfo=!0,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}},{key:"showApproveProfessional",value:function(){this.userInfo=!1,this.approveProfessional=!0,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}},{key:"showform",value:function(){this.userInfo=!1,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!0}},{key:"showForms",value:function(t){this.userInfo=!1,this.approveProfessional=!1,"administrator"==t?(this.formAdministrator=!0,this.formProfessional=!1,this.formPatient=!1):"professional"==t?(this.formAdministrator=!1,this.formProfessional=!0,this.formPatient=!1):(this.formAdministrator=!1,this.formProfessional=!1,this.formPatient=!0)}}]),t}()).\u0275fac=function(t){return new(t||TS)(Ho(Jg),Ho($g))},TS.\u0275cmp=Se({type:TS,selectors:[["app-users"]],decls:24,vars:6,consts:[[1,"navbar","navbar-expand-md","navbar-dark","mt-5","bg-dark"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link","btn-outline-secondary",3,"click"],[1,"container"],[3,"patients",4,"ngIf"],[4,"ngIf"],[3,"patients"],[3,"professionals"]],template:function(t,e){1&t&&(Yo(0,"app-header"),Qo(1,"nav",0),Qo(2,"a",1),Es(3,"Opciones de Administrador"),Zo(),Qo(4,"button",2),Yo(5,"span",3),Zo(),Qo(6,"div",4),Qo(7,"ul",5),Qo(8,"li",6),Qo(9,"a",7),ts("click",(function(){return e.showUserInfo()})),Es(10,"Informacion de los usuarios "),Zo(),Zo(),Qo(11,"li",6),Qo(12,"a",7),ts("click",(function(){return e.showApproveProfessional()})),Es(13,"Habilitar especialistas"),Zo(),Zo(),Qo(14,"li",6),Qo(15,"a",7),ts("click",(function(){return e.showform()})),Es(16,"Nuevo Usuario "),Zo(),Zo(),Zo(),Zo(),Zo(),Qo(17,"div",8),zo(18,_S,1,1,"app-patient-list",9),zo(19,kS,2,1,"div",10),zo(20,ES,1,0,"app-form-administrator",10),zo(21,SS,1,0,"app-form-patient",10),zo(22,IS,1,0,"app-form-professional",10),zo(23,CS,1,0,"app-signup",10),Zo()),2&t&&(Wr(18),Wo("ngIf",e.userInfo),Wr(1),Wo("ngIf",e.approveProfessional),Wr(1),Wo("ngIf",e.formAdministrator),Wr(1),Wo("ngIf",e.formPatient),Wr(1),Wo("ngIf",e.formProfessional),Wr(1),Wo("ngIf",e.forms))},directives:[Pb,Uc,wE,OE,ew,fS,Bw,wS],styles:[""]}),TS),xS=((AS=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||AS)},AS.\u0275cmp=Se({type:AS,selectors:[["app-my-profile"]],decls:2,vars:0,template:function(t,e){1&t&&(Yo(0,"app-header"),Es(1,">"))},directives:[Pb],styles:[""]}),AS),PS=function(t){return t.Solicitado="Solicitado",t.Cancelado="Cancelado",t.Aceptado="Aceptado",t.Rechazado="Rechazado",t.Realizado="Realizado",t}({}),NS=function t(e){v(this,t),e&&Object.assign(this,e)};function RS(t,e){if(1&t&&(Qo(0,"h5",20),Es(1),Zo()),2&t){var n=rs();Wr(1),Cs("Hola ",n.user.name," ",n.user.lastName,"")}}function DS(t,e){if(1&t&&(Qo(0,"h5",20),Es(1),Zo()),2&t){var n=rs();Wr(1),Cs("Hola ",n.userAdmin.name," ",n.userAdmin.lastName,"")}}function jS(t,e){1&t&&(Qo(0,"small"),Es(1,"Escoja Especialidad o Especialista Luego el horario"),Zo())}function FS(t,e){1&t&&(Qo(0,"small"),Es(1,"Hemos escogido un turno para ti te interesa?"),Zo())}function LS(t,e){if(1&t){var n=Jo();Qo(0,"boot-alert",21),ts("dismiss",(function(){return dn(n),rs().dismissAlert()})),Zo()}}function VS(t,e){if(1&t){var n=Jo();Qo(0,"div",22),Yo(1,"hr",19),Qo(2,"app-patient-list",23),ts("choosePatient",(function(t){return dn(n),rs(2).onChoosePatient(t)})),Zo(),Yo(3,"hr",19),Zo()}if(2&t){var r=rs(2);Wr(2),Wo("patients",r.patientList)}}function MS(t,e){1&t&&zo(0,VS,4,1,"ng-template")}function US(t,e){if(1&t){var n=Jo();Qo(0,"li",27),Qo(1,"a",28),ts("click",(function(){dn(n);var t=e.$implicit;return rs(2).createAvailableList(t)})),Es(2),xa(3,"date"),Zo(),Zo()}if(2&t){var r=e.$implicit;Wr(2),Ss(Na(3,1,r,"dd/MM"))}}function qS(t,e){if(1&t&&(Qo(0,"nav",24),Qo(1,"ul",25),zo(2,US,4,4,"li",26),Zo(),Zo()),2&t){var n=rs();Wr(2),Wo("ngForOf",n.datesList)}}var BS,zS,HS=((zS=function(){function t(e,n,r,i){v(this,t),this.appointmentService=e,this.professionalService=n,this.specialtyService=r,this.patientService=i,this.newAppointmentList=[],this.patientList=[],this.newAppointment=new NS({patient:this.user}),this.freeAppointments=[],this.showAlert=!1}return m(t,[{key:"ngOnInit",value:function(){"administrator"==JSON.parse(localStorage.getItem("user")).usertype?this.userAdmin=JSON.parse(localStorage.getItem("user")):this.user=JSON.parse(localStorage.getItem("user")),this.date=new Date,this.getSpecialtys(),this.getProfessionals(),this.getAppointments(),this.createDatesList(),this.getPatients()}},{key:"createAvailableList",value:function(t){var e=this;if(this.date=t,this.getTodaysAppointments(),this.freeAppointments=new Array,t.getDay()>0&&6!=t.getDay()){var n=8,r=0,i=!1;if(this.newAppointment.specialty&&this.newAppointment.professional){t.setHours(n,r,0,0);var o=function(){i=!1;var r=new NS({patient:e.user});r.professional=e.newAppointment.professional,r.specialty=e.newAppointment.specialty,r.timeStamp=t.valueOf(),e.todaysAppointments.forEach((function(t){t.timeStamp==r.timeStamp&&t.specialty.id==r.specialty.id&&t.professional.id==r.professional.id&&(i=!0)})),i||e.freeAppointments.push(r),t=new Date(e.addMinutes(t,e.newAppointment.specialty.duration)),n=t.getHours()};do{o()}while(n<19);n=8,r=0}else if(this.newAppointment.specialty&&!this.newAppointment.professional)console.log("HAY ESPECIALIDAD NO HAY PROFESIONAL"),this.freeAppointments=[],this.freeProfessionals.forEach((function(i){t.setHours(n,r,0,0);var o=function(){var r=!1,o=new NS({patient:e.user});o.professional=i,o.specialty=e.newAppointment.specialty,o.timeStamp=t.valueOf(),e.todaysAppointments.forEach((function(t){t.timeStamp==o.timeStamp&&t.specialty.id==o.specialty.id&&t.professional.id==i.id&&(r=!0)})),r||e.freeAppointments.push(o),t=new Date(e.addMinutes(t,e.newAppointment.specialty.duration)),n=t.getHours()};do{o()}while(n<19);n=8,r=0}));else if(this.newAppointment.professional&&!this.newAppointment.specialty)this.freeAppointments=[],this.newAppointment.professional.specialty.forEach((function(i){t.setHours(n,r,0,0);var o=function(){var r=!1,o=new NS({patient:e.user});o.specialty=i,o.professional=e.newAppointment.professional,o.timeStamp=t.valueOf(),e.todaysAppointments.forEach((function(t){t.timeStamp==o.timeStamp&&t.professional.id==o.professional.id&&t.specialty.id==o.specialty.id&&(r=!0)})),r||e.freeAppointments.push(o),t=new Date(e.addMinutes(t,i.duration)),n=t.getHours()};do{o()}while(n<19);n=8,r=0}));else{var s=this.appointments.filter((function(t){if(e.user&&t.patient.id==e.user.id)return t}));this.lastAppointment=s.shift(),this.lastAppointment&&(this.newAppointment.professional=this.lastAppointment.professional,this.newAppointment.specialty=this.lastAppointment.specialty),this.newAppointmentList[0]=this.newAppointment,setTimeout((function(t){e.lastAppointment&&e.onChooseSpecialty(e.lastAppointment.specialty)}),1e3)}}}},{key:"createDatesList",value:function(){var t=new Date;this.datesList=new Array;for(var e=0;e<16;e++)(1==t.getDay()||2==t.getDay()||3==t.getDay()||4==t.getDay()||5==t.getDay()||6==t.getDay())&&this.datesList.push(new Date(t.valueOf())),t=new Date(this.addDay(t,1))}},{key:"addDay",value:function(t,e){return t.valueOf()+864e5*e}},{key:"addMinutes",value:function(t,e){return t.valueOf()+6e4*e}},{key:"onChooseSpecialty",value:function(t){var e,n=this;this.newAppointment=new NS(this.newAppointment.professional?{professional:this.newAppointment.professional,specialty:t,patient:this.user}:{specialty:t,patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.freeProfessionals=this.professionals.filter((function(t){if(e=!1,t.specialty.forEach((function(t){t.specialty==n.newAppointment.specialty.specialty&&(e=!0)})),e)return t})),this.newAppointment.professional&&(this.freeProfessionals.find((function(t){if(t.id==n.newAppointment.professional.id)return t}))||(console.log("NO COINCIDE"),this.newAppointment=new NS({patient:this.user}),this.newAppointment.specialty=t,this.newAppointmentList[0]=this.newAppointment)),this.createAvailableList(this.date)}},{key:"onChooseProfessional",value:function(t){var e=this;this.lastAppointment=void 0,this.newAppointment=new NS(this.newAppointment.specialty?{professional:t,specialty:this.newAppointment.specialty,patient:this.user}:{professional:t,patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.freeSpecialtys=this.specialtys.filter((function(t){var n=!1;if(e.newAppointment.professional.specialty.forEach((function(e){e.specialty==t.specialty&&(n=!0)})),n)return t})),this.newAppointment.specialty&&(this.freeSpecialtys.find((function(t){if(t.id==e.newAppointment.specialty.id)return t}))||(console.log("NO COINCIDE"),this.newAppointment=new NS({patient:this.user}),this.newAppointment.professional=t,this.newAppointmentList[0]=this.newAppointment)),this.createAvailableList(this.date)}},{key:"getSpecialtys",value:function(){var t=this;this.specialtyService.getSpecialtys().subscribe((function(e){t.specialtys=e,t.freeSpecialtys=e}))}},{key:"getProfessionals",value:function(){var t=this;this.professionalService.getProfessionals().subscribe((function(e){t.professionals=e,t.freeProfessionals=e}))}},{key:"getPatients",value:function(){var t=this;this.patientService.getPatients().subscribe((function(e){t.patientList=e}))}},{key:"getAppointments",value:function(){var t=this;this.appointmentService.getAppointments().subscribe((function(e){t.appointments=e,t.newAppointment.professional||t.newAppointment.specialty||t.newAppointment.timeStamp||t.createAvailableList(t.date),t.getTodaysAppointments()}))}},{key:"getTodaysAppointments",value:function(){var t=this;this.todaysAppointments=this.appointments.filter((function(e){var n=new Date(e.timeStamp);if(t.date.getDate()==n.getDate()&&t.date.getMonth()==n.getMonth()&&t.date.getFullYear()==n.getFullYear())return e}))}},{key:"cleanForm",value:function(){this.newAppointment=new NS({patient:this.user}),this.newAppointmentList=[],this.freeProfessionals=this.professionals,this.freeSpecialtys=this.specialtys}},{key:"submit",value:function(){var t=this;this.newAppointment.state=PS.Solicitado,this.appointmentService.addAppointment(this.newAppointment).then((function(e){console.log("Creado",e),t.createAvailableList(t.date),t.showAlert=!0}))}},{key:"onSelectAppointment",value:function(t){this.newAppointment=t,this.newAppointmentList[0]=this.newAppointment}},{key:"dismissAlert",value:function(){this.showAlert=!this.showAlert,this.newAppointment=new NS({patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.lastAppointment=void 0}},{key:"onChoosePatient",value:function(t){this.user=t,this.newAppointment.patient=t,this.newAppointmentList[0]=this.newAppointment}}]),t}()).\u0275fac=function(t){return new(t||zS)(Ho(_E),Ho($g),Ho(rw),Ho(Jg))},zS.\u0275cmp=Se({type:zS,selectors:[["app-signup-appointment"]],decls:32,vars:12,consts:[[1,"card","text-center","sticky-top","pt-5"],[1,"card-body"],["class","card-title",4,"ngIf"],[4,"ngIf"],[3,"appointments"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"card-footer","text-muted"],["href","https://github.com/Dfedericovera/ClinicaOnline","target","_blank"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss",4,"ngIf"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],[3,"professionals","chooseProfessional"],[3,"appointments","chooseAppointment"],["aria-label","Page navigation example",4,"ngIf"],[1,"mb-4"],[1,"card-title"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss"],[1,"d-block","my-3"],[3,"patients","choosePatient"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center","pagination-sm"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),zo(2,RS,2,2,"h5",2),zo(3,DS,2,2,"h5",2),zo(4,jS,2,0,"small",3),zo(5,FS,2,0,"small",3),Yo(6,"app-appointment-list",4),Qo(7,"button",5),ts("click",(function(){return e.submit()})),Es(8,"Solicitar Turno"),Zo(),Qo(9,"a",6),ts("click",(function(){return e.cleanForm()})),Es(10,"Nuevo Turno"),Zo(),Zo(),Qo(11,"div",7),Qo(12,"a",8),Es(13," Como pedir un turno? "),Zo(),Zo(),zo(14,LS,1,0,"boot-alert",9),Zo(),Yo(15,"app-header"),Qo(16,"div",10),Qo(17,"div",11),Qo(18,"h4",12),Es(19,"Datos Necesarios"),Zo(),Qo(20,"form",13),Qo(21,"div",10),Qo(22,"div",14),Qo(23,"app-specialty-list",15),ts("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Zo(),Zo(),Qo(24,"div",14),Qo(25,"app-professional-list",16),ts("chooseProfessional",(function(t){return e.onChooseProfessional(t)})),Zo(),Zo(),Zo(),zo(26,MS,1,0,void 0,3),Qo(27,"h4",12),Es(28,"Seleccione Turno Disponible"),Zo(),Qo(29,"app-appointment-list",17),ts("chooseAppointment",(function(t){return e.onSelectAppointment(t)})),Zo(),zo(30,qS,3,1,"nav",18),Yo(31,"hr",19),Zo(),Zo(),Zo()),2&t&&(Wr(2),Wo("ngIf",e.user),Wr(1),Wo("ngIf",e.userAdmin),Wr(1),Wo("ngIf",!e.lastAppointment),Wr(1),Wo("ngIf",e.lastAppointment),Wr(1),Wo("appointments",e.newAppointmentList),Wr(1),Wo("disabled",!e.newAppointment.timeStamp),Wr(7),Wo("ngIf",e.showAlert),Wr(9),Wo("specialtys",e.freeSpecialtys),Wr(2),Wo("professionals",e.freeProfessionals),Wr(1),Wo("ngIf",e.userAdmin),Wr(3),Wo("appointments",e.freeAppointments),Wr(1),Wo("ngIf",e.datesList))},directives:[Uc,zE,Pb,ey,Zp,ty,sw,OE,pb,wE,Vc],pipes:[Yc],styles:[""]}),zS),GS=((BS=function(){function t(){v(this,t)}return m(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||BS)},BS.\u0275cmp=Se({type:BS,selectors:[["app-appointments"]],decls:1,vars:0,template:function(t,e){1&t&&Yo(0,"app-header")},directives:[Pb],styles:[""]}),BS);function WS(t,e){1&t&&(Qo(0,"small"),Es(1,"Seleccione un turno"),Zo())}function KS(t,e){if(1&t&&(Qo(0,"small"),Es(1,"Estado del Turno: "),Qo(2,"b"),Es(3),Zo(),Zo()),2&t){var n=rs();Wr(3),Ss(n.selectedAppointment.state)}}function QS(t,e){if(1&t){var n=Jo();Qo(0,"button",18),ts("click",(function(){return dn(n),rs().showReview()})),Es(1,"Ver Rese\xf1a"),Zo()}}function ZS(t,e){if(1&t){var n=Jo();Qo(0,"button",18),ts("click",(function(){return dn(n),rs().showPool()})),Es(1,"Completar Encuesta"),Zo()}}function YS(t,e){if(1&t){var n=Jo();Qo(0,"button",18),ts("click",(function(){return dn(n),rs().qualifyAttention()})),Es(1,"Calificar Atenci\xf3n"),Zo()}}function JS(t,e){if(1&t){var n=Jo();Qo(0,"a",19),ts("click",(function(){return dn(n),rs().cancelAppointment()})),Es(1,"Cancelar Turno"),Zo()}}function XS(t,e){if(1&t){var n=Jo();Qo(0,"a",19),ts("click",(function(){return dn(n),rs().rejectAppointment()})),Es(1,"Rechazar Turno"),Zo()}}function $S(t,e){if(1&t){var n=Jo();Qo(0,"button",18),ts("click",(function(){return dn(n),rs().acceptAppointment()})),Es(1,"Aceptar Turno"),Zo()}}function tI(t,e){if(1&t){var n=Jo();Qo(0,"button",18),ts("click",(function(){return dn(n),rs().finishAppointment()})),Es(1,"Finalizar Turno"),Zo()}}function eI(t,e){if(1&t){var n=Jo();Qo(0,"boot-alert",20),ts("dismiss",(function(){return dn(n),rs().dismissAlert()})),Zo()}}function nI(t,e){if(1&t){var n=Jo();Qo(0,"div",12),Qo(1,"app-professional-list",21),ts("chooseProfessional",(function(t){return dn(n),rs().onChooseProfessional(t)})),Zo(),Zo()}if(2&t){var r=rs();Wr(1),Wo("professionals",r.professionalList)}}function rI(t,e){if(1&t){var n=Jo();Qo(0,"div",12),Qo(1,"app-patient-list",22),ts("choosePatient",(function(t){return dn(n),rs().onChoosePatient(t)})),Zo(),Zo()}if(2&t){var r=rs();Wr(1),Wo("patients",r.patientList)}}var iI,oI,sI,aI,uI,cI=((oI=function(){function t(e,n,r,i){v(this,t),this.appointmentService=e,this.professionalService=n,this.spacialtyService=r,this.patientService=i,this.appointmentsList=[],this.appointmentsListFiltered=[],this.showAlert=!1,this.selectedAppointmentList=[],this.appointmentsList=new Array,this.user=JSON.parse(localStorage.getItem("user"))}return m(t,[{key:"ngOnInit",value:function(){var t=this;this.appointmentService.getAppointments().subscribe((function(e){t.appointmentsList=e.filter((function(e){return t.user.usertype==jb.PATIENT&&e.patient.id==t.user.id||t.user.usertype==jb.PROFESSIONAL&&e.professional.id==t.user.id?e:void 0})),t.appointmentsListFiltered=t.appointmentsList})),this.professionalService.getProfessionals().subscribe((function(e){t.professionalList=e})),this.spacialtyService.getSpecialtys().subscribe((function(e){t.specialtyList=e})),this.patientService.getPatients().subscribe((function(e){t.patientList=e}))}},{key:"onSelectAppointment",value:function(t){this.selectedAppointment=t,this.selectedAppointmentList[0]=this.selectedAppointment}},{key:"onChooseSpecialty",value:function(t){this.appointmentsListFiltered=this.appointmentsList.filter((function(e){if(e.specialty.id==t.id)return e}))}},{key:"onChooseProfessional",value:function(t){this.appointmentsListFiltered=this.appointmentsList.filter((function(e){if(e.professional.id==t.id)return e}))}},{key:"onChoosePatient",value:function(t){console.log(t),this.appointmentsListFiltered=this.appointmentsList.filter((function(e){if(e.patient.id==t.id)return e}))}},{key:"showAll",value:function(){this.appointmentsListFiltered=this.appointmentsList}},{key:"showReview",value:function(){}},{key:"cancelAppointment",value:function(){}},{key:"qualifyAttention",value:function(){}},{key:"showPool",value:function(){}},{key:"rejectAppointment",value:function(){}},{key:"acceptAppointment",value:function(){}},{key:"finishAppointment",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||oI)(Ho(_E),Ho($g),Ho(rw),Ho(Jg))},oI.\u0275cmp=Se({type:oI,selectors:[["app-myappointments"]],decls:32,vars:17,consts:[[1,"card","text-center","sticky-top","pt-5"],[1,"card-body"],[1,"card-title"],[4,"ngIf"],[3,"appointments"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"card-footer","text-muted"],["href","https://github.com/Dfedericovera/ClinicaOnline#readme","target","_blank"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss",4,"ngIf"],[1,"pt-5"],[1,"row","pt-5"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],["class","col-sm",4,"ngIf"],[1,"mb-3"],[1,"btn","btn-warning",3,"click"],[3,"appointments","chooseAppointment"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss"],[3,"professionals","chooseProfessional"],[3,"patients","choosePatient"]],template:function(t,e){1&t&&(Qo(0,"div",0),Qo(1,"div",1),Qo(2,"h5",2),Es(3),Zo(),zo(4,WS,2,0,"small",3),zo(5,KS,4,1,"small",3),Yo(6,"app-appointment-list",4),zo(7,QS,2,0,"button",5),zo(8,ZS,2,0,"button",5),zo(9,YS,2,0,"button",5),zo(10,JS,2,0,"a",6),zo(11,XS,2,0,"a",6),zo(12,$S,2,0,"button",5),zo(13,tI,2,0,"button",5),Zo(),Qo(14,"div",7),Qo(15,"a",8),Es(16," Como pedir un turno? "),Zo(),Zo(),zo(17,eI,1,0,"boot-alert",9),Zo(),Yo(18,"app-header"),Qo(19,"h4",10),Es(20,"-Opciones de flitrado: "),Zo(),Qo(21,"div",11),Qo(22,"div",12),Qo(23,"app-specialty-list",13),ts("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Zo(),Zo(),zo(24,nI,2,1,"div",14),zo(25,rI,2,1,"div",14),Zo(),Qo(26,"div",10),Qo(27,"h4",15),Es(28,"Listado de turnos: "),Zo(),Qo(29,"button",16),ts("click",(function(){return e.showAll()})),Es(30,"Ver Todos"),Zo(),Qo(31,"app-appointment-list",17),ts("chooseAppointment",(function(t){return e.onSelectAppointment(t)})),Zo(),Zo()),2&t&&(Wr(3),Cs("Hola ",e.user.name," ",e.user.lastName,""),Wr(1),Wo("ngIf",!e.selectedAppointment),Wr(1),Wo("ngIf",e.selectedAppointment),Wr(1),Wo("appointments",e.selectedAppointmentList),Wr(1),Wo("ngIf",e.selectedAppointment&&e.selectedAppointment.review),Wr(1),Wo("ngIf",e.selectedAppointment&&"Realizado"==e.selectedAppointment.state&&e.selectedAppointment.review&&"patient"==e.user.usertype),Wr(1),Wo("ngIf",e.selectedAppointment&&"Realizado"==e.selectedAppointment.state&&"patient"==e.user.usertype),Wr(1),Wo("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state),Wr(1),Wo("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state&&"professional"==e.user.usertype),Wr(1),Wo("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state&&"professional"==e.user.usertype),Wr(1),Wo("ngIf",e.selectedAppointment&&"Aceptado"==e.selectedAppointment.state&&"professional"==e.user.usertype),Wr(4),Wo("ngIf",e.showAlert),Wr(6),Wo("specialtys",e.specialtyList),Wr(1),Wo("ngIf","patient"==e.user.usertype),Wr(1),Wo("ngIf","professional"==e.user.usertype),Wr(6),Wo("appointments",e.appointmentsListFiltered))},directives:[Uc,zE,Pb,sw,pb,OE,wE],styles:[""]}),oI),lI=((iI=function(){function t(e,n){v(this,t),this.auth=e,this.router=n}return m(t,[{key:"canActivate",value:function(t,e){var n=this;return this.auth.afAuth.authState.pipe(B((function(t){return!!t})),B((function(t){return t||n.router.navigate(["/login"]),t})))}}]),t}()).\u0275fac=function(t){return new(t||iI)(se(_m),se(tp))},iI.\u0275prov=kt({token:iI,factory:iI.\u0275fac,providedIn:"root"}),iI),hI=[{path:"",component:WE},{path:"login",component:kb,data:{animation:"login"}},{path:"signup",component:wS,data:{animation:"signupPatient"}},{path:"signupProfessional",component:zw,data:{animation:"signupProfessional"},canActivate:[lI]},{path:"signupAdministrator",component:nw,data:{animation:"signupAdministrator"},canActivate:[lI]},{path:"signupSpecialty",component:vw,data:{animation:"signupAdministrator"},canActivate:[lI]},{path:"home",component:Db,data:{animation:"home"},canActivate:[lI]},{path:"patient-list",component:wE,data:{animation:"home"},canActivate:[lI]},{path:"prossional-list",component:OE,data:{animation:"home"},canActivate:[lI]},{path:"speciality-list",component:sw,data:{animation:"home"},canActivate:[lI]},{path:"make-an-appointment",component:GE,data:{animation:"home"},canActivate:[lI]},{path:"users",component:OS,data:{animation:"home"},canActivate:[lI]},{path:"myAppointments",component:cI,data:{animation:"home"},canActivate:[lI]},{path:"appointments",component:GS,data:{animation:"home"},canActivate:[lI]},{path:"signupAppointment",component:HS,data:{animation:"home"},canActivate:[lI]},{path:"myProfile",component:xS,data:{animation:"home"},canActivate:[lI]}],fI=((sI=function t(){v(this,t)}).\u0275mod=Te({type:sI}),sI.\u0275inj=Et({factory:function(t){return new(t||sI)},imports:[[pE,gp.forRoot(hI)],gp]}),sI),dI={type:7,name:"routeAnimations",definitions:[Zw("login <=> signupPatient",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,right:0,width:"100%"})]),Jw(":enter",[Qw({right:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("1000ms ease-out",Qw({right:"100%"}))]),Jw(":enter",[Gw("1000ms ease-out",Qw({right:"0%"}))])]),Jw(":enter",Yw())]),Zw("login <=> home",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,right:0,width:"100%"})]),Jw(":enter",[Qw({right:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("1000ms ease-out",Qw({right:"100%"}))]),Jw(":enter",[Gw("1000ms ease-out",Qw({right:"0%"}))])]),Jw(":enter",Yw())]),Zw("home <=> signupPatient",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,right:0,width:"100%"})]),Jw(":enter",[Qw({right:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("1000ms ease-out",Qw({right:"100%"}))]),Jw(":enter",[Gw("1000ms ease-out",Qw({right:"0%"}))])]),Jw(":enter",Yw())]),Zw("home <=> signupProfessional",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,right:0,width:"100%"})]),Jw(":enter",[Qw({right:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("1000ms ease-out",Qw({right:"100%"}))]),Jw(":enter",[Gw("1000ms ease-out",Qw({right:"0%"}))])]),Jw(":enter",Yw())]),Zw("home <=> signupAdministrator",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,right:0,width:"100%"})]),Jw(":enter",[Qw({right:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("1000ms ease-out",Qw({right:"100%"}))]),Jw(":enter",[Gw("1000ms ease-out",Qw({right:"0%"}))])]),Jw(":enter",Yw())]),Zw("HomePage <=> AboutPage",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,left:0,width:"100%"})]),Jw(":enter",[Qw({left:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("300ms ease-out",Qw({left:"100%"}))]),Jw(":enter",[Gw("300ms ease-out",Qw({left:"0%"}))])]),Jw(":enter",Yw())]),Zw("* <=> FilterPage",[Qw({position:"relative"}),Jw(":enter, :leave",[Qw({position:"absolute",top:0,left:0,width:"100%"})]),Jw(":enter",[Qw({left:"-100%"})]),Jw(":leave",Yw()),Ww([Jw(":leave",[Gw("200ms ease-out",Qw({left:"100%"}))]),Jw(":enter",[Gw("300ms ease-out",Qw({left:"0%"}))])]),Jw(":enter",Yw())])],options:{}},pI=((uI=function(){function t(){v(this,t),this.title="ClinicaOnline"}return m(t,[{key:"prepareRoute",value:function(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}]),t}()).\u0275fac=function(t){return new(t||uI)},uI.\u0275cmp=Se({type:uI,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(t,e){if(1&t&&(Qo(0,"div"),Yo(1,"router-outlet",null,0),Zo()),2&t){var n=en(cn.lFrame.contextLView,2);Wo("@routeAnimations",e.prepareRoute(n))}},directives:[ap],styles:[""],data:{animation:[dI]}}),uI),vI=((aI=function t(){v(this,t)}).\u0275mod=Te({type:aI,bootstrap:[pI]}),aI.\u0275inj=Et({factory:function(t){return new(t||aI)},providers:[Yc],imports:[[Vl,fI,tm.initializeApp(Nu),nm,wm,dy,py,Yg,hb,db]]}),aI);(function(){if(Sr)throw new Error("Cannot enable prod mode after platform setup.");Er=!1})(),Fl().bootstrapModule(vI).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();