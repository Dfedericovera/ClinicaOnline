(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return _})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return m}));var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},xsWp:function(t,e,n){"use strict";n.r(e),n.d(e,"__PRIVATE_registerFirestore",(function(){return vf}));var r=n("os0x"),i=n("zIRd"),s=n("q/0M"),o=n("qOnz"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function m(t){var e=p(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var y="closure_uid_"+(1e9*Math.random()>>>0),v=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:w).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var S=Date.now;function I(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++v)}(this)},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var A=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var P,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var j=f.navigator;if(j){var F=j.userAgent;if(F){P=F;break t}}P=""}function L(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function V(t){var e={};for(var n in t)e[n]=t[n];return e}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<M.length;s++)n=M[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}q[" "]=d;var B,z,H=D(P,"Opera"),G=D(P,"Trident")||D(P,"MSIE"),$=D(P,"Edge"),W=$||G,K=D(P,"Gecko")&&!(D(P.toLowerCase(),"webkit")&&!D(P,"Edge"))&&!(D(P,"Trident")||D(P,"MSIE"))&&!D(P,"Edge"),Q=D(P.toLowerCase(),"webkit")&&!D(P,"Edge");function Z(){var t=f.document;return t?t.documentMode:void 0}t:{var Y="",J=(z=P,K?/rv:([^\);]+)(\)|;)/.exec(z):$?/Edge\/([\d\.]+)/.exec(z):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(z):Q?/WebKit\/(\S+)/.exec(z):H?/(?:Version)[ \/]?(\S+)/.exec(z):void 0);if(J&&(Y=J?J[1]:""),G){var X=Z();if(null!=X&&X>parseFloat(Y)){B=String(X);break t}}B=Y}var tt={};function et(t){return function(t,e){var n=tt;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=N(String(B)).split("."),r=N(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=R(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==o[2].length,0==a[2].length)||R(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var nt=f.document&&G&&(Z()||parseInt(B,10))||void 0,rt=!G||9<=Number(nt),it=G&&!et("9"),st=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{q(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ut[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.defaultPrevented=!0},I(at,ot);var ut={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(or){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++lt,this.Y=this.Z=!1}function ft(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=A(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ft(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function mt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=mt(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ht(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),yt={};function vt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=At(r),e&&e[ct]?e.wa(n,r,g(i)?!!i.capture:!!i,s):bt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vt(t,e[s],n,r,i);return null}return n=At(n),t&&t[ct]?t.va(e,n,g(r)?!!r.capture:!!r,i):bt(t,e,n,!1,r,i)}function bt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i;if(o&&!rt)return null;var a=It(t);if(a||(t[gt]=a=new dt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=St,e=rt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)st||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function wt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ct])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=It(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ft(t)}}}function _t(t){return t in yt?yt[t]:yt[t]="on"+t}function Et(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&wt(t),n.call(r,e)}function St(t,e){if(t.Y)return!0;if(!rt){if(!e)t:{e=["window","event"];for(var n=f,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Et(t,e=new at(e,this))}return Et(t,new at(e,this))}function It(t){return(t=t[gt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(t){return"function"==p(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function Tt(){C.call(this),this.c=new dt(this),this.J=this,this.C=null}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&pt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}I(Tt,C),Tt.prototype[ct]=!0,(c=Tt.prototype).addEventListener=function(t,e,n,r){vt(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=g(i)?!!i.capture:!!i,r=At(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=mt(o=e.a[n],r,i,s))&&(ft(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=It(e))&&(n=e.a[n.toString()],e=-1,n&&(e=mt(n,r,i,s)),(r=-1<e?n[e]:null)&&wt(r))}(this,t,e,n,r)},c.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=Ot(o,r,!0,t)&&i}if(i=Ot(o=t.a=n,r,!0,t)&&i,i=Ot(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Ot(o=t.a=e[s],r,!1,t)&&i;return i},c.G=function(){if(Tt.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ft(n[r]);delete e.a[t],e.b--}}this.C=null},c.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},c.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xt=f.JSON.stringify;function kt(){this.b=this.a=null}var Pt,Nt=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Rt}),(function(t){t.reset()}),100);function Dt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function jt(t){f.setTimeout((function(){throw t}),0)}function Ft(t,e){Pt||function(){var t=f.Promise.resolve(void 0);Pt=function(){t.then(Mt)}}(),Lt||(Pt(),Lt=!0),Vt.add(t,e)}kt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Vt=new kt;function Mt(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Nt;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Ut(t,e){Tt.call(this),this.b=t||1,this.a=e||f,this.f=_(this.Ya,this),this.g=S()}function qt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Bt(t,e,n){if("function"==p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function zt(t){t.a=Bt((function(){t.a=null,t.c&&(t.c=!1,zt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}I(Ut,Tt),(c=Ut.prototype).aa=!1,c.M=null,c.Ya=function(){if(this.aa){var t=S()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(qt(this),this.start()))}},c.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=S())},c.G=function(){Ut.S.G.call(this),qt(this),delete this.a};var Ht=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:zt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(f.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(C);function Gt(t){C.call(this),this.b=t,this.a={}}I(Gt,C);var $t=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var s=vt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Kt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&wt(t)}),t),t.a={}}function Qt(){this.a=!0}function Zt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.S.G.call(this),Kt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qt.prototype.info=function(){};var Yt=null;function Jt(){return Yt=Yt||new Tt}function Xt(t){ot.call(this,"serverreachability",t)}function te(t){var e=Jt();e.dispatchEvent(new Xt(e,t))}function ee(t){ot.call(this,"statevent",t)}function ne(t){var e=Jt();e.dispatchEvent(new ee(e,t))}function re(t){ot.call(this,"timingevent",t)}function ie(t,e){if("function"!=p(t))throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}I(Xt,ot),I(ee,ot),I(re,ot);var se={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},oe={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function ae(){}function ue(){}ae.prototype.a=null;var ce,le={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function he(){ot.call(this,"d")}function fe(){ot.call(this,"c")}function de(){}function pe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Gt(this),this.P=me,this.R=new Ut(t=W?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}I(he,ot),I(fe,ot),I(de,ae),ce=new de;var me=45e3,ge={},ye={};function ve(t,e,n){t.H=1,t.i=Ue(Re(e)),t.j=n,t.I=!0,be(t,null)}function be(t,e){t.u=S(),Ee(t),t.l=Re(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Xe(n.b,"t",r),t.D=0,t.a=Kn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ht(_(t.Ca,t,t.a),t.O)),Wt(t.J,t.a,"readystatechange",t.Wa),e=t.B?V(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function we(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=_e(t,n);if(i==ye){4==e&&(t.h=4,ne(14),r=!1),Zt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ge){t.h=4,ne(15),Zt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Zt(t.c,t.f,i,null),Te(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Un(e),e.F=!0)):(Zt(t.c,t.f,n,"[Invalid Chunked Response]"),Ae(t),Ce(t))}function _e(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?ge:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.D=r+n,e))}function Ee(t){t.U=S()+t.P,Se(t,t.P)}function Se(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(_(t.Ua,t),e)}function Ie(t){t.o&&(f.clearTimeout(t.o),t.o=null)}function Ce(t){0==t.g.v||t.A||zn(t.g,t)}function Ae(t){Ie(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qt(t.R),Kt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Te(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||an(n.b,t)))if(n.I=t.N,!t.C&&an(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bn(n),Pn(n)}Mn(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(_(n.Ra,n),6e3));if(1>=on(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Gn(n,11)}else if((t.C||n.a==t)&&Bn(n),!k(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(un(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Me(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=S()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Wn(u,u.C?u.ga:null,u.fa),d.C){cn(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Ie(p),Ee(p)),u.a=d}else Vn(u);0<n.g.length&&Rn(n)}else"stop"!=i[0]&&"close"!=i[0]||Gn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gn(n,7):kn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(g){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||"string"==typeof t)T(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(m(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(m(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=pe.prototype).setTimeout=function(t){this.P=t},c.Wa=function(t){t=t.target;var e=this.F;e&&3==An(t)?e.f():this.Ca(t)},c.Ca=function(t){try{if(t==this.a)t:{var e=An(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!W&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Ie(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),Ae(this),Ce(this);break t}Zt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Te(this,u)}this.I?(we(this,e,s),W&&this.b&&3==e&&(Wt(this.J,this.R,"tick",this.Va),this.R.start())):(Zt(this.c,this.f,s,null),Te(this,s)),4==e&&Ae(this),this.b&&!this.A&&(4==e?zn(this.g,this):(this.b=!1,Ee(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),Ae(this),Ce(this)}}}catch(c){}},c.Va=function(){if(this.a){var t=An(this.a),e=this.a.$();this.D<e.length&&(Ie(this),we(this,t,e),this.b&&4!=t&&Ee(this))}},c.cancel=function(){this.A=!0,Ae(this)},c.Ua=function(){this.o=null;var t=S();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),Ae(this),this.h=2,Ce(this)):Se(this,this.U-t)},(c=xe.prototype).K=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},c.L=function(){return ke(this),this.a.concat()},c.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},c.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},c.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof De){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Fe(this,t.c),Le(this,t.h),this.g=t.g,e=t.b;var n=new Qe;n.c=e.c,e.a&&(n.a=new xe(e.a),n.b=e.b),Ve(this,n),this.i=t.i}else t&&(n=String(t).match(Ne))?(this.a=!!e,je(this,n[1]||"",!0),this.j=qe(n[2]||""),Fe(this,n[3]||"",!0),Le(this,n[4]),this.g=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.i=qe(n[7]||"")):(this.a=!!e,this.b=new Qe(null,this.a))}function Re(t){return new De(t)}function je(t,e,n){t.f=n?qe(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Fe(t,e,n){t.c=n?qe(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ve(t,e,n){e instanceof Qe?(t.b=e,function(t,e){e&&!t.f&&(Ze(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ye(this,e),Xe(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Be(e,We)),t.b=new Qe(e,t.a))}function Me(t,e,n){t.b.set(e,n)}function Ue(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^S()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Be(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Be(e,He,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Be(e,He,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Be(n,"/"==n.charAt(0)?$e:Ge,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Be(n,Ke)),t.join("")};var He=/[#\/\?@]/g,Ge=/[#\?:]/g,$e=/[#\?]/g,We=/[#\?@]/g,Ke=/#/g;function Qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ze(t){t.a||(t.a=new xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ye(t,e){Ze(t),e=tn(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Je(t,e){return Ze(t),e=tn(t,e),Pe(t.a.b,e)}function Xe(t,e,n){Ye(t,e),0<n.length&&(t.c=null,t.a.set(tn(t,e),x(n)),t.b+=n.length)}function tn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function en(t,e){this.b=t,this.a=e}function nn(t){this.g=t||rn,t=f.PerformanceNavigationTiming?0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(f.ia&&f.ia.ya&&f.ia.ya()&&f.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(c=Qe.prototype).add=function(t,e){Ze(this),this.c=null,t=tn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},c.forEach=function(t,e){Ze(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.L=function(){Ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},c.K=function(t){Ze(this);var e=[];if("string"==typeof t)Je(this,t)&&(e=O(e,this.a.get(tn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},c.set=function(t,e){return Ze(this),this.c=null,Je(this,t=tn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},c.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},c.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var rn=10;function sn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function on(t){return t.b?1:t.a?t.a.size:0}function an(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function un(t,e){t.a?t.a.add(e):t.b=e}function cn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=u(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return x(t.c)}function hn(){}function fn(){this.a=new hn}function dn(t,e,n){var r=n||"";try{Oe(t,(function(t,n){var i=t;g(t)&&(i=xt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}nn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=u(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return f.JSON.parse(t,void 0)};var mn=f.JSON.parse;function gn(t){Tt.call(this),this.headers=new xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yn,this.D=this.F=!1}I(gn,Tt);var yn="",vn=/^https?$/i,bn=["POST","PUT"];function wn(t){return"content-type"==t.toLowerCase()}function _n(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,En(t),In(t)}function En(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sn(t){if(t.b&&void 0!==h&&(!t.s[1]||4!=An(t)||2!=t.X()))if(t.l&&4==An(t))Bt(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==An(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ne)[1]||null;if(!s&&f.self&&f.self.location){var o=f.self.location.protocol;s=o.substr(0,o.length-1)}i=!vn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<An(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.X()+"]",En(t)}}finally{In(t)}}}function In(t,e){if(t.a){Cn(t);var n=t.a,r=t.s[0]?d:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Cn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(f.clearTimeout(t.m),t.m=null)}function An(t){return t.a?t.a.readyState:0}function Tn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xn(t){this.pa=0,this.g=[],this.c=new Qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=On("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=On("baseRetryDelayMs",5e3,t),this.Ma=On("retryDelaySeedMs",1e4,t),this.Ja=On("forwardChannelMaxRetries",2,t),this.ma=On("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new nn(t&&t.concurrentRequestLimit),this.ka=new fn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function kn(t){if(Nn(t),3==t.v){var e=t.R++,n=Re(t.B);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),Fn(t,n),(e=new pe(t,t.c,e,void 0)).H=2,e.i=Ue(Re(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.i.toString(),"")),!n&&f.Image&&((new Image).src=e.i,n=!0),n||(e.a=Kn(e.g,null),e.a.ba(e.i)),e.u=S(),Ee(e)}$n(t)}function Pn(t){t.a&&(Un(t),t.a.cancel(),t.a=null)}function Nn(t){Pn(t),t.j&&(f.clearTimeout(t.j),t.j=null),Bn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&f.clearTimeout(t.h),t.h=null)}function Dn(t,e){t.g.push(new en(t.La++,e)),3==t.v&&Rn(t)}function Rn(t){sn(t.b)||t.h||(t.h=!0,Ft(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=Re(t.B);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.P),Fn(t,r),t.i&&t.l&&Tn(r,t.i,t.l),n=new pe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ln(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),un(t.b,n),ve(n,r,e)}function Fn(t,e){t.f&&Oe({},(function(t,n){Me(e,n,t)}))}function Ln(t,e,n){n=Math.min(t.g.length,n);var r=t.f?_(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{dn(l,o,"req"+c+"_")}catch(xr){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Vn(t){t.a||t.j||(t.U=1,Ft(t.Aa,t),t.o=0)}function Mn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=ie(_(t.Aa,t),Hn(t,t.o)),t.o++,0))}function Un(t){null!=t.s&&(f.clearTimeout(t.s),t.s=null)}function qn(t){t.a=new pe(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Re(t.la);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.H?"0":"1"),Me(e,"AID",t.P),Fn(t,e),Me(e,"TYPE","xmlhttp"),t.i&&t.l&&Tn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ue(Re(e)),n.j=null,n.I=!0,be(n,t)}function Bn(t){null!=t.m&&(f.clearTimeout(t.m),t.m=null)}function zn(t,e){var n=null;if(t.a==e){Bn(t),Un(t),t.a=null;var r=2}else{if(!an(t.b,e))return;n=e.s,cn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=S()-e.u;var i=t.u;(r=Jt()).dispatchEvent(new re(r,n,e,i)),Rn(t)}else Vn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(on(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=ie(_(t.Ba,t,e),Hn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}function Hn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Gn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=_(t.Xa,t);n||(n=new De("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||je(n,"https"),Ue(n)),function(t,e){var n=new Qt;if(f.Image){var r=new Image;r.onload=E(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=E(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=E(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=E(pn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),$n(t),Nn(t)}function $n(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,x(t.g),t.g.length=0),t.f.qa())}function Wn(t,e,n){var r=function(t){return t instanceof De?Re(t):new De(t,void 0)}(n);if(""!=r.c)e&&Fe(r,e+"."+r.c),Le(r,r.h);else{var i=f.location;r=function(t,e,n,r){var i=new De(null,void 0);return t&&je(i,t),e&&Fe(i,e),n&&Le(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&L(t.W,(function(t,e){Me(r,e,t)})),n=t.na,(e=t.A)&&n&&Me(r,e,n),Me(r,"VER",t.ha),Fn(t,r),r}function Kn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t.Ka)).F=t.C,e}function Qn(){}function Zn(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function Yn(t,e){Tt.call(this),this.a=new xn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tr(this)}function Jn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xn(){fe.call(this),this.status=1}function tr(t){this.a=t}(c=gn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ce),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void _n(this,s)}t=n||"";var i=new xe(this.headers);r&&Oe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=wn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=f.FormData&&t instanceof f.FormData,!(0<=A(bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Cn(this),0<this.o&&((this.D=function(t){return G&&et(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=Bt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){_n(this,s)}},c.xa=function(){void 0!==h&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},c.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),In(this))},c.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),In(this,!0)),gn.S.G.call(this)},c.za=function(){this.j||(this.A||this.l||this.g?Sn(this):this.Ta())},c.Ta=function(){Sn(this)},c.X=function(){try{return 2<An(this)?this.a.status:-1}catch(z){return-1}},c.$=function(){try{return this.a?this.a.responseText:""}catch(z){return""}},c.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mn(e)}},c.ua=function(){return this.h},c.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(c=xn.prototype).ha=8,c.v=1,c.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new pe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?U(r=V(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ln(this,n,e),Me(i=Re(this.B),"RID",t),Me(i,"CVER",22),this.A&&Me(i,"X-HTTP-Session-Id",this.A),Fn(this,i),this.i&&r&&Tn(i,this.i,r),un(this.b,n),this.Ga&&Me(i,"TYPE","init"),this.da?(Me(i,"$req",e),Me(i,"SID","null"),n.V=!0,ve(n,i,null)):ve(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||sn(this.b)||jn(this))},c.Aa=function(){if(this.j=null,qn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(_(this.Sa,this),t)}},c.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Pn(this),qn(this))},c.Ra=function(){null!=this.m&&(this.m=null,Pn(this),Mn(this),ne(19))},c.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(c=Qn.prototype).ta=function(){},c.sa=function(){},c.ra=function(){},c.qa=function(){},c.Ha=function(){},Zn.prototype.a=function(t,e){return new Yn(t,e)},I(Yn,Tt),(c=Yn.prototype).addEventListener=function(t,e,n,r){Yn.S.addEventListener.call(this,t,e,n,r)},c.removeEventListener=function(t,e,n,r){Yn.S.removeEventListener.call(this,t,e,n,r)},c.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;ne(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Wn(t,null,t.fa),Rn(t)},c.close=function(){kn(this.a)},c.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,Dn(this.a,e)}else this.g?((e={}).__data__=xt(t),Dn(this.a,e)):Dn(this.a,t)},c.G=function(){this.a.f=null,delete this.f,kn(this.a),delete this.a,Yn.S.G.call(this)},I(Jn,he),I(Xn,fe),I(tr,Qn),tr.prototype.ta=function(){this.a.dispatchEvent("a")},tr.prototype.sa=function(t){this.a.dispatchEvent(new Jn(t))},tr.prototype.ra=function(t){this.a.dispatchEvent(new Xn(t))},tr.prototype.qa=function(){this.a.dispatchEvent("b")},Zn.prototype.createWebChannel=Zn.prototype.a,Yn.prototype.send=Yn.prototype.Pa,Yn.prototype.open=Yn.prototype.Oa,Yn.prototype.close=Yn.prototype.close,se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,oe.COMPLETE="complete",ue.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Tt.prototype.listen=Tt.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.X,gn.prototype.getResponseJson=gn.prototype.Na,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var er=se,nr=oe,rr=ue,ir=gn,sr=n("/6Yf"),or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ar=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.c)(e,t),e}(Error),ur=new s.b("@firebase/firestore");function cr(){return ur.logLevel}function lr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=s.a.DEBUG){var i=e.map(dr);ur.debug.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function hr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=s.a.ERROR){var i=e.map(dr);ur.error.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ur.logLevel<=s.a.WARN){var i=e.map(dr);ur.warn.apply(ur,Object(r.g)(["Firestore (8.0.1): "+t],i))}}function dr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function pr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.0.1) INTERNAL ASSERTION FAILED: "+t;throw hr(e),new Error(e)}function mr(t,e){t||pr()}function gr(t,e){return t}function yr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=yr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function br(t,e){return t<e?-1:t>e?1:0}function wr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function _r(t){return t+"\0"}var Er=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return br(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Er.h=new Er("");var Sr=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Er.fromBase64String(e))}catch(e){throw new ar(or.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Er.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}();function Ir(){if("undefined"==typeof Uint8Array)throw new ar(or.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Cr(){if("undefined"==typeof atob)throw new ar(or.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.fromBase64String=function(t){Cr();try{return new e(Er.fromBase64String(t))}catch(t){throw new ar(or.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){return Ir(),new e(Er.fromUint8Array(t))},e.prototype.toBase64=function(){return Cr(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return Ir(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Sr),Tr=function(t,e,n,r,i,s){this._=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.T=s},Or=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.u=function(t){return br(this.projectId,t.projectId)||br(this.database,t.database)},t}();function xr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Nr=function(){function t(t,e){this.m=t,this.A=e,this.R={}}return t.prototype.get=function(t){var e=this.m(t),n=this.R[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.A(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.m(t),r=this.R[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.A(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.R[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.m(t),n=this.R[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.A(n[r][0],t))return 1===n.length?delete this.R[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){kr(this.R,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.P=function(){return Pr(this.R)},t}(),Dr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ar(or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ar(or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ar(or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ar(or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(t){return this.seconds===t.seconds?br(this.nanoseconds,t.nanoseconds):br(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Rr=function(){function t(t){this.timestamp=t}return t.V=function(e){return new t(e)},t.min=function(){return new t(new Dr(0,0))},t.prototype.u=function(t){return this.timestamp.g(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),jr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pr(),void 0===n?n=t.length-e:n>t.length-e&&pr(),this.segments=t,this.offset=e,this.S=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.D(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(t){return this.C(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.k=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.P=function(){return 0===this.length},t.prototype.M=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.$=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Fr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ar(or.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.U=function(){return new e([])},e}(jr),Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.C=function(t,n,r){return new e(t,n,r)},e.K=function(t){return Lr.test(t)},e.prototype.B=function(){return this.L().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.K(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return 1===this.length&&"__name__"===this.get(0)},e.j=function(){return new e(["__name__"])},e.G=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ar(or.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ar(or.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ar(or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ar(or.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.U=function(){return new e([])},e}(jr),Mr=function(){function t(t){this.path=t}return t.H=function(e){return new t(Fr.q(e))},t.Y=function(e){return new t(Fr.q(e).N(5))},t.prototype.J=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Fr.D(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.D=function(t,e){return Fr.D(t.path,e.path)},t.X=function(t){return t.length%2==0},t.Z=function(e){return new t(new Fr(e.slice()))},t}();function Ur(t){return null==t}function qr(t){return 0===t&&1/t==-1/0}function Br(t){return"number"==typeof t&&Number.isInteger(t)&&!qr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var zr=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.tt=null};function Hr(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new zr(t,e,n,r,i,s,o)}function Gr(t){var e=gr(t);if(null===e.tt){var n=e.path.B();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.B()+t.op.toString()+ji(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.B()+e.dir;var e})).join(","),Ur(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Lo(e.startAt)),e.endAt&&(n+="|ub:",n+=Lo(e.endAt)),e.tt=n}return e.tt}function $r(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Bo(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Pi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mo(t.startAt,e.startAt)&&Mo(t.endAt,e.endAt)}function Wr(t){return Mr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Kr,Qr,Zr=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Rr.min()),void 0===s&&(s=Rr.min()),void 0===o&&(o=Er.h),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),Yr=function(t){this.count=t};function Jr(t){switch(t){case or.OK:return pr();case or.CANCELLED:case or.UNKNOWN:case or.DEADLINE_EXCEEDED:case or.RESOURCE_EXHAUSTED:case or.INTERNAL:case or.UNAVAILABLE:case or.UNAUTHENTICATED:return!1;case or.INVALID_ARGUMENT:case or.NOT_FOUND:case or.ALREADY_EXISTS:case or.PERMISSION_DENIED:case or.FAILED_PRECONDITION:case or.ABORTED:case or.OUT_OF_RANGE:case or.UNIMPLEMENTED:case or.DATA_LOSS:return!0;default:return pr()}}function Xr(t){if(void 0===t)return hr("GRPC error has no .code"),or.UNKNOWN;switch(t){case Kr.OK:return or.OK;case Kr.CANCELLED:return or.CANCELLED;case Kr.UNKNOWN:return or.UNKNOWN;case Kr.DEADLINE_EXCEEDED:return or.DEADLINE_EXCEEDED;case Kr.RESOURCE_EXHAUSTED:return or.RESOURCE_EXHAUSTED;case Kr.INTERNAL:return or.INTERNAL;case Kr.UNAVAILABLE:return or.UNAVAILABLE;case Kr.UNAUTHENTICATED:return or.UNAUTHENTICATED;case Kr.INVALID_ARGUMENT:return or.INVALID_ARGUMENT;case Kr.NOT_FOUND:return or.NOT_FOUND;case Kr.ALREADY_EXISTS:return or.ALREADY_EXISTS;case Kr.PERMISSION_DENIED:return or.PERMISSION_DENIED;case Kr.FAILED_PRECONDITION:return or.FAILED_PRECONDITION;case Kr.ABORTED:return or.ABORTED;case Kr.OUT_OF_RANGE:return or.OUT_OF_RANGE;case Kr.UNIMPLEMENTED:return or.UNIMPLEMENTED;case Kr.DATA_LOSS:return or.DATA_LOSS;default:return pr()}}(Qr=Kr||(Kr={}))[Qr.OK=0]="OK",Qr[Qr.CANCELLED=1]="CANCELLED",Qr[Qr.UNKNOWN=2]="UNKNOWN",Qr[Qr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qr[Qr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qr[Qr.NOT_FOUND=5]="NOT_FOUND",Qr[Qr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qr[Qr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qr[Qr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qr[Qr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qr[Qr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qr[Qr.ABORTED=10]="ABORTED",Qr[Qr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qr[Qr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qr[Qr.INTERNAL=13]="INTERNAL",Qr[Qr.UNAVAILABLE=14]="UNAVAILABLE",Qr[Qr.DATA_LOSS=15]="DATA_LOSS";var ti=function(){function t(t,e){this.D=t,this.root=e||ni.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,ni.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,ni.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.P();){var n=this.D(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.P();){var r=this.D(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new ei(this.root,null,this.D,!1)},t.prototype.ft=function(t){return new ei(this.root,t,this.D,!1)},t.prototype.dt=function(){return new ei(this.root,null,this.D,!0)},t.prototype.wt=function(t){return new ei(this.root,t,this.D,!0)},t}(),ei=function(){function t(t,e,n,r){this.Et=r,this.Tt=[];for(var i=1;!t.P();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Et?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.Et?t.right:t.left}}return t.prototype.It=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.Et)for(t=t.left;!t.P();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.P();)this.Tt.push(t),t=t.left;return e},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(0===this.Tt.length)return null;var t=this.Tt[this.Tt.length-1];return{key:t.key,value:t.value}},t}(),ni=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.P=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.P()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.P()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.P()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.P())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.gt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Pt()},t.prototype.yt=function(){return this.color},t.prototype.Pt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw pr();if(this.right.yt())throw pr();var t=this.left.Nt();if(t!==this.right.Nt())throw pr();return t+(this.yt()?0:1)},t}();ni.EMPTY=null,ni.RED=!0,ni.at=!1,ni.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new ni(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.P=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var ri=function(){function t(t){this.D=t,this.data=new ti(this.D)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.xt=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.D(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.Ot=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new ii(this.data._t())},t.prototype.ft=function(t){return new ii(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.P=function(){return this.data.P()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,s=r.It().key;if(0!==this.D(i,s))return!1}return!0},t.prototype.L=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),ii=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),si=new ti(Mr.D);function oi(){return si}function ai(){return oi()}var ui=new ti(Mr.D);function ci(){return ui}var li=new ti(Mr.D),hi=new ri(Mr.D);function fi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=hi,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var di=new ri(br);function pi(){return di}var mi=function(){function t(t){this.D=t?function(e,n){return t(e,n)||Mr.D(e.key,n.key)}:function(t,e){return Mr.D(t.key,e.key)},this.$t=ci(),this.Lt=new ti(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,s=r.It().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.D=this.D,r.$t=e,r.Lt=n,r},t}(),gi=function(){function t(){this.qt=new ti(Mr.D)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):pr():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),yi=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Kt=n,this.docChanges=r,this.Qt=i,this.fromCache=s,this.Wt=o,this.jt=a}return t.Gt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,mi.Bt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Eo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Kt.isEqual(t.Kt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vi=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,bi.Zt(e,n)),new t(Rr.min(),r,pi(),oi(),fi())},t}(),bi=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(Er.h,n,fi(),fi(),fi())},t}(),wi=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},_i=function(t,e){this.targetId=t,this.oe=e},Ei=function(t,e,n,r){void 0===n&&(n=Er.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Si=function(){function t(){this.ae=0,this.ce=Ai(),this.ue=Er.h,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.o()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=fi(),e=fi(),n=fi();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pr()}})),new bi(this.ue,this.he,t,e,n)},t.prototype.Ee=function(){this.le=!1,this.ce=Ai()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ie=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Ii=function(){function t(t){this.Pe=t,this.ge=new Map,this.ye=oi(),this.Ve=Ci(),this.pe=new ri(br)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof so?this.ve(r,t.re):t.re instanceof oo&&this.Se(r,t.key,t.re)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Se(s[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.xe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.Ee(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.xe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.xe(n)&&(e.Fe(n),r.de(t.resumeToken));break;default:pr()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ge.forEach((function(t,r){n.xe(r)&&e(r)}))},t.prototype.Oe=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(Wr(i))if(0===n){var s=new Mr(i.path);this.Se(e,s,new oo(s,Rr.min()))}else mr(1===n);else this.Me(e)!==n&&(this.Fe(e),this.pe=this.pe.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.ge.forEach((function(r,i){var s=e.ke(i);if(s){if(r.te&&Wr(s.target)){var o=new Mr(s.target.path);null!==e.ye.get(o)||e.Le(i,o)||e.Se(i,o,new oo(o,t))}r.fe&&(n.set(i,r.we()),r.Ee())}}));var r=fi();this.Ve.forEach((function(t,n){var i=!0;n.Ft((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vi(t,n,this.pe,this.ye,r);return this.ye=oi(),this.Ve=Ci(),this.pe=new ri(br),i},t.prototype.ve=function(t,e){if(this.xe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.xe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ie(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.ge.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.Pe.qe(t).size+e.ee.size-e.se.size},t.prototype.me=function(t){this.Ne(t).me()},t.prototype.Ne=function(t){var e=this.ge.get(t);return e||(e=new Si,this.ge.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new ri(br),this.Ve=this.Ve.ot(t,e)),e},t.prototype.xe=function(t){var e=null!==this.ke(t);return e||lr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.ge.get(t);return e&&e._e?null:this.Pe.Ue(t)},t.prototype.Fe=function(t){var e=this;this.ge.set(t,new Si),this.Pe.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.Pe.qe(t).has(e)},t}();function Ci(){return new ti(Mr.D)}function Ai(){return new ti(Mr.D)}function Ti(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oi(t){var e=Fi(t.mapValue.fields.__local_write_time__.timestampValue);return new Dr(e.seconds,e.nanos)}var xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ti(t)?4:10:pr()}function Pi(t,e){var n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oi(t).isEqual(Oi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Fi(t.timestampValue),r=Fi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Vi(t.bytesValue).isEqual(Vi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Li(t.geoPointValue.latitude)===Li(e.geoPointValue.latitude)&&Li(t.geoPointValue.longitude)===Li(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Li(t.integerValue)===Li(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Li(t.doubleValue),r=Li(e.doubleValue);return n===r?qr(n)===qr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wr(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(xr(n)!==xr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pi(n[i],r[i])))return!1;return!0}(t,e);default:return pr()}}function Ni(t,e){return void 0!==(t.values||[]).find((function(t){return Pi(t,e)}))}function Di(t,e){var n=ki(t),r=ki(e);if(n!==r)return br(n,r);switch(n){case 0:return 0;case 1:return br(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Li(t.integerValue||t.doubleValue),r=Li(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ri(t.timestampValue,e.timestampValue);case 4:return Ri(Oi(t),Oi(e));case 5:return br(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Vi(t),r=Vi(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=br(n[i],r[i]);if(0!==s)return s}return br(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=br(Li(t.latitude),Li(e.latitude));return 0!==n?n:br(Li(t.longitude),Li(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Di(n[i],r[i]);if(s)return s}return br(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=br(r[o],s[o]);if(0!==a)return a;var u=Di(n[r[o]],i[s[o]]);if(0!==u)return u}return br(r.length,s.length)}(t.mapValue,e.mapValue);default:throw pr()}}function Ri(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return br(t,e);var n=Fi(t),r=Fi(e),i=br(n.seconds,r.seconds);return 0!==i?i:br(n.nanos,r.nanos)}function ji(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Fi(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vi(e.bytesValue).toBase64():"referenceValue"in e?Mr.Y(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):pr();var n}(t)}function Fi(t){if(mr(!!t),"string"==typeof t){var e=0,n=xi.exec(t);if(mr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Li(t.seconds),nanos:Li(t.nanos)}}function Li(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Vi(t){return"string"==typeof t?Er.fromBase64String(t):Er.fromUint8Array(t)}function Mi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Ui(t){return!!t&&"integerValue"in t}function qi(t){return!!t&&"arrayValue"in t}function Bi(t){return!!t&&"nullValue"in t}function zi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hi(t){return!!t&&"mapValue"in t}var Gi={asc:"ASCENDING",desc:"DESCENDING"},$i={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wi=function(t,e){this._=t,this.Ke=e};function Ki(t){return{integerValue:""+t}}function Qi(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(e)?"-0":e}}function Zi(t,e){return Br(e)?Ki(e):Qi(t,e)}function Yi(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ji(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function Xi(t,e){return Yi(t,e.v())}function ts(t){return mr(!!t),Rr.V(function(t){var e=Fi(t);return new Dr(e.seconds,e.nanos)}(t))}function es(t,e){return function(t){return new Fr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).B()}function ns(t){var e=Fr.q(t);return mr(Ss(e)),e}function rs(t,e){return es(t._,e.path)}function is(t,e){var n=ns(e);return mr(n.get(1)===t._.projectId),mr(!n.get(3)&&!t._.database||n.get(3)===t._.database),new Mr(us(n))}function ss(t,e){return es(t._,e)}function os(t){var e=ns(t);return 4===e.length?Fr.U():us(e)}function as(t){return new Fr(["projects",t._.projectId,"databases",t._.database]).B()}function us(t){return mr(t.length>4&&"documents"===t.get(4)),t.N(5)}function cs(t,e,n){return{name:rs(t,e),fields:n.proto.mapValue.fields}}function ls(t,e){var n;if(e instanceof Ws)n={update:cs(t,e.key,e.value)};else if(e instanceof Xs)n={delete:rs(t,e.key)};else if(e instanceof Ks)n={update:cs(t,e.key,e.data),updateMask:Es(e.Qe)};else if(e instanceof Zs)n={transform:{document:rs(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Os)return{fieldPath:e.field.B(),setToServerValue:"REQUEST_TIME"};if(n instanceof xs)return{fieldPath:e.field.B(),appendMissingElements:{values:n.elements}};if(n instanceof Ps)return{fieldPath:e.field.B(),removeAllFromArray:{values:n.elements}};if(n instanceof Ds)return{fieldPath:e.field.B(),increment:n.We};throw pr()}(0,t)}))}};else{if(!(e instanceof to))return pr();n={verify:rs(t,e.key)}}return e.Ge.je||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Xi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pr()}(t,e.Ge)),n}function hs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ms.updateTime(ts(t.updateTime)):void 0!==t.exists?Ms.exists(t.exists):Ms.ze()}(e.currentDocument):Ms.ze();if(e.update){var r=is(t,e.update.name),i=new eo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Fs((t.fieldPaths||[]).map((function(t){return Vr.G(t)})))}(e.updateMask);return new Ks(r,i,s,n)}return new Ws(r,i,n)}if(e.delete){var o=is(t,e.delete);return new Xs(o,n)}if(e.transform){var a=is(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(mr("REQUEST_TIME"===e.setToServerValue),n=new Os):"appendMissingElements"in e?n=new xs(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ps(e.removeAllFromArray.values||[]):"increment"in e?n=new Ds(t,e.increment):pr();var r=Vr.G(e.fieldPath);return new Ls(r,n)}(t,e)}));return mr(!0===n.exists),new Zs(a,u)}if(e.verify){var c=is(t,e.verify);return new to(c,n)}return pr()}function fs(t,e){return{documents:[ss(t,e.path)]}}function ds(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ss(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ss(t,r.F()),n.structuredQuery.from=[{collectionId:r.k()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(zi(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NAN"}};if(Bi(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zi(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NAN"}};if(Bi(t.value))return{unaryFilter:{field:vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(t.field),op:ys(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:vs(t.field),direction:gs(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Ke||Ur(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=ps(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ps(e.endAt)),n}function ps(t){return{before:t.before,values:t.position}}function ms(t){return new Fo(t.values||[],!!t.before)}function gs(t){return Gi[t]}function ys(t){return $i[t]}function vs(t){return{fieldPath:t.B()}}function bs(t){return Vr.G(t.fieldPath)}function ws(t){return To.create(bs(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pr()}}(t.fieldFilter.op),t.fieldFilter.value)}function _s(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bs(t.unaryFilter.field);return To.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bs(t.unaryFilter.field);return To.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bs(t.unaryFilter.field);return To.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bs(t.unaryFilter.field);return To.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pr()}}function Es(t){var e=[];return t.fields.forEach((function(t){return e.push(t.B())})),{fieldPaths:e}}function Ss(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Is=function(){this.He=void 0};function Cs(t,e,n){return t instanceof Os?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xs?ks(t,e):t instanceof Ps?Ns(t,e):function(t,e){var n=Ts(t,e),r=Rs(n)+Rs(t.We);return Ui(n)&&Ui(t.We)?Ki(r):Qi(t.serializer,r)}(t,e)}function As(t,e,n){return t instanceof xs?ks(t,e):t instanceof Ps?Ns(t,e):n}function Ts(t,e){return t instanceof Ds?Ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e}(Is),xs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Is);function ks(t,e){for(var n=js(e),r=function(t){n.some((function(e){return Pi(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ps=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(r.c)(e,t),e}(Is);function Ns(t,e){for(var n=js(e),r=function(t){n=n.filter((function(e){return!Pi(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.We=n,r}return Object(r.c)(e,t),e}(Is);function Rs(t){return Li(t.integerValue||t.doubleValue)}function js(t){return qi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Fs=function(){function t(t){this.fields=t,t.sort(Vr.D)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].M(t))return!0;return!1},t.prototype.isEqual=function(t){return wr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ls=function(t,e){this.field=t,this.transform=e},Vs=function(t,e){this.version=t,this.transformResults=e},Ms=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Us(t,e){return void 0!==t.updateTime?e instanceof so&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof so}var qs=function(){};function Bs(t,e,n){return t instanceof Ws?function(t,e,n){return new so(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ks?function(t,e,n){if(!Us(t.Ge,e))return new ao(t.key,n.version);var r=Qs(t,e);return new so(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Zs?function(t,e,n){if(mr(null!=n.transformResults),!Us(t.Ge,e))return new ao(t.key,n.version);var r=Ys(0,e),i=function(t,e,n){var r=[];mr(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof so&&(a=e.field(s.field)),r.push(As(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Js(t,r.data(),i);return new so(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new oo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function zs(t,e,n,r){return t instanceof Ws?function(t,e){if(!Us(t.Ge,e))return e;var n=$s(e);return new so(t.key,n,t.value,{Je:!0})}(t,e):t instanceof Ks?function(t,e){if(!Us(t.Ge,e))return e;var n=$s(e),r=Qs(t,e);return new so(t.key,n,r,{Je:!0})}(t,e):t instanceof Zs?function(t,e,n,r){if(!Us(t.Ge,e))return e;var i=Ys(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof so&&(c=n.field(a.field)),null===c&&r instanceof so&&(c=r.field(a.field)),i.push(Cs(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Js(t,i.data(),s);return new so(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return Us(t.Ge,e)?new oo(t.key,Rr.min()):e}(t,e)}function Hs(t,e){return t instanceof Zs?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof so?e.field(s.field):void 0,a=Ts(s.transform,o||null);null!=a&&(n=null==n?(new no).set(s.field,a):n.set(s.field,a))}return n?n.Xe():null}(t,e):null}function Gs(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||wr(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xs&&e instanceof xs||t instanceof Ps&&e instanceof Ps?wr(t.elements,e.elements,Pi):t instanceof Ds&&e instanceof Ds?Pi(t.We,e.We):t instanceof Os&&e instanceof Os}(t.transform,e.transform)}(t,e)})))}function $s(t){return t instanceof so?t.version:Rr.min()}var Ws=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return Object(r.c)(e,t),e}(qs),Ks=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Qe=r,s.Ge=i,s.type=1,s}return Object(r.c)(e,t),e}(qs);function Qs(t,e){return function(t,e){var n=new no(e);return t.Qe.fields.forEach((function(e){if(!e.P()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof so?e.data():eo.empty())}var Zs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=Ms.exists(!0),r}return Object(r.c)(e,t),e}(qs);function Ys(t,e){return e}function Js(t,e,n){for(var r=new no(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return Object(r.c)(e,t),e}(qs),to=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return Object(r.c)(e,t),e}(qs),eo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.P())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hi(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.k()])||null},t.prototype.isEqual=function(t){return Pi(this.proto,t.proto)},t}(),no=function(){function t(t){void 0===t&&(t=eo.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ki(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.k(),e)},t.prototype.Xe=function(){var t=this.nn(Vr.U(),this.tn);return null!=t?new eo(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),s=Hi(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.nn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function ro(t){var e=[];return kr(t.fields||{},(function(t,n){var r=new Vr([t]);if(Hi(n)){var i=ro(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Fs(e)}var io=function(t,e){this.key=t,this.version=e},so=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).sn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(r.c)(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(io),oo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(r.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(io),ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(io),uo=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=s,this.startAt=o,this.endAt=a,this.cn=null,this.un=null};function co(t,e,n,r,i,s,o,a){return new uo(t,e,n,r,i,s,o,a)}function lo(t){return new uo(t)}function ho(t){return!Ur(t.limit)&&"F"===t.an}function fo(t){return!Ur(t.limit)&&"L"===t.an}function po(t){return t.on.length>0?t.on[0].field:null}function mo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function go(t){return null!==t.collectionGroup}function yo(t){var e=gr(t);if(null===e.cn){e.cn=[];var n=mo(e),r=po(e);if(null!==n&&null===r)n.W()||e.cn.push(new Uo(n)),e.cn.push(new Uo(Vr.j(),"asc"));else{for(var i=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.cn.push(a),a.field.W()&&(i=!0)}if(!i){var u=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new Uo(Vr.j(),u))}}}return e.cn}function vo(t){var e=gr(t);if(!e.un)if("F"===e.an)e.un=Hr(e.path,e.collectionGroup,yo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=yo(e);r<i.length;r++){var s=i[r];n.push(new Uo(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Fo(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Fo(e.startAt.position,!e.startAt.before):null;e.un=Hr(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.un}function bo(t,e,n){return new uo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wo(t,e){return new uo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function _o(t,e){return new uo(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function Eo(t,e){return $r(vo(t),vo(e))&&t.an===e.an}function So(t){return Gr(vo(t))+"|lt:"+t.an}function Io(t){return"Query(target="+function(t){var e=t.path.B();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.B()+" "+e.op+" "+ji(e.value);var e})).join(", ")+"]"),Ur(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.B()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Lo(t.startAt)),t.endAt&&(e+=", endAt: "+Lo(t.endAt)),"Target("+e+")"}(vo(t))+"; limitType="+t.an+")"}function Co(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.J(t.collectionGroup)&&t.path.M(n):Mr.X(t.path)?t.path.isEqual(n):t.path.$(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.W()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Vo(t.startAt,yo(t),e)||t.endAt&&Vo(t.endAt,yo(t),e))}(t,e)}function Ao(t){return function(e,n){for(var r=!1,i=0,s=yo(t);i<s.length;i++){var o=s[i],a=qo(o,e,n);if(0!==a)return a;r=r||o.field.W()}return 0}}var To=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(r.c)(e,t),e.create=function(t,n,r){return t.W()?"in"===n||"not-in"===n?this.ln(t,n,r):new Oo(t,n,r):"array-contains"===n?new No(t,r):"in"===n?new Do(t,r):"not-in"===n?new Ro(t,r):"array-contains-any"===n?new jo(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new xo(t,n):new ko(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(Di(e,this.value)):null!==e&&ki(this.value)===ki(e)&&this._n(Di(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pr()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Oo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Mr.Y(r.referenceValue),i}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=Mr.D(t.key,this.key);return this._n(e)},e}(To),xo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Po(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(To),ko=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Po(0,n),r}return Object(r.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(To);function Po(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Mr.Y(t.referenceValue)}))}var No=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qi(e)&&Ni(e.arrayValue,this.value)},e}(To),Do=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ni(this.value.arrayValue,e)},e}(To),Ro=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ni(this.value.arrayValue,e)},e}(To),jo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(r.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ni(e.value.arrayValue,t)}))},e}(To),Fo=function(t,e){this.position=t,this.before=e};function Lo(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ji(t)})).join(",")}function Vo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.W()?Mr.D(Mr.Y(o.referenceValue),n.key):Di(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}var Uo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function qo(t,e,n){var r=t.field.W()?Mr.D(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Di(r,i):pr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pr()}}function Bo(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zo=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ho=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.En=r,this.Tn=i,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(t){var e=this;this.cancel();var n=Math.floor(this.In+this.gn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&lr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.In+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mn=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.Vn=function(){null!==this.mn&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){null!==this.mn&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),Go=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&pr(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.xn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.Fn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.On=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.On(r)},t}(),$o=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.$n(Object(o.h)())&&hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return lr("SimpleDb","Removing database:",t),Jo(window.indexedDB.deleteDatabase(t)).xn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=Object(o.h)(),n=t.$n(e),r=0<n&&n<10,i=t.qn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Kn=function(t,e){return t.store(e)},t.$n=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Qn=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(lr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ko(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ar(or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ko(t,n))},i.onupgradeneeded=function(t){lr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){lr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return n.Wn(t)}),this.db)]}}))}))},t.prototype.jn=function(t){this.Wn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var s,o,a,u,c;return Object(r.d)(this,(function(l){switch(l.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,c,l,h;return Object(r.d)(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.Qn(t)];case 2:return u.db=r.sent(),e=Zo.open(u.db,t,s?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),Go.reject(t)})).xn(),c={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(c.value=(r.sent(),a),c)];case 4:return lr("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&o<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wo=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return Jo(this.zn.delete())},t}(),Ko=function(t){function e(e,n){var r=this;return(r=t.call(this,or.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.c)(e,t),e}(ar);function Qo(t){return"IndexedDbTransactionError"===t.name}var Zo=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new zo,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new Ko(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=ta(e.target.error);n.Zn.reject(new Ko(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ko(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(lr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yo(e)},t}(),Yo=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(lr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(lr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Jo(n)},t.prototype.add=function(t){return lr("SimpleDb","ADD",this.store.name,t,t),Jo(this.store.add(t))},t.prototype.get=function(t){var e=this;return Jo(this.store.get(t)).next((function(n){return void 0===n&&(n=null),lr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return lr("SimpleDb","DELETE",this.store.name,t),Jo(this.store.delete(t))},t.prototype.count=function(){return lr("SimpleDb","COUNT",this.store.name),Jo(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){lr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new Go((function(n,r){e.onerror=function(t){var e=ta(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new Go((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Wo(i),o=e(i.primaryKey,i.value,s);if(o instanceof Go){var a=o.catch((function(t){return s.done(),Go.reject(t)}));n.push(a)}s.Sn?r():null===s.Jn?i.continue():i.continue(s.Jn)}else r()}})).next((function(){return Go.On(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Jo(t){return new Go((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ta(t.target.error);n(e)}}))}var Xo=!1;function ta(t){var e=$o.$n(Object(o.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ar("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xo||(Xo=!0,setTimeout((function(){throw r}),0)),r}}return t}function ea(){return"undefined"!=typeof window?window:null}function na(){return"undefined"!=typeof document?document:null}var ra=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new zo,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new ar(or.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),ia=function(){function t(){var t=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.ys=new Ho(this,"async_queue_retry"),this.Vs=function(){var e=na();e&&lr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ys.Vn()};var e=na();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=na();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Ts.push(t),e.Ns()}))},t.prototype.Ns=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(0===this.Ts.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return n.sent(),this.Ts.shift(),this.ys.reset(),[3,4];case 3:if(!Qo(t=n.sent()))throw t;return lr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Ts.length>0&&this.ys.Pn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Es.then((function(){return e.Ps=!0,t().catch((function(t){throw e.Rs=t,e.Ps=!1,hr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.Ps=!1,t}))}));return this.Es=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.gs.indexOf(t)>-1&&(e=0);var i=ra._s(this,t,e,n,(function(t){return r.xs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&pr()},t.prototype.Fs=function(){},t.prototype.Os=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Es];case 1:e.sent(),e.label=2;case 2:if(t!==this.Es)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.Os().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.Os()}))},t.prototype.$s=function(t){this.gs.push(t)},t.prototype.xs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function sa(t,e){if(hr("AsyncQueue",e+": "+t),Qo(t))return new ar(or.UNAVAILABLE,e+": "+t);throw t}var oa=function(){this.Ls=void 0,this.listeners=[]},aa=function(){this.Bs=new Nr((function(t){return So(t)}),Eo),this.onlineState="Unknown",this.qs=new Set};function ua(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(n=gr(t),s=!1,(o=n.Bs.get(i=e.query))||(s=!0,o=new oa),!s)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=o,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return u=r.sent(),c=sa(u,"Initialization of query '"+Io(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.Bs.set(i,o),o.listeners.push(e),e.Ks(n.onlineState),o.Ls&&e.Qs(o.Ls)&&fa(n),[2]}}))}))}function ca(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a;return Object(r.d)(this,(function(r){return n=gr(t),s=!1,(o=n.Bs.get(i=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.Bs.delete(i),n.Ws(i))]:[2]}))}))}function la(t,e){for(var n=gr(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.Bs.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(o)&&(r=!0);a.Ls=o}}r&&fa(n)}function ha(t,e,n){var r=gr(t),i=r.Bs.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.Bs.delete(e)}function fa(t){t.qs.forEach((function(t){t.next()}))}var da=function(){function t(t,e,n){this.query=t,this.js=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yi(t.query,t.docs,t.Kt,e,t.Qt,t.fromCache,t.Wt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.js.next(t),s=!0):this.Ys(t,this.onlineState)&&(this.Js(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.js.error(t)},t.prototype.Ks=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.P()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.Wt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=yi.Gt(t.query,t.docs,t.Qt,t.fromCache),this.Gs=!0,this.js.next(t)},t}(),pa=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();pa.UNAUTHENTICATED=new pa(null),pa.ei=new pa("google-credentials-uid"),pa.ni=new pa("first-party-uid");var ma=function(t,e){this.user=e,this.type="OAuth",this.si={},this.si.Authorization="Bearer "+t},ga=function(){function t(){this.ii=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ri=function(){},t.prototype.oi=function(t){this.ii=t,t(pa.UNAUTHENTICATED)},t.prototype.ai=function(){this.ii=null},t}(),ya=function(){function t(t){var e=this;this.ci=null,this.currentUser=pa.UNAUTHENTICATED,this.ui=!1,this.hi=0,this.ii=null,this.forceRefresh=!1,this.ci=function(){e.hi++,e.currentUser=e.li(),e.ui=!0,e.ii&&e.ii(e.currentUser)},this.hi=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.ci):(this.ci(null),t.get().then((function(t){e.auth=t,e.ci&&e.auth.addAuthTokenListener(e.ci)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.hi,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.hi!==e?(lr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(mr("string"==typeof n.accessToken),new ma(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.ri=function(){this.forceRefresh=!0},t.prototype.oi=function(t){this.ii=t,this.ui&&t(this.currentUser)},t.prototype.ai=function(){this.auth&&this.auth.removeAuthTokenListener(this.ci),this.ci=null,this.ii=null},t.prototype.li=function(){var t=this.auth&&this.auth.getUid();return mr(null===t||"string"==typeof t),new pa(t)},t}(),va=function(){function t(t,e){this._i=t,this.fi=e,this.type="FirstParty",this.user=pa.ni}return Object.defineProperty(t.prototype,"si",{get:function(){var t={"X-Goog-AuthUser":this.fi},e=this._i.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ba=function(){function t(t,e){this._i=t,this.fi=e}return t.prototype.getToken=function(){return Promise.resolve(new va(this._i,this.fi))},t.prototype.oi=function(t){t(pa.ni)},t.prototype.ai=function(){},t.prototype.ri=function(){},t}(),wa=function(){function t(t,e,n,r){this.batchId=t,this.di=e,this.baseMutations=n,this.mutations=r}return t.prototype.wi=function(t,e,n){for(var r=n.Ei,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Bs(s,e,r[i]))}return e},t.prototype.Ti=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=zs(i,e,e,this.di))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=zs(u,e,s,this.di))}return e},t.prototype.Ii=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Ti(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),fi())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wr(this.mutations,t.mutations,(function(t,e){return Gs(t,e)}))&&wr(this.baseMutations,t.baseMutations,(function(t,e){return Gs(t,e)}))},t}(),_a=function(){function t(t,e,n,r){this.batch=t,this.mi=e,this.Ei=n,this.Ai=r}return t.from=function(e,n,r){mr(e.mutations.length===r.length);for(var i=li,s=e.mutations,o=0;o<s.length;o++)i=i.ot(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ea=function(){function t(){this.Ri=new Nr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Pi=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.gi},set:function(t){this.gi=t},enumerable:!1,configurable:!0}),t.prototype.yi=function(t,e){this.Vi(),this.readTime=e,this.Ri.set(t.key,t)},t.prototype.pi=function(t,e){this.Vi(),e&&(this.readTime=e),this.Ri.set(t,null)},t.prototype.bi=function(t,e){this.Vi();var n=this.Ri.get(e);return void 0!==n?Go.resolve(n):this.vi(t,e)},t.prototype.getEntries=function(t,e){return this.Si(t,e)},t.prototype.apply=function(t){return this.Vi(),this.Pi=!0,this.Di(t)},t.prototype.Vi=function(){},t}(),Sa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ia=function(){function t(){this.Ci=[]}return t.prototype.Ni=function(t){this.Ci.push(t)},t.prototype.xi=function(){this.Ci.forEach((function(t){return t()}))},t}(),Ca=function(){function t(t,e,n){this.Fi=t,this.Oi=e,this.ki=n}return t.prototype.Mi=function(t,e){var n=this;return this.Oi.$i(t,e).next((function(r){return n.Li(t,e,r)}))},t.prototype.Li=function(t,e,n){return this.Fi.bi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ti(e,t);return t}))},t.prototype.Bi=function(t,e,n){var r=ai();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ti(t,e);r=r.ot(t,e)})),r},t.prototype.qi=function(t,e){var n=this;return this.Fi.getEntries(t,e).next((function(e){return n.Ui(t,e)}))},t.prototype.Ui=function(t,e){var n=this;return this.Oi.Ki(t,e).next((function(r){var i=n.Bi(t,e,r),s=oi();return i.forEach((function(t,e){e||(e=new oo(t,Rr.min())),s=s.ot(t,e)})),s}))},t.prototype.Qi=function(t,e,n){return function(t){return Mr.X(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Wi(t,e.path):go(e)?this.ji(t,e,n):this.Gi(t,e,n)},t.prototype.Wi=function(t,e){return this.Mi(t,new Mr(e)).next((function(t){var e=ci();return t instanceof so&&(e=e.ot(t.key,t)),e}))},t.prototype.ji=function(t,e,n){var r=this,i=e.collectionGroup,s=ci();return this.ki.zi(t,i).next((function(o){return Go.forEach(o,(function(o){var a=function(t,e){return new uo(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(i));return r.Gi(t,a,n).next((function(t){t.forEach((function(t,e){s=s.ot(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Gi=function(t,e,n){var r,i,s=this;return this.Fi.Qi(t,e,n).next((function(n){return r=n,s.Oi.Hi(t,e)})).next((function(e){return s.Yi(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=zs(u,l,l,s.di);r=h instanceof so?r.ot(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Co(e,n)||(r=r.remove(t))})),r}))},t.prototype.Yi=function(t,e,n){for(var r=fi(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Ks&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Fi.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof so&&(c=c.ot(t,e))})),c}))},t}(),Aa=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Ji=n,this.Xi=r}return t.Zi=function(e,n){for(var r=fi(),i=fi(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ta=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.tr=function(t){return n.er(t)},this.nr=function(t){return e.sr(t)})}return t.prototype.er=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.nr&&this.nr(t),t},t}();function Oa(t,e){var n=t[1],r=e[1],i=br(t[0],e[0]);return 0===i?br(n,r):i}Ta.ir=-1;var xa=function(){function t(t){this.rr=t,this.buffer=new ri(Oa),this.ar=0}return t.prototype.cr=function(){return++this.ar},t.prototype.ur=function(t){var e=[t,this.cr()];if(this.buffer.size<this.rr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Oa(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ka={hr:!1,lr:0,_r:0,dr:0},Pa=function(){function t(t,e,n){this.wr=t,this.Er=e,this.Tr=n}return t.Ir=function(e){return new t(e,t.mr,t.Ar)},t}();Pa.mr=10,Pa.Ar=1e3,Pa.Rr=new Pa(41943040,Pa.mr,Pa.Ar),Pa.Pr=new Pa(-1,0,0);var Na=function(){function t(t,e){this.gr=t,this.cs=e,this.yr=!1,this.Vr=null}return t.prototype.start=function(t){-1!==this.gr.params.wr&&this.pr(t)},t.prototype.stop=function(){this.Vr&&(this.Vr.cancel(),this.Vr=null)},Object.defineProperty(t.prototype,"br",{get:function(){return null!==this.Vr},enumerable:!1,configurable:!0}),t.prototype.pr=function(t){var e=this,n=this.yr?3e5:6e4;lr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Vr=this.cs.yn("lru_garbage_collection",n,(function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:this.Vr=null,this.yr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.vr(this.gr)];case 2:return n.sent(),[3,7];case 3:return Qo(e=n.sent())?(lr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ju(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.pr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Da=function(){function t(t,e){this.Sr=t,this.params=e}return t.prototype.Dr=function(t,e){return this.Sr.Cr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Nr=function(t,e){var n=this;if(0===e)return Go.resolve(Ta.ir);var r=new xa(e);return this.Sr.Ce(t,(function(t){return r.ur(t.sequenceNumber)})).next((function(){return n.Sr.Fr(t,(function(t){return r.ur(t)}))})).next((function(){return r.maxValue}))},t.prototype.Or=function(t,e,n){return this.Sr.Or(t,e,n)},t.prototype.kr=function(t,e){return this.Sr.kr(t,e)},t.prototype.Mr=function(t,e){var n=this;return-1===this.params.wr?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),Go.resolve(ka)):this.$r(t).next((function(r){return r<n.params.wr?(lr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.wr),ka):n.Lr(t,e)}))},t.prototype.$r=function(t){return this.Sr.$r(t)},t.prototype.Lr=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.Dr(t,this.params.Er).next((function(e){return e>l.params.Tr?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Tr+" from "+e),r=l.params.Tr):r=e,o=Date.now(),l.Nr(t,r)})).next((function(r){return n=r,a=Date.now(),l.Or(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.kr(t,n)})).next((function(t){return c=Date.now(),cr()<=s.a.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),Go.resolve({hr:!0,lr:r,_r:i,dr:t})}))},t}();function Ra(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Fa(e)),e=ja(t.get(n),e);return Fa(e)}function ja(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Fa(t){return t+"\x01\x01"}function La(t){var e=t.length;if(mr(e>=2),2===e)return mr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Fr.U();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&pr(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:pr()}s=o+2}return new Fr(r)}var Va=function(t){this.Br=t};function Ma(t,e){if(e.document)return function(t,e,n){var r=is(t,e.name),i=ts(e.updateTime),s=new eo({mapValue:{fields:e.fields}});return new so(r,i,s,{hasCommittedMutations:!!n})}(t.Br,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Mr.Z(e.noDocument.path),r=Ha(e.noDocument.readTime);return new oo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Mr.Z(e.unknownDocument.path),s=Ha(e.unknownDocument.version);return new ao(i,s)}return pr()}function Ua(t,e,n){var r=qa(n),i=e.key.path.F().L();if(e instanceof so){var s=function(t,e){return{name:rs(t,e.key),fields:e.rn().mapValue.fields,updateTime:Yi(t,e.version.v())}}(t.Br,e);return new gu(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof oo){var o=e.key.path.L(),a=za(e.version),u=e.hasCommittedMutations;return new gu(null,new pu(o,a),null,u,r,i)}if(e instanceof ao){var c=e.key.path.L(),l=za(e.version);return new gu(new mu(c,l),null,null,!0,r,i)}return pr()}function qa(t){var e=t.v();return[e.seconds,e.nanoseconds]}function Ba(t){var e=new Dr(t[0],t[1]);return Rr.V(e)}function za(t){var e=t.v();return new cu(e.seconds,e.nanoseconds)}function Ha(t){var e=new Dr(t.seconds,t.nanoseconds);return Rr.V(e)}function Ga(t,e){var n=(e.baseMutations||[]).map((function(e){return hs(t.Br,e)})),r=e.mutations.map((function(e){return hs(t.Br,e)})),i=Dr.fromMillis(e.localWriteTimeMs);return new wa(e.batchId,i,n,r)}function $a(t){var e,n,r=Ha(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ha(t.lastLimboFreeSnapshotVersion):Rr.min();return void 0!==t.query.documents?(mr(1===(n=t.query).documents.length),e=vo(lo(os(n.documents[0])))):e=function(t){var e=os(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mr(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[_s(e)]:void 0!==e.fieldFilter?[ws(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):pr():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Uo(bs(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ur(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ms(n.startAt));var l=null;return n.endAt&&(l=ms(n.endAt)),vo(co(e,i,a,o,u,"F",c,l))}(t.query),new Zr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Er.fromBase64String(t.resumeToken))}function Wa(t,e){var n,r=za(e.nt),i=za(e.lastLimboFreeSnapshotVersion);n=Wr(e.target)?fs(t.Br,e.target):ds(t.Br,e.target);var s=e.resumeToken.toBase64();return new vu(e.targetId,Gr(e.target),r,s,e.sequenceNumber,i,n)}var Ka=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.ki=n,this.qr=r,this.Ur={}}return t.Kr=function(e,n,r,i){return mr(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.Qr=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ya(t).rs({index:fu.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Wr=function(t,e,n,r){var i=this,s=Ja(t),o=Ya(t);return o.add({}).next((function(a){mr("number"==typeof a);for(var u=new wa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return ls(t.Br,e)})),i=n.mutations.map((function(e){return ls(t.Br,e)}));return new fu(e,n.batchId,n.di.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new ri((function(t,e){return br(t.B(),e.B())})),f=0,d=r;f<d.length;f++){var p=d[f],m=du.key(i.userId,p.key.path,a);h=h.add(p.key.path.F()),l.push(o.put(c)),l.push(s.put(m,du.PLACEHOLDER))}return h.forEach((function(e){l.push(i.ki.jr(t,e))})),t.Ni((function(){i.Ur[a]=u.keys()})),Go.On(l).next((function(){return u}))}))},t.prototype.Gr=function(t,e){var n=this;return Ya(t).get(e).next((function(t){return t?(mr(t.userId===n.userId),Ga(n.serializer,t)):null}))},t.prototype.zr=function(t,e){var n=this;return this.Ur[e]?Go.resolve(this.Ur[e]):this.Gr(t,e).next((function(t){if(t){var r=t.keys();return n.Ur[e]=r,r}return null}))},t.prototype.Hr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ya(t).rs({index:fu.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(mr(e.batchId>=r),s=Ga(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Yr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ya(t).rs({index:fu.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Jr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ya(t).ts(fu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Ga(e.serializer,t)}))}))},t.prototype.$i=function(t,e){var n=this,r=du.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ja(t).rs({range:i},(function(r,i,o){var a=r[0],u=r[2],c=La(r[1]);if(a===n.userId&&e.path.isEqual(c))return Ya(t).get(u).next((function(t){if(!t)throw pr();mr(t.userId===n.userId),s.push(Ga(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.Ki=function(t,e){var n=this,r=new ri(br),i=[];return e.forEach((function(e){var s=du.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ja(t).rs({range:o},(function(t,i,s){var o=t[0],a=t[2],u=La(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Go.On(i).next((function(){return n.Xr(t,r)}))},t.prototype.Hi=function(t,e){var n=this,r=e.path,i=r.length+1,s=du.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ri(br);return Ja(t).rs({range:o},(function(t,e,s){var o=t[0],u=t[2],c=La(t[1]);o===n.userId&&r.M(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Xr(t,a)}))},t.prototype.Xr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Ya(t).get(e).next((function(t){if(null===t)throw pr();mr(t.userId===n.userId),r.push(Ga(n.serializer,t))})))})),Go.On(i).next((function(){return r}))},t.prototype.Zr=function(t,e){var n=this;return Za(t.eo,this.userId,e).next((function(r){return t.Ni((function(){n.no(e.batchId)})),Go.forEach(r,(function(e){return n.qr.so(t,e)}))}))},t.prototype.no=function(t){delete this.Ur[t]},t.prototype.io=function(t){var e=this;return this.Qr(t).next((function(n){if(!n)return Go.resolve();var r=IDBKeyRange.lowerBound(du.prefixForUser(e.userId)),i=[];return Ja(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=La(t[1]);i.push(s)}else r.done()})).next((function(){mr(0===i.length)}))}))},t.prototype.ro=function(t,e){return Qa(t,this.userId,e)},t.prototype.oo=function(t){var e=this;return Xa(t).get(this.userId).next((function(t){return t||new hu(e.userId,-1,"")}))},t}();function Qa(t,e,n){var r=du.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ja(t).rs({range:s,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Za(t,e,n){var r=t.store(fu.store),i=t.store(du.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){mr(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=du.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Go.On(s).next((function(){return c}))}function Ya(t){return Ru.Kn(t,fu.store)}function Ja(t){return Ru.Kn(t,du.store)}function Xa(t){return Ru.Kn(t,hu.store)}var tu=function(){function t(t,e){this.serializer=t,this.ki=e}return t.prototype.yi=function(t,e,n){return ru(t).put(iu(e),n)},t.prototype.pi=function(t,e){var n=ru(t),r=iu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.ao(t,r)}))},t.prototype.bi=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){return n.co(t)}))},t.prototype.uo=function(t,e){var n=this;return ru(t).get(iu(e)).next((function(t){var e=n.co(t);return e?{ho:e,size:su(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=ai();return this.lo(t,e,(function(t,e){var i=n.co(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype._o=function(t,e){var n=this,r=ai(),i=new ti(Mr.D);return this.lo(t,e,(function(t,e){var s=n.co(e);s?(r=r.ot(t,s),i=i.ot(t,su(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{fo:r,do:i}}))},t.prototype.lo=function(t,e,n){if(e.P())return Go.resolve();var r=IDBKeyRange.bound(e.first().path.L(),e.last().path.L()),i=e._t(),s=i.It();return ru(t).rs({range:r},(function(t,e,r){for(var o=Mr.Z(t);s&&Mr.D(s,o)<0;)n(s,null),s=i.It();s&&s.isEqual(o)&&(n(s,e),s=i.At()?i.It():null),s?r.Xn(s.path.L()):r.done()})).next((function(){for(;s;)n(s,null),s=i.At()?i.It():null}))},t.prototype.Qi=function(t,e,n){var r=this,i=ci(),s=e.path.length+1,o={};if(n.isEqual(Rr.min())){var a=e.path.L();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.L(),c=qa(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=gu.collectionReadTimeIndex}return ru(t).rs(o,(function(t,n,o){if(t.length===s){var a=Ma(r.serializer,n);e.path.M(a.key.path)?a instanceof so&&Co(e,a)&&(i=i.ot(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.wo=function(t){return new eu(this,!!t&&t.Eo)},t.prototype.To=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return nu(t).get(yu.key).next((function(t){return mr(!!t),t}))},t.prototype.ao=function(t,e){return nu(t).put(yu.key,e)},t.prototype.co=function(t){if(t){var e=Ma(this.serializer,t);return e instanceof oo&&e.version.isEqual(Rr.min())?null:e}return null},t}(),eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Io=e,r.Eo=n,r.mo=new Nr((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(r.c)(e,t),e.prototype.Di=function(t){var e=this,n=[],r=0,i=new ri((function(t,e){return br(t.B(),e.B())}));return this.Ri.forEach((function(s,o){var a=e.mo.get(s);if(o){var u=Ua(e.Io.serializer,o,e.readTime);i=i.add(s.path.F());var c=su(u);r+=c-a,n.push(e.Io.yi(t,s,u))}else if(r-=a,e.Eo){var l=Ua(e.Io.serializer,new oo(s,Rr.min()),e.readTime);n.push(e.Io.yi(t,s,l))}else n.push(e.Io.pi(t,s))})),i.forEach((function(r){n.push(e.Io.ki.jr(t,r))})),n.push(this.Io.updateMetadata(t,r)),Go.On(n)},e.prototype.vi=function(t,e){var n=this;return this.Io.uo(t,e).next((function(t){return null===t?(n.mo.set(e,0),null):(n.mo.set(e,t.size),t.ho)}))},e.prototype.Si=function(t,e){var n=this;return this.Io._o(t,e).next((function(t){var e=t.fo;return t.do.forEach((function(t,e){n.mo.set(t,e)})),e}))},e}(Ea);function nu(t){return Ru.Kn(t,yu.store)}function ru(t){return Ru.Kn(t,gu.store)}function iu(t){return t.path.L()}function su(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pr();e=t.noDocument}return JSON.stringify(e).length}var ou=function(){function t(){this.Ao=new au}return t.prototype.jr=function(t,e){return this.Ao.add(e),Go.resolve()},t.prototype.zi=function(t,e){return Go.resolve(this.Ao.getEntries(e))},t}(),au=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.k(),n=t.F(),r=this.index[e]||new ri(Fr.D),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.k(),n=t.F(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ri(Fr.D)).L()},t}(),uu=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;mr(n<r&&n>=0&&r<=10);var s=new Zo("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(lu.store)}(t),function(t){t.createObjectStore(hu.store,{keyPath:hu.keyPath}),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(du.store)}(t),Eu(t),function(t){t.createObjectStore(gu.store)}(t));var o=Go.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bu.store),t.deleteObjectStore(vu.store),t.deleteObjectStore(wu.store)}(t),Eu(t)),o=o.next((function(){return function(t){var e=t.store(wu.store),n=new wu(0,0,Rr.min().v(),0);return e.put(wu.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(fu.store).ts().next((function(n){t.deleteObjectStore(fu.store),t.createObjectStore(fu.store,{keyPath:fu.keyPath,autoIncrement:!0}).createIndex(fu.userMutationsIndex,fu.userMutationsKeyPath,{unique:!0});var r=e.store(fu.store),i=n.map((function(t){return r.put(t)}));return Go.On(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Su.store,{keyPath:Su.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(yu.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(gu.store);e.createIndex(gu.readTimeIndex,gu.readTimeIndexPath,{unique:!1}),e.createIndex(gu.collectionReadTimeIndex,gu.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(gu.store).rs((function(t,n){e+=su(n)})).next((function(){var n=new yu(e);return t.store(yu.store).put(yu.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(hu.store),r=t.store(fu.store);return n.ts().next((function(n){return Go.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(fu.userMutationsIndex,i).next((function(r){return Go.forEach(r,(function(r){mr(r.userId===n.userId);var i=Ga(e.serializer,r);return Za(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(bu.store),n=t.store(gu.store);return t.store(wu.store).get(wu.key).next((function(t){var r=[];return n.rs((function(n,i){var s=new Fr(n),o=function(t){return[0,Ra(t)]}(s);r.push(e.get(o).next((function(n){return n?Go.resolve():function(n){return e.put(new bu(0,Ra(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Go.On(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(_u.store,{keyPath:_u.keyPath});var n=e.store(_u.store),r=new au,i=function(t){if(r.add(t)){var e=t.k(),i=t.F();return n.put({collectionId:e,parent:Ra(i)})}};return e.store(gu.store).rs({ss:!0},(function(t,e){var n=new Fr(t);return i(n.F())})).next((function(){return e.store(du.store).rs({ss:!0},(function(t,e){var n=La(t[1]);return i(n.F())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(vu.store);return n.rs((function(t,r){var i=$a(r),s=Wa(e.serializer,i);return n.put(s)}))},t}(),cu=function(t,e){this.seconds=t,this.nanoseconds=e},lu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};lu.store="owner",lu.key="owner";var hu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hu.store="mutationQueues",hu.keyPath="userId";var fu=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};fu.store="mutations",fu.keyPath="batchId",fu.userMutationsIndex="userMutationsIndex",fu.userMutationsKeyPath=["userId","batchId"];var du=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ra(e)]},t.key=function(t,e,n){return[t,Ra(e),n]},t}();du.store="documentMutations",du.PLACEHOLDER=new du;var pu=function(t,e){this.path=t,this.readTime=e},mu=function(t,e){this.path=t,this.version=e},gu=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};gu.store="remoteDocuments",gu.readTimeIndex="readTimeIndex",gu.readTimeIndexPath="readTime",gu.collectionReadTimeIndex="collectionReadTimeIndex",gu.collectionReadTimeIndexPath=["parentPath","readTime"];var yu=function(t){this.byteSize=t};yu.store="remoteDocumentGlobal",yu.key="remoteDocumentGlobalKey";var vu=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};vu.store="targets",vu.keyPath="targetId",vu.queryTargetsIndexName="queryTargetsIndex",vu.queryTargetsKeyPath=["canonicalId","targetId"];var bu=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bu.store="targetDocuments",bu.keyPath=["targetId","path"],bu.documentTargetsIndex="documentTargetsIndex",bu.documentTargetsKeyPath=["path","targetId"];var wu=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wu.key="targetGlobalKey",wu.store="targetGlobal";var _u=function(t,e){this.collectionId=t,this.parent=e};function Eu(t){t.createObjectStore(bu.store,{keyPath:bu.keyPath}).createIndex(bu.documentTargetsIndex,bu.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vu.store,{keyPath:vu.keyPath}).createIndex(vu.queryTargetsIndexName,vu.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wu.store)}_u.store="collectionParents",_u.keyPath=["collectionId","parent"];var Su=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Su.store="clientMetadata",Su.keyPath="clientId";var Iu=Object(r.g)(Object(r.g)(Object(r.g)([hu.store,fu.store,du.store,gu.store,vu.store,lu.store,wu.store,bu.store],[Su.store]),[yu.store]),[_u.store]),Cu=function(){function t(){this.Ro=new au}return t.prototype.jr=function(t,e){var n=this;if(!this.Ro.has(e)){var r=e.k(),i=e.F();t.Ni((function(){n.Ro.add(e)}));var s={collectionId:r,parent:Ra(i)};return Au(t).put(s)}return Go.resolve()},t.prototype.zi=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_r(e),""],!1,!0);return Au(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(La(s.parent))}return n}))},t}();function Au(t){return Ru.Kn(t,_u.store)}var Tu=function(){function t(t){this.Po=t}return t.prototype.next=function(){return this.Po+=2,this.Po},t.yo=function(){return new t(0)},t.Vo=function(){return new t(-1)},t}(),Ou=function(){function t(t,e){this.qr=t,this.serializer=e}return t.prototype.po=function(t){var e=this;return this.bo(t).next((function(n){var r=new Tu(n.highestTargetId);return n.highestTargetId=r.next(),e.vo(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.So=function(t){return this.bo(t).next((function(t){return Rr.V(new Dr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Do=function(t){return this.bo(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Co=function(t,e,n){var r=this;return this.bo(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.v()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.vo(t,i)}))},t.prototype.No=function(t,e){var n=this;return this.xo(t,e).next((function(){return n.bo(t).next((function(r){return r.targetCount+=1,n.Fo(e,r),n.vo(t,r)}))}))},t.prototype.Oo=function(t,e){return this.xo(t,e)},t.prototype.ko=function(t,e){var n=this;return this.Mo(t,e.targetId).next((function(){return xu(t).delete(e.targetId)})).next((function(){return n.bo(t)})).next((function(e){return mr(e.targetCount>0),e.targetCount-=1,n.vo(t,e)}))},t.prototype.Or=function(t,e,n){var r=this,i=0,s=[];return xu(t).rs((function(o,a){var u=$a(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.ko(t,u)))})).next((function(){return Go.On(s)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return xu(t).rs((function(t,n){var r=$a(n);e(r)}))},t.prototype.bo=function(t){return ku(t).get(wu.key).next((function(t){return mr(null!==t),t}))},t.prototype.vo=function(t,e){return ku(t).put(wu.key,e)},t.prototype.xo=function(t,e){return xu(t).put(Wa(this.serializer,e))},t.prototype.Fo=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.$o=function(t){return this.bo(t).next((function(t){return t.targetCount}))},t.prototype.Lo=function(t,e){var n=Gr(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xu(t).rs({range:r,index:vu.queryTargetsIndexName},(function(t,n,r){var s=$a(n);$r(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Bo=function(t,e,n){var r=this,i=[],s=Pu(t);return e.forEach((function(e){var o=Ra(e.path);i.push(s.put(new bu(n,o))),i.push(r.qr.qo(t,n,e))})),Go.On(i)},t.prototype.Uo=function(t,e,n){var r=this,i=Pu(t);return Go.forEach(e,(function(e){var s=Ra(e.path);return Go.On([i.delete([n,s]),r.qr.Ko(t,n,e)])}))},t.prototype.Mo=function(t,e){var n=Pu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Qo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pu(t),i=fi();return r.rs({range:n,ss:!0},(function(t,e,n){var r=La(t[1]),s=new Mr(r);i=i.add(s)})).next((function(){return i}))},t.prototype.ro=function(t,e){var n=Ra(e.path),r=IDBKeyRange.bound([n],[_r(n)],!1,!0),i=0;return Pu(t).rs({index:bu.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return xu(t).get(e).next((function(t){return t?$a(t):null}))},t}();function xu(t){return Ru.Kn(t,vu.store)}function ku(t){return Ru.Kn(t,wu.store)}function Pu(t){return Ru.Kn(t,bu.store)}var Nu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Du=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).eo=e,r.Wo=n,r}return Object(r.c)(e,t),e}(Ia),Ru=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=s,this.window=o,this.document=a,this.jo=c,this.Go=l,this.zo=null,this.Ho=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Yo=null,this.inForeground=!1,this.Jo=null,this.Xo=null,this.Zo=Number.NEGATIVE_INFINITY,this.ta=function(t){return Promise.resolve()},!t.Ln())throw new ar(or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.qr=new Lu(this,i),this.ea=n+"main",this.serializer=new Va(u),this.na=new $o(this.ea,10,new uu(this.serializer)),this.sa=new Ou(this.qr,this.serializer),this.ki=new Cu,this.Fi=function(t,e){return new tu(t,e)}(this.serializer,this.ki),this.window&&this.window.localStorage?this.ia=this.window.localStorage:(this.ia=null,!1===l&&hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(t,e){if(t instanceof Du)return $o.Kn(t.eo,e);throw pr()},t.prototype.start=function(){var t=this;return this.ra().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ar(or.FAILED_PRECONDITION,Nu);return t.oa(),t.aa(),t.ca(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.sa.Do(e)}))})).then((function(e){t.zo=new Ta(e,t.jo)})).then((function(){t.Ho=!0})).catch((function(e){return t.na&&t.na.close(),Promise.reject(e)}))},t.prototype.ua=function(t){var e=this;return this.ta=function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return this.br?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ha=function(t){var e=this;this.na.jn((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.la=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.br?[4,this.ra()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.ra=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Fu(e).put(new Su(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t._a(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.ta(!1)})))}))})).next((function(){return t.fa(e)})).next((function(n){return t.isPrimary&&!n?t.da(e).next((function(){return!1})):!!n&&t.wa(e).next((function(){return!0}))}))})).catch((function(e){if(Qo(e))return lr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return lr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.ta(e)})),t.isPrimary=e}))},t.prototype._a=function(t){var e=this;return ju(t).get(lu.key).next((function(t){return Go.resolve(e.Ea(t))}))},t.prototype.Ta=function(t){return Fu(t).delete(this.clientId)},t.prototype.Ia=function(){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,s=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.ma(this.Zo,18e5)?[3,2]:(this.Zo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Kn(e,Su.store);return n.ts().next((function(t){var e=s.Aa(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Go.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.ia)for(n=0,i=e;n<i.length;n++)this.ia.removeItem(this.Ra(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ca=function(){var t=this;this.Xo=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.ra().then((function(){return t.Ia()})).then((function(){return t.ca()}))}))},t.prototype.Ea=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.fa=function(t){var e=this;return this.Go?Go.resolve(!0):ju(t).get(lu.key).next((function(n){if(null!==n&&e.ma(n.leaseTimestampMs,5e3)&&!e.Pa(n.ownerId)){if(e.Ea(n)&&e.networkEnabled)return!0;if(!e.Ea(n)){if(!n.allowTabSynchronization)throw new ar(or.FAILED_PRECONDITION,Nu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fu(t).ts().next((function(t){return void 0===e.Aa(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&lr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ga=function(){return Object(r.b)(this,void 0,void 0,(function(){var t=this;return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Ho=!1,this.ya(),this.Xo&&(this.Xo.cancel(),this.Xo=null),this.Va(),this.pa(),[4,this.na.runTransaction("shutdown","readwrite",[lu.store,Su.store],(function(e){var n=new Du(e,Ta.ir);return t.da(n).next((function(){return t.Ta(n)}))}))];case 1:return e.sent(),this.na.close(),this.ba(),[2]}}))}))},t.prototype.Aa=function(t,e){var n=this;return t.filter((function(t){return n.ma(t.updateTimeMs,e)&&!n.Pa(t.clientId)}))},t.prototype.va=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Fu(e).ts().next((function(e){return t.Aa(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.Sa=function(t){return Ka.Kr(t,this.serializer,this.ki,this.qr)},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.Na=function(){return this.ki},t.prototype.runTransaction=function(t,e,n){var r,i=this;return lr("IndexedDbPersistence","Starting transaction:",t),this.na.runTransaction(t,"readonly"===e?"readonly":"readwrite",Iu,(function(s){return r=new Du(s,i.zo?i.zo.next():Ta.ir),"readwrite-primary"===e?i._a(r).next((function(t){return!!t||i.fa(r)})).next((function(e){if(!e)throw hr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.ta(!1)})),new ar(or.FAILED_PRECONDITION,Sa);return n(r)})).next((function(t){return i.wa(r).next((function(){return t}))})):i.xa(r).next((function(){return n(r)}))})).then((function(t){return r.xi(),t}))},t.prototype.xa=function(t){var e=this;return ju(t).get(lu.key).next((function(t){if(null!==t&&e.ma(t.leaseTimestampMs,5e3)&&!e.Pa(t.ownerId)&&!e.Ea(t)&&!(e.Go||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ar(or.FAILED_PRECONDITION,Nu)}))},t.prototype.wa=function(t){var e=new lu(this.clientId,this.allowTabSynchronization,Date.now());return ju(t).put(lu.key,e)},t.Ln=function(){return $o.Ln()},t.prototype.da=function(t){var e=this,n=ju(t);return n.get(lu.key).next((function(t){return e.Ea(t)?(lr("IndexedDbPersistence","Releasing primary lease."),n.delete(lu.key)):Go.resolve()}))},t.prototype.ma=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.oa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jo=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.ra()}))},this.document.addEventListener("visibilitychange",this.Jo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Va=function(){this.Jo&&(this.document.removeEventListener("visibilitychange",this.Jo),this.Jo=null)},t.prototype.aa=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Yo=function(){e.ya(),e.fn.ws((function(){return e.ga()}))},this.window.addEventListener("unload",this.Yo))},t.prototype.pa=function(){this.Yo&&(this.window.removeEventListener("unload",this.Yo),this.Yo=null)},t.prototype.Pa=function(t){var e;try{var n=null!==(null===(e=this.ia)||void 0===e?void 0:e.getItem(this.Ra(t)));return lr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.ya=function(){if(this.ia)try{this.ia.setItem(this.Ra(this.clientId),String(Date.now()))}catch(t){hr("Failed to set zombie client id.",t)}},t.prototype.ba=function(){if(this.ia)try{this.ia.removeItem(this.Ra(this.clientId))}catch(t){}},t.prototype.Ra=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ju(t){return Ru.Kn(t,lu.store)}function Fu(t){return Ru.Kn(t,Su.store)}var Lu=function(){function t(t,e){this.db=t,this.gr=new Da(this,e)}return t.prototype.Cr=function(t){var e=this.Fa(t);return this.db.Da().$o(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Fa=function(t){var e=0;return this.Fr(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Da().Ce(t,e)},t.prototype.Fr=function(t,e){return this.Oa(t,(function(t,n){return e(n)}))},t.prototype.qo=function(t,e,n){return Vu(t,n)},t.prototype.Ko=function(t,e,n){return Vu(t,n)},t.prototype.Or=function(t,e,n){return this.db.Da().Or(t,e,n)},t.prototype.so=function(t,e){return Vu(t,e)},t.prototype.ka=function(t,e){return function(t,e){var n=!1;return Xa(t).os((function(r){return Qa(t,r,e).next((function(t){return t&&(n=!0),Go.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.kr=function(t,e){var n=this,r=this.db.Ca().wo(),i=[],s=0;return this.Oa(t,(function(o,a){if(a<=e){var u=n.ka(t,o).next((function(e){if(!e)return s++,r.bi(t,o).next((function(){return r.pi(o),Pu(t).delete([0,Ra(o.path)])}))}));i.push(u)}})).next((function(){return Go.On(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.Wo);return this.db.Da().Oo(t,n)},t.prototype.Ma=function(t,e){return Vu(t,e)},t.prototype.Oa=function(t,e){var n,r=Pu(t),i=Ta.ir;return r.rs({index:bu.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ta.ir&&e(new Mr(La(n)),i),i=o,n=s):i=Ta.ir})).next((function(){i!==Ta.ir&&e(new Mr(La(n)),i)}))},t.prototype.$r=function(t){return this.db.Ca().To(t)},t}();function Vu(t,e){return Pu(t).put(function(t,e){return new bu(0,Ra(t.path),e)}(e,t.Wo))}function Mu(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Uu=function(){function t(t,e,n){this.persistence=t,this.$a=e,this.La=new ti(br),this.Ba=new Nr((function(t){return Gr(t)}),$r),this.qa=Rr.min(),this.Oi=t.Sa(n),this.Ua=t.Ca(),this.sa=t.Da(),this.Ka=new Ca(this.Ua,this.Oi,this.persistence.Na()),this.$a.Qa(this.Ka)}return t.prototype.vr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Mr(n,e.La)}))},t}();function qu(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=gr(t),i=n.Oi,s=n.Ka,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Oi.Jr(t).next((function(o){return r=o,i=n.persistence.Sa(e),s=new Ca(n.Ua,i,n.persistence.Na()),i.Jr(t)})).next((function(e){for(var n=[],i=[],o=fi(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return s.qi(t,o).next((function(t){return{Wa:t,ja:n,Ga:i}}))}))}))];case 1:return o=r.sent(),[2,(n.Oi=i,n.Ka=s,n.$a.Qa(n.Ka),o)]}}))}))}function Bu(t,e){var n=gr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ua.wo({Eo:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Go.resolve();return s.forEach((function(t){o=o.next((function(){return r.bi(e,t)})).next((function(e){var s=e,o=n.Ai.get(t);mr(null!==o),(!s||s.version.u(o)<0)&&(s=i.wi(t,s,n))&&r.yi(s,n.mi)}))})),o.next((function(){return t.Oi.Zr(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}function zu(t){var e=gr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.sa.So(t)}))}function Hu(t,e){var n=gr(t),r=e.nt,i=n.La;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Ua.wo({Eo:!0});i=n.La;var o=[];e.zt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.sa.Uo(t,e.se,s).next((function(){return n.sa.Bo(t,e.ee,s)})));var u=e.resumeToken;if(u.o()>0){var c=a.it(u,r).st(t.Wo);i=i.ot(s,c),function(t,e,n){return mr(e.resumeToken.o()>0),0===t.resumeToken.o()||e.nt.p()-t.nt.p()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,e)&&o.push(n.sa.Oo(t,c))}}}));var a=oi(),u=fi();if(e.Yt.forEach((function(t,e){u=u.add(t)})),o.push(s.getEntries(t,u).next((function(i){e.Yt.forEach((function(u,c){var l=i.get(u);c instanceof oo&&c.version.isEqual(Rr.min())?(s.pi(u,r),a=a.ot(u,c)):null==l||c.version.u(l.version)>0||0===c.version.u(l.version)&&l.hasPendingWrites?(s.yi(c,r),a=a.ot(u,c)):lr("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Jt.has(u)&&o.push(n.persistence.qr.Ma(t,u))}))}))),!r.isEqual(Rr.min())){var c=n.sa.So(t).next((function(e){return n.sa.Co(t,t.Wo,r)}));o.push(c)}return Go.On(o).next((function(){return s.apply(t)})).next((function(){return n.Ka.Ui(t,a)}))})).then((function(t){return n.La=i,t}))}function Gu(t,e){var n=gr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Oi.Hr(t,e)}))}function $u(t,e){var n=gr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.sa.Lo(t,e).next((function(i){return i?Go.resolve(r=i):n.sa.po(t).next((function(i){return r=new Zr(e,i,0,t.Wo),n.sa.No(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.La.get(t.targetId);return(null===r||t.nt.u(r.nt)>0)&&(n.La=n.La.ot(t.targetId,t),n.Ba.set(e,t.targetId)),t}))}function Wu(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=gr(t),s=i.La.get(e),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.qr.removeTarget(t,s)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!Qo(a=r.sent()))throw a;return lr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.La=i.La.remove(e),i.Ba.delete(s.target),[2]}}))}))}function Ku(t,e,n){var r=gr(t),i=Rr.min(),s=fi();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=gr(t),i=r.Ba.get(n);return void 0!==i?Go.resolve(r.La.get(i)):r.sa.Lo(e,n)}(r,t,vo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.sa.Qo(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.$a.Qi(t,e,n?i:Rr.min(),n?s:fi())})).next((function(t){return{documents:t,za:s}}))}))}function Qu(t,e){var n=gr(t),r=gr(n.sa),i=n.La.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Zu(t){var e=gr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=gr(t),i=oi(),s=qa(n),o=ru(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:gu.readTimeIndex,range:a},(function(t,e){var n=Ma(r.serializer,e);i=i.ot(n.key,n),s=e.readTime})).next((function(){return{Ha:i,readTime:Ba(s)}}))}(e.Ua,t,e.qa)})).then((function(t){var n=t.Ha;return e.qa=t.readTime,n}))}function Yu(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){return[2,(e=gr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ru(t),n=Rr.min();return e.rs({index:gu.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ba(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.qa=t}))]}))}))}function Ju(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){if(t.code!==or.FAILED_PRECONDITION||t.message!==Sa)throw t;return lr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Xu=function(){function t(t,e,n,r,i,s){this.fn=t,this.Ya=n,this.Ja=r,this.Xa=i,this.listener=s,this.state=0,this.Za=0,this.tc=null,this.stream=null,this.ys=new Ho(t,e)}return t.prototype.ec=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.nc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sc()},t.prototype.stop=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.ec()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ic=function(){this.state=0,this.ys.reset()},t.prototype.rc=function(){var t=this;this.nc()&&null===this.tc&&(this.tc=this.fn.yn(this.Ya,6e4,(function(){return t.oc()})))},t.prototype.ac=function(t){this.cc(),this.stream.send(t)},t.prototype.oc=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.nc()?[2,this.close(0)]:[2]}))}))},t.prototype.cc=function(){this.tc&&(this.tc.cancel(),this.tc=null)},t.prototype.close=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return this.cc(),this.ys.cancel(),this.Za++,3!==t?this.ys.reset():e&&e.code===or.RESOURCE_EXHAUSTED?(hr(e.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===or.UNAUTHENTICATED&&this.Xa.ri(),null!==this.stream&&(this.uc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.hc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.uc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.lc(this.Za),n=this.Za;this.Xa.getToken().then((function(e){t.Za===n&&t._c(e)}),(function(n){e((function(){var e=new ar(or.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fc(e)}))}))},t.prototype._c=function(t){var e=this,n=this.lc(this.Za);this.stream=this.dc(t),this.stream.wc((function(){n((function(){return e.state=2,e.listener.wc()}))})),this.stream.hc((function(t){n((function(){return e.fc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sc=function(){var t=this;this.state=4,this.ys.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fc=function(t){return lr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.lc=function(t){var e=this;return function(n){e.fn.ws((function(){return e.Za===t?n():(lr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),tc=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(r.c)(e,t),e.prototype.dc=function(t){return this.Ja.Ec("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Ke?(mr(void 0===e||"string"==typeof e),Er.fromBase64String(e||"")):(mr(void 0===e||e instanceof Uint8Array),Er.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?or.UNKNOWN:Xr(t.code);return new ar(e,t.message||"")}(o);n=new Ei(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=is(t,u.document.name),l=ts(u.document.updateTime),h=new eo({mapValue:{fields:u.document.fields}}),f=new so(c,l,h,{});n=new wi(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=is(t,d.document),m=d.readTime?ts(d.readTime):Rr.min(),g=new oo(p,m);n=new wi([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,v=is(t,y.document);n=new wi([],y.removedTargetIds||[],v,null)}else{if(!("filter"in e))return pr();var b=e.filter,w=new Yr(b.count||0);n=new _i(b.targetId,w)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Rr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rr.min():e.readTime?ts(e.readTime):Rr.min()}(t);return this.listener.Tc(e,n)},e.prototype.Ic=function(t){var e={};e.database=as(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Wr(r)?{documents:fs(t,r)}:{query:ds(t,r)}).targetId=e.targetId,e.resumeToken.o()>0&&(n.resumeToken=Ji(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pr()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ac(e)},e.prototype.mc=function(t){var e={};e.database=as(this.serializer),e.removeTarget=t,this.ac(e)},e}(Xu),ec=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Ac=!1,o}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"Rc",{get:function(){return this.Ac},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ac=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.uc=function(){this.Ac&&this.Pc([])},e.prototype.dc=function(t){return this.Ja.Ec("Write",t)},e.prototype.onMessage=function(t){if(mr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ac){this.ys.reset();var e=function(t,e){return t&&t.length>0?(mr(void 0!==e),t.map((function(t){return function(t,e){var n=ts(t.updateTime?t.updateTime:e);n.isEqual(Rr.min())&&(n=ts(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Vs(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ts(t.commitTime);return this.listener.gc(n,e)}return mr(!t.writeResults||0===t.writeResults.length),this.Ac=!0,this.listener.yc()},e.prototype.Vc=function(){var t={};t.database=as(this.serializer),this.ac(t)},e.prototype.Pc=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return ls(e.serializer,t)}))};this.ac(n)},e}(Xu),nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ja=n,i.serializer=r,i.bc=!1,i}return Object(r.c)(e,t),e.prototype.vc=function(){if(this.bc)throw new ar(or.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Sc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Sc(t,e,n,i)})).catch((function(t){throw t.code===or.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.Dc=function(t,e,n){var r=this;return this.vc(),this.credentials.getToken().then((function(i){return r.Ja.Dc(t,e,n,i)})).catch((function(t){throw t.code===or.UNAUTHENTICATED&&r.credentials.ri(),t}))},e.prototype.terminate=function(){this.bc=!1},e}((function(){})),rc=function(){function t(t,e){this.cs=t,this.Cc=e,this.state="Unknown",this.Nc=0,this.xc=null,this.Fc=!0}return t.prototype.Oc=function(){var t=this;0===this.Nc&&(this.kc("Unknown"),this.xc=this.cs.yn("online_state_timeout",1e4,(function(){return t.xc=null,t.Mc("Backend didn't respond within 10 seconds."),t.kc("Offline"),Promise.resolve()})))},t.prototype.$c=function(t){"Online"===this.state?this.kc("Unknown"):(this.Nc++,this.Nc>=1&&(this.Lc(),this.Mc("Connection failed 1 times. Most recent error: "+t.toString()),this.kc("Offline")))},t.prototype.set=function(t){this.Lc(),this.Nc=0,"Online"===t&&(this.Fc=!1),this.kc(t)},t.prototype.kc=function(t){t!==this.state&&(this.state=t,this.Cc(t))},t.prototype.Mc=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fc?(hr(e),this.Fc=!1):lr("OnlineStateTracker",e)},t.prototype.Lc=function(){null!==this.xc&&(this.xc.cancel(),this.xc=null)},t}(),ic=function(t,e,n,i,s){var o=this;this.Bc=t,this.qc=e,this.cs=n,this.Uc={},this.Kc=[],this.Qc=new Map,this.Wc=new Set,this.jc=[],this.Gc=s,this.Gc.zc((function(t){n.ws((function(){return Object(r.b)(o,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return dc(this)?(lr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=gr(t)).Wc.add(4),[4,oc(e)];case 1:return n.sent(),e.Hc.set("Unknown"),e.Wc.delete(4),[4,sc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Hc=new rc(n,i)};function sc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:if(!dc(t))return[3,4];e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function oc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.jc,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ac(t,e){var n=gr(t);n.Qc.has(e.targetId)||(n.Qc.set(e.targetId,e),fc(n)?hc(n):Oc(n).nc()&&cc(n,e))}function uc(t,e){var n=gr(t),r=Oc(n);n.Qc.delete(e),r.nc()&&lc(n,e),0===n.Qc.size&&(r.nc()?r.rc():dc(n)&&n.Hc.set("Unknown"))}function cc(t,e){t.Yc.me(e.targetId),Oc(t).Ic(e)}function lc(t,e){t.Yc.me(e),Oc(t).mc(e)}function hc(t){t.Yc=new Ii({qe:function(e){return t.Uc.qe(e)},Ue:function(e){return t.Qc.get(e)||null}}),Oc(t).start(),t.Hc.Oc()}function fc(t){return dc(t)&&!Oc(t).ec()&&t.Qc.size>0}function dc(t){return 0===gr(t).Wc.size}function pc(t){t.Yc=void 0}function mc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.Qc.forEach((function(e,n){cc(t,e)})),[2]}))}))}function gc(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){return pc(t),fc(t)?(t.Hc.$c(e),hc(t)):t.Hc.set("Unknown"),[2]}))}))}function yc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o;return Object(r.d)(this,(function(a){switch(a.label){case 0:if(t.Hc.set("Online"),!(e instanceof Ei&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,s=e.targetIds,r.label=1;case 1:return i<s.length?t.Qc.has(o=s[i])?[4,t.Uc.Jc(o,n)]:[3,3]:[3,5];case 2:r.sent(),t.Qc.delete(o),t.Yc.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),lr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,vc(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof wi?t.Yc.be(e):e instanceof _i?t.Yc.Oe(e):t.Yc.De(e),n.isEqual(Rr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zu(t.Bc)];case 8:return s=a.sent(),n.u(s)>=0?[4,function(t,e){var n=t.Yc.$e(e);return n.zt.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Qc.get(r);i&&t.Qc.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Qc.get(e);if(n){t.Qc.set(e,n.it(Er.h,n.nt)),lc(t,e);var r=new Zr(n.target,e,1,n.sequenceNumber);cc(t,r)}})),t.Uc.Xc(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return lr("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,vc(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function vc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i=this;return Object(r.d)(this,(function(s){switch(s.label){case 0:if(!Qo(e))throw e;return t.Wc.add(1),[4,oc(t)];case 1:return s.sent(),t.Hc.set("Offline"),n||(n=function(){return zu(t.Bc)}),t.cs.Cs((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return lr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Wc.delete(1),[4,sc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function bc(t,e){return e().catch((function(n){return vc(t,n,e)}))}function wc(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i,s,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:e=gr(t),n=xc(e),i=e.Kc.length>0?e.Kc[e.Kc.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return dc(t)&&t.Kc.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Gu(e.Bc,i)];case 3:return null===(s=r.sent())?(0===e.Kc.length&&n.rc(),[3,7]):(i=s.batchId,function(t,e){t.Kc.push(e);var n=xc(t);n.nc()&&n.Rc&&n.Pc(e.mutations)}(e,s),[3,6]);case 4:return o=r.sent(),[4,vc(e,o)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return _c(e)&&Ec(e),[2]}}))}))}function _c(t){return dc(t)&&!xc(t).ec()&&t.Kc.length>0}function Ec(t){xc(t).start()}function Sc(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return xc(t).Vc(),[2]}))}))}function Ic(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n,i;return Object(r.d)(this,(function(r){for(e=xc(t),n=0,i=t.Kc;n<i.length;n++)e.Pc(i[n].mutations);return[2]}))}))}function Cc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=t.Kc.shift(),s=_a.from(i,e,n),[4,bc(t,(function(){return t.Uc.Zc(s)}))];case 1:return r.sent(),[4,wc(t)];case 2:return r.sent(),[2]}}))}))}function Ac(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return e&&xc(t).Rc?[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return Jr(i=e.code)&&i!==or.ABORTED?(n=t.Kc.shift(),xc(t).ic(),[4,bc(t,(function(){return t.Uc.tu(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,wc(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _c(t)&&Ec(t),[2]}}))}))}function Tc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=gr(t),e?(n.Wc.delete(2),[4,sc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Wc.add(2),[4,oc(n)]);case 3:r.sent(),n.Hc.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Oc(t){var e=this;return t.eu||(t.eu=function(t,e,n){var r=gr(t);return r.vc(),new tc(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:mc.bind(null,t),hc:gc.bind(null,t),Tc:yc.bind(null,t)}),t.jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.eu.ic(),fc(t)?hc(t):t.Hc.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.eu.stop()];case 2:e.sent(),pc(t),e.label=3;case 3:return[2]}}))}))}))),t.eu}function xc(t){var e=this;return t.nu||(t.nu=function(t,e,n){var r=gr(t);return r.vc(),new ec(e,r.Ja,r.credentials,r.serializer,n)}(t.qc,t.cs,{wc:Sc.bind(null,t),hc:Ac.bind(null,t),yc:Ic.bind(null,t),gc:Cc.bind(null,t)}),t.jc.push((function(n){return Object(r.b)(e,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return n?(t.nu.ic(),[4,wc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.nu.stop()];case 3:e.sent(),t.Kc.length>0&&(lr("RemoteStore","Stopping write stream with "+t.Kc.length+" pending writes"),t.Kc=[]),e.label=4;case 4:return[2]}}))}))}))),t.nu}var kc=function(){function t(){this.su=new ri(Pc.iu),this.ru=new ri(Pc.ou)}return t.prototype.P=function(){return this.su.P()},t.prototype.qo=function(t,e){var n=new Pc(t,e);this.su=this.su.add(n),this.ru=this.ru.add(n)},t.prototype.au=function(t,e){var n=this;t.forEach((function(t){return n.qo(t,e)}))},t.prototype.Ko=function(t,e){this.cu(new Pc(t,e))},t.prototype.uu=function(t,e){var n=this;t.forEach((function(t){return n.Ko(t,e)}))},t.prototype.hu=function(t){var e=this,n=new Mr(new Fr([])),r=new Pc(n,t),i=new Pc(n,t+1),s=[];return this.ru.xt([r,i],(function(t){e.cu(t),s.push(t.key)})),s},t.prototype.lu=function(){var t=this;this.su.forEach((function(e){return t.cu(e)}))},t.prototype.cu=function(t){this.su=this.su.delete(t),this.ru=this.ru.delete(t)},t.prototype._u=function(t){var e=new Mr(new Fr([])),n=new Pc(e,t),r=new Pc(e,t+1),i=fi();return this.ru.xt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ro=function(t){var e=new Pc(t,0),n=this.su.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),Pc=function(){function t(t,e){this.key=t,this.fu=e}return t.iu=function(t,e){return Mr.D(t.key,e.key)||br(t.fu,e.fu)},t.ou=function(t,e){return br(t.fu,e.fu)||Mr.D(t.key,e.key)},t}();function Nc(t,e){return"firestore_clients_"+t+"_"+e}function Dc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function Rc(t,e){return"firestore_targets_"+t+"_"+e}var jc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.du=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new ar(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(hr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Fc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new ar(r.error.code,r.error.message)),i?new t(e,r.state,s):(hr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.wu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Lc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=pi(),o=0;i&&o<r.activeTargetIds.length;++o)i=Br(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(hr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mc=function(){function t(){this.activeTargetIds=pi()}return t.prototype.Eu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Tu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.wu=function(){var t={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Uc=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this.Iu=r,this.mu=null,this.Cc=null,this.tr=null,this.Au=this.Ru.bind(this),this.Pu=new ti(br),this.br=!1,this.gu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yu=Nc(this.persistenceKey,this.Iu),this.Vu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Pu=this.Pu.ot(this.Iu,new Mc),this.pu=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.bu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.vu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Su=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Au)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,n,i,s,o,a,u,c,l,h=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,this.mu.va()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Iu&&(s=this.getItem(Nc(this.persistenceKey,i)))&&(o=Lc.du(i,s))&&(this.Pu=this.Pu.ot(o.clientId,o));for(this.Du(),(a=this.storage.getItem(this.Su))&&(u=this.Cu(a))&&this.Nu(u),c=0,l=this.gu;c<l.length;c++)this.Ru(l[c]);return this.gu=[],this.window.addEventListener("unload",(function(){return h.ga()})),this.br=!0,[2]}}))}))},t.prototype.sr=function(t){this.setItem(this.Vu,JSON.stringify(t))},t.prototype.xu=function(){return this.Fu(this.Pu)},t.prototype.Ou=function(t){var e=!1;return this.Pu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.ku=function(t){this.Mu(t,"pending")},t.prototype.$u=function(t,e,n){this.Mu(t,e,n),this.Lu(t)},t.prototype.Bu=function(t){var e="not-current";if(this.Ou(t)){var n=this.storage.getItem(Rc(this.persistenceKey,t));if(n){var r=Fc.du(t,n);r&&(e=r.state)}}return this.qu.Eu(t),this.Du(),e},t.prototype.Uu=function(t){this.qu.Tu(t),this.Du()},t.prototype.Ku=function(t){return this.qu.activeTargetIds.has(t)},t.prototype.Qu=function(t){this.removeItem(Rc(this.persistenceKey,t))},t.prototype.Wu=function(t,e,n){this.ju(t,e,n)},t.prototype.Gu=function(t,e,n){var r=this;e.forEach((function(t){r.Lu(t)})),this.currentUser=t,n.forEach((function(t){r.ku(t)}))},t.prototype.zu=function(t){this.Hu(t)},t.prototype.ga=function(){this.br&&(this.window.removeEventListener("storage",this.Au),this.removeItem(this.yu),this.br=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return lr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){lr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){lr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ru=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(lr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yu)return void hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return Object(r.b)(e,void 0,void 0,(function(){var t,e,i,s,o,a;return Object(r.d)(this,(function(r){if(this.br){if(null!==n.key)if(this.pu.test(n.key)){if(null==n.newValue)return t=this.Yu(n.key),[2,this.Ju(t,null)];if(e=this.Xu(n.key,n.newValue))return[2,this.Ju(e.clientId,e)]}else if(this.bu.test(n.key)){if(null!==n.newValue&&(i=this.Zu(n.key,n.newValue)))return[2,this.th(i)]}else if(this.vu.test(n.key)){if(null!==n.newValue&&(s=this.eh(n.key,n.newValue)))return[2,this.nh(s)]}else if(n.key===this.Su){if(null!==n.newValue&&(o=this.Cu(n.newValue)))return[2,this.Nu(o)]}else n.key===this.Vu&&(a=function(t){var e=Ta.ir;if(null!=t)try{var n=JSON.parse(t);mr("number"==typeof n),e=n}catch(t){hr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ta.ir&&this.tr(a)}else this.gu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Pu.get(this.Iu)},enumerable:!1,configurable:!0}),t.prototype.Du=function(){this.setItem(this.yu,this.qu.wu())},t.prototype.Mu=function(t,e,n){var r=new jc(this.currentUser,t,e,n),i=Dc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.wu())},t.prototype.Lu=function(t){var e=Dc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Hu=function(t){this.storage.setItem(this.Su,JSON.stringify({clientId:this.Iu,onlineState:t}))},t.prototype.ju=function(t,e,n){var r=Rc(this.persistenceKey,t),i=new Fc(t,e,n);this.setItem(r,i.wu())},t.prototype.Yu=function(t){var e=this.pu.exec(t);return e?e[1]:null},t.prototype.Xu=function(t,e){var n=this.Yu(t);return Lc.du(n,e)},t.prototype.Zu=function(t,e){var n=this.bu.exec(t),r=Number(n[1]);return jc.du(new pa(void 0!==n[2]?n[2]:null),r,e)},t.prototype.eh=function(t,e){var n=this.vu.exec(t),r=Number(n[1]);return Fc.du(r,e)},t.prototype.Cu=function(t){return Vc.du(t)},t.prototype.th=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.mu.sh(t.batchId,t.state,t.error)]:(lr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.nh=function(t){return this.mu.ih(t.targetId,t.state,t.error)},t.prototype.Ju=function(t,e){var n=this,r=e?this.Pu.ot(t,e):this.Pu.remove(t),i=this.Fu(this.Pu),s=this.Fu(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.mu.rh(o,a).then((function(){n.Pu=r}))},t.prototype.Nu=function(t){this.Pu.get(t.clientId)&&this.Cc(t.onlineState)},t.prototype.Fu=function(t){var e=pi();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),qc=function(){function t(){this.oh=new Mc,this.ah={},this.Cc=null,this.tr=null}return t.prototype.ku=function(t){},t.prototype.$u=function(t,e,n){},t.prototype.Bu=function(t){return this.oh.Eu(t),this.ah[t]||"not-current"},t.prototype.Wu=function(t,e,n){this.ah[t]=e},t.prototype.Uu=function(t){this.oh.Tu(t)},t.prototype.Ku=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.Qu=function(t){delete this.ah[t]},t.prototype.xu=function(){return this.oh.activeTargetIds},t.prototype.Ou=function(t){return this.oh.activeTargetIds.has(t)},t.prototype.start=function(){return this.oh=new Mc,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.zu=function(t){},t.prototype.ga=function(){},t.prototype.sr=function(t){},t}(),Bc=function(t){this.key=t},zc=function(t){this.key=t},Hc=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=fi(),this.Qt=fi(),this._h=Ao(t),this.fh=new mi(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.Eh:new gi,i=e?e.fh:this.fh,s=e?e.Qt:this.Qt,o=i,a=!1,u=ho(this.query)&&i.size===this.query.limit?i.last():null,c=fo(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof so?e:null;h&&(h=Co(n.query,h)?h:null);var f=!!l&&n.Qt.has(l.key),d=!!h&&(h.Je||n.Qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n._h(h,u)>0||c&&n._h(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),ho(this.query)||fo(this.query))for(;o.size>this.query.limit;){var l=ho(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fh:o,Eh:r,Ih:a,Qt:s}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.Di=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Qt=t.Qt;var s=t.Eh.Ut();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.mh(n);var o=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==s.length||u?{snapshot:new yi(this.query,t.fh,i,s,t.Qt,0===a,u,!1),Rh:o}:{Rh:o}},t.prototype.Ks=function(t){return this.te&&"Offline"===t?(this.te=!1,this.Di({fh:this.fh,Eh:new gi,Qt:this.Qt,Ih:!1},!1)):{Rh:[]}},t.prototype.Ph=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.mh=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=fi(),this.fh.forEach((function(e){t.Ph(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new zc(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new Bc(t))})),n},t.prototype.gh=function(t){this.uh=t.za,this.lh=fi();var e=this.wh(t.documents);return this.Di(e,!0)},t.prototype.yh=function(){return yi.Gt(this.query,this.fh,this.Qt,0===this.hh)},t}(),Gc=function(t,e,n){this.query=t,this.targetId=e,this.view=n},$c=function(t){this.key=t,this.Vh=!1},Wc=function(){function t(t,e,n,r,i,s){this.Bc=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=s,this.Ch={},this.Nh=new Nr((function(t){return So(t)}),Eo),this.xh=new Map,this.Fh=[],this.Oh=new ti(Mr.D),this.kh=new Map,this.Mh=new kc,this.$h={},this.Lh=new Map,this.Bh=Tu.Vo(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function Kc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=El(t),(s=n.Nh.get(e))?(n.Sh.Bu(s.targetId),i=s.view.yh(),[3,4]):[3,1];case 1:return[4,$u(n.Bc,vo(e))];case 2:return o=r.sent(),a=n.Sh.Bu(o.targetId),[4,Qc(n,e,o.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&ac(n.ph,o),r.label=4;case 4:return[2,i]}}))}))}function Qc(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var s,o,a,u,c,l;return Object(r.d)(this,(function(h){switch(h.label){case 0:return t.Kh=function(e,n,i){return function(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(s=e.view.wh(n)).Ih?[4,Ku(t.Bc,e.query,!1).then((function(t){return e.view.wh(t.documents,s)}))]:[3,2];case 1:s=r.sent(),r.label=2;case 2:return o=i&&i.zt.get(e.targetId),a=e.view.Di(s,t.Uh,o),[2,(ul(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,i)},[4,Ku(t.Bc,e,!0)];case 1:return s=h.sent(),o=new Hc(e,s.za),a=o.wh(s.documents),u=bi.Zt(n,i&&"Offline"!==t.onlineState),c=o.Di(a,t.Uh,u),ul(t,n,c.Rh),l=new Gc(e,n,o),[2,(t.Nh.set(e,l),t.xh.has(n)?t.xh.get(n).push(e):t.xh.set(n,[e]),c.snapshot)]}}))}))}function Zc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=gr(t),i=n.Nh.get(e),(s=n.xh.get(i.targetId)).length>1?[2,(n.xh.set(i.targetId,s.filter((function(t){return!Eo(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Uu(i.targetId),n.Sh.Ou(i.targetId)?[3,2]:[4,Wu(n.Bc,i.targetId,!1).then((function(){n.Sh.Qu(i.targetId),uc(n.ph,i.targetId),ol(n,i.targetId)})).catch(Ju)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return ol(n,i.targetId),[4,Wu(n.Bc,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function Yc(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=Sl(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=gr(t),i=Dr.now(),s=e.reduce((function(t,e){return t.add(e.key)}),fi());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ka.qi(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Hs(c,n.get(c.key));null!=l&&o.push(new Ks(c.key,l,ro(l.proto.mapValue),Ms.exists(!0)))}return r.Oi.Wr(t,i,o,e)}))})).then((function(t){var e=t.Ii(n);return{batchId:t.batchId,Ri:e}}))}(i.Bc,e)];case 2:return s=r.sent(),i.Sh.ku(s.batchId),function(t,e,n){var r=t.$h[t.currentUser.ti()];r||(r=new ti(br)),r=r.ot(e,n),t.$h[t.currentUser.ti()]=r}(i,s.batchId,n),[4,hl(i,s.Ri)];case 3:return r.sent(),[4,wc(i.ph)];case 4:return r.sent(),[3,6];case 5:return o=r.sent(),a=sa(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Jc(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=gr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Hu(n.Bc,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(mr(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?mr(r.Vh):t.se.size>0&&(mr(r.Vh),r.Vh=!1))})),[4,hl(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ju(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Xc(t,e,n){var r=gr(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Ks(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=gr(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Ks(e)&&(r=!0)})),r&&fa(n)}(r.bh,e),i.length&&r.Ch.Tc(i),r.onlineState=e,r.Uh&&r.Sh.zu(e)}}function tl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(i=gr(t)).Sh.Wu(e,"rejected",n),s=i.kh.get(e),(o=s&&s.key)?(a=(a=new ti(Mr.D)).ot(o,new oo(o,Rr.min())),u=fi().add(o),c=new vi(Rr.min(),new Map,new ri(br),a,u),[4,Jc(i,c)]):[3,2];case 1:return r.sent(),i.Oh=i.Oh.remove(o),i.kh.delete(e),ll(i),[3,4];case 2:return[4,Wu(i.Bc,e,!1).then((function(){return ol(i,e,n)})).catch(Ju)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function el(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=gr(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Bu(n.Bc,e)];case 2:return s=r.sent(),sl(n,i,null),il(n,i),n.Sh.$u(i,"acknowledged"),[4,hl(n,s)];case 3:return r.sent(),[3,6];case 4:return[4,Ju(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function nl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:i=gr(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=gr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Oi.Gr(t,e).next((function(e){return mr(null!==e),r=e.keys(),n.Oi.Zr(t,e)})).next((function(){return n.Oi.io(t)})).next((function(){return n.Ka.qi(t,r)}))}))}(i.Bc,e)];case 2:return s=r.sent(),sl(i,e,n),il(i,e),i.Sh.$u(e,"rejected",n),[4,hl(i,s)];case 3:return r.sent(),[3,6];case 4:return[4,Ju(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function rl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:dc((n=gr(t)).ph)||lr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=gr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Oi.Yr(t)}))}(n.Bc)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((s=n.Lh.get(i)||[]).push(e),n.Lh.set(i,s),[3,4]);case 3:return o=r.sent(),a=sa(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function il(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function sl(t,e,n){var r=gr(t),i=r.$h[r.currentUser.ti()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$h[r.currentUser.ti()]=i}}function ol(t,e,n){void 0===n&&(n=null),t.Sh.Uu(e);for(var r=0,i=t.xh.get(e);r<i.length;r++){var s=i[r];t.Nh.delete(s),n&&t.Ch.Qh(s,n)}t.xh.delete(e),t.Uh&&t.Mh.hu(e).forEach((function(e){t.Mh.ro(e)||al(t,e)}))}function al(t,e){var n=t.Oh.get(e);null!==n&&(uc(t.ph,n),t.Oh=t.Oh.remove(e),t.kh.delete(n),ll(t))}function ul(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Bc?(t.Mh.qo(s.key,e),cl(t,s)):s instanceof zc?(lr("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Ko(s.key,e),t.Mh.ro(s.key)||al(t,s.key)):pr()}}function cl(t,e){var n=e.key;t.Oh.get(n)||(lr("SyncEngine","New document in limbo: "+n),t.Fh.push(n),ll(t))}function ll(t){for(;t.Fh.length>0&&t.Oh.size<t.Dh;){var e=t.Fh.shift(),n=t.Bh.next();t.kh.set(n,new $c(e)),t.Oh=t.Oh.ot(e,n),ac(t.ph,new Zr(vo(lo(e.path)),n,2,Ta.ir))}}function hl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a;return Object(r.d)(this,(function(u){switch(u.label){case 0:return i=gr(t),s=[],o=[],a=[],i.Nh.P()?[3,3]:(i.Nh.forEach((function(t,r){a.push(i.Kh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Wu(r.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=Aa.Zi(r.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),i.Ch.Tc(s),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=gr(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Go.forEach(e,(function(e){return Go.forEach(e.Ji,(function(r){return n.persistence.qr.qo(t,e.targetId,r)})).next((function(){return Go.forEach(e.Xi,(function(r){return n.persistence.qr.Ko(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!Qo(i=r.sent()))throw i;return lr("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(s=0,o=e;s<o.length;s++)u=(a=o[s]).targetId,a.fromCache||(c=n.La.get(u),l=c.rt(c.nt),n.La=n.La.ot(u,l));return[2]}}))}))}(i.Bc,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function fl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=gr(t)).currentUser.isEqual(e)?[3,3]:(lr("SyncEngine","User change. New user:",e.ti()),[4,qu(n.Bc,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new ar(or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.Gu(e,i.ja,i.Ga),[4,hl(n,i.Wa)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function dl(t,e){var n=gr(t),r=n.kh.get(e);if(r&&r.Vh)return fi().add(r.key);var i=fi(),s=n.xh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Nh.get(a[o]);i=i.kt(u.view.dh)}return i}function pl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Ku((n=gr(t)).Bc,e.query,!0)];case 1:return i=r.sent(),s=e.view.gh(i),[2,(n.Uh&&ul(n,e.targetId,s.Rh),s)]}}))}))}function ml(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var s,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=gr(t),r=gr(n.Oi);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.zr(t,e).next((function(e){return e?n.Ka.qi(t,e):Go.resolve(null)}))}))}((s=gr(t)).Bc,e)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,wc(s.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(sl(s,e,i||null),il(s,e),function(t,e){gr(gr(t).Oi).no(e)}(s.Bc,e)):pr(),r.label=4;case 4:return[4,hl(s,o)];case 5:return r.sent(),[3,7];case 6:lr("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function gl(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return El(n=gr(t)),Sl(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.xu(),[4,yl(n,i.L())]);case 1:return s=r.sent(),n.qh=!0,[4,Tc(n.ph,!0)];case 2:for(r.sent(),o=0,a=s;o<a.length;o++)ac(n.ph,a[o]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(u=[],c=Promise.resolve(),n.xh.forEach((function(t,e){n.Sh.Ku(e)?u.push(e):c=c.then((function(){return ol(n,e),Wu(n.Bc,e,!0)})),uc(n.ph,e)})),[4,c]);case 4:return r.sent(),[4,yl(n,u)];case 5:return r.sent(),function(t){var e=gr(t);e.kh.forEach((function(t,n){uc(e.ph,n)})),e.Mh.lu(),e.kh=new Map,e.Oh=new ti(Mr.D)}(n),n.qh=!1,[4,Tc(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function yl(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l,h,f,d,p,m;return Object(r.d)(this,(function(r){switch(r.label){case 0:n=gr(t),i=[],s=[],o=0,a=e,r.label=1;case 1:return o<a.length?(c=void 0,(l=n.xh.get(u=a[o]))&&0!==l.length?[4,$u(n.Bc,vo(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,pl(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&s.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Qu(n.Bc,u)];case 8:return m=r.sent(),[4,$u(n.Bc,m)];case 9:return c=r.sent(),[4,Qc(n,vl(m),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.Tc(s),i)]}}))}))}function vl(t){return co(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bl(t){var e=gr(t);return gr(gr(e.Bc).persistence).va()}function wl(t,e,n,i){return Object(r.b)(this,void 0,void 0,(function(){var s,o,a;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(s=gr(t)).qh?(lr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.xh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zu(s.Bc)];case 3:return o=r.sent(),a=vi.Xt(e,"current"===n),[4,hl(s,o,a)];case 4:return r.sent(),[3,8];case 5:return[4,Wu(s.Bc,e,!0)];case 6:return r.sent(),ol(s,e,i),[3,8];case 7:pr(),r.label=8;case 8:return[2]}}))}))}function _l(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,f;return Object(r.d)(this,(function(d){switch(d.label){case 0:if(!(i=El(t)).qh)return[3,10];s=0,o=e,d.label=1;case 1:return s<o.length?i.xh.has(a=o[s])?(lr("SyncEngine","Adding an already active target "+a),[3,5]):[4,Qu(i.Bc,a)]:[3,6];case 2:return u=d.sent(),[4,$u(i.Bc,u)];case 3:return c=d.sent(),[4,Qc(i,vl(u),c.targetId,!1)];case 4:d.sent(),ac(i.ph,c),d.label=5;case 5:return s++,[3,1];case 6:l=function(t){return Object(r.d)(this,(function(e){switch(e.label){case 0:return i.xh.has(t)?[4,Wu(i.Bc,t,!1).then((function(){uc(i.ph,t),ol(i,t)})).catch(Ju)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function El(t){var e=gr(t);return e.ph.Uc.Xc=Jc.bind(null,e),e.ph.Uc.qe=dl.bind(null,e),e.ph.Uc.Jc=tl.bind(null,e),e.Ch.Tc=la.bind(null,e.bh),e.Ch.Qh=ha.bind(null,e.bh),e}function Sl(t){var e=gr(t);return e.ph.Uc.Zc=el.bind(null,e),e.ph.Uc.tu=nl.bind(null,e),e}var Il=function(){function t(){}return t.prototype.Qa=function(t){this.Wh=t},t.prototype.Qi=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.W())}(e)||n.isEqual(Rr.min())?this.jh(t,e):this.Wh.qi(t,r).next((function(o){var a=i.Gh(e,o);return(ho(e)||fo(e))&&i.Ih(e.an,a,r,n)?i.jh(t,e):(cr()<=s.a.DEBUG&&lr("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Io(e)),i.Wh.Qi(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Gh=function(t,e){var n=new ri(Ao(t));return e.forEach((function(e,r){r instanceof so&&Co(t,r)&&(n=n.add(r))})),n},t.prototype.Ih=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.jh=function(t,e){return cr()<=s.a.DEBUG&&lr("IndexFreeQueryEngine","Using full collection scan to execute query:",Io(e)),this.Wh.Qi(t,e,Rr.min())},t}(),Cl=function(){function t(t,e){this.ki=t,this.qr=e,this.Oi=[],this.zh=1,this.Hh=new ri(Pc.iu)}return t.prototype.Qr=function(t){return Go.resolve(0===this.Oi.length)},t.prototype.Wr=function(t,e,n,r){var i=this.zh;this.zh++;var s=new wa(i,e,n,r);this.Oi.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.Hh=this.Hh.add(new Pc(u.key,i)),this.ki.jr(t,u.key.path.F())}return Go.resolve(s)},t.prototype.Gr=function(t,e){return Go.resolve(this.Yh(e))},t.prototype.Hr=function(t,e){var n=this.Jh(e+1),r=n<0?0:n;return Go.resolve(this.Oi.length>r?this.Oi[r]:null)},t.prototype.Yr=function(){return Go.resolve(0===this.Oi.length?-1:this.zh-1)},t.prototype.Jr=function(t){return Go.resolve(this.Oi.slice())},t.prototype.$i=function(t,e){var n=this,r=new Pc(e,0),i=new Pc(e,Number.POSITIVE_INFINITY),s=[];return this.Hh.xt([r,i],(function(t){var e=n.Yh(t.fu);s.push(e)})),Go.resolve(s)},t.prototype.Ki=function(t,e){var n=this,r=new ri(br);return e.forEach((function(t){var e=new Pc(t,0),i=new Pc(t,Number.POSITIVE_INFINITY);n.Hh.xt([e,i],(function(t){r=r.add(t.fu)}))})),Go.resolve(this.Xh(r))},t.prototype.Hi=function(t,e){var n=e.path,r=n.length+1,i=n;Mr.X(i)||(i=i.child(""));var s=new Pc(new Mr(i),0),o=new ri(br);return this.Hh.Ft((function(t){var e=t.key.path;return!!n.M(e)&&(e.length===r&&(o=o.add(t.fu)),!0)}),s),Go.resolve(this.Xh(o))},t.prototype.Xh=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Yh(t);null!==r&&n.push(r)})),n},t.prototype.Zr=function(t,e){var n=this;mr(0===this.Zh(e.batchId,"removed")),this.Oi.shift();var r=this.Hh;return Go.forEach(e.mutations,(function(i){var s=new Pc(i.key,e.batchId);return r=r.delete(s),n.qr.so(t,i.key)})).next((function(){n.Hh=r}))},t.prototype.no=function(t){},t.prototype.ro=function(t,e){var n=new Pc(e,0),r=this.Hh.Ot(n);return Go.resolve(e.isEqual(r&&r.key))},t.prototype.io=function(t){return Go.resolve()},t.prototype.Zh=function(t,e){return this.Jh(t)},t.prototype.Jh=function(t){return 0===this.Oi.length?0:t-this.Oi[0].batchId},t.prototype.Yh=function(t){var e=this.Jh(t);return e<0||e>=this.Oi.length?null:this.Oi[e]},t}(),Al=function(){function t(t,e){this.ki=t,this.tl=e,this.docs=new ti(Mr.D),this.size=0}return t.prototype.yi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.tl(e);return this.docs=this.docs.ot(r,{ho:e,size:o,readTime:n}),this.size+=o-s,this.ki.jr(t,r.path.F())},t.prototype.pi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.bi=function(t,e){var n=this.docs.get(e);return Go.resolve(n?n.ho:null)},t.prototype.getEntries=function(t,e){var n=this,r=ai();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ho:null)})),Go.resolve(r)},t.prototype.Qi=function(t,e,n){for(var r=ci(),i=new Mr(e.path.child("")),s=this.docs.ft(i);s.At();){var o=s.It(),a=o.value,u=a.ho,c=a.readTime;if(!e.path.M(o.key.path))break;c.u(n)<=0||u instanceof so&&Co(e,u)&&(r=r.ot(u.key,u))}return Go.resolve(r)},t.prototype.el=function(t,e){return Go.forEach(this.docs,(function(t){return e(t)}))},t.prototype.wo=function(t){return new Tl(this)},t.prototype.To=function(t){return Go.resolve(this.size)},t}(),Tl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Io=e,n}return Object(r.c)(e,t),e.prototype.Di=function(t){var e=this,n=[];return this.Ri.forEach((function(r,i){i?n.push(e.Io.yi(t,i,e.readTime)):e.Io.pi(r)})),Go.On(n)},e.prototype.vi=function(t,e){return this.Io.bi(t,e)},e.prototype.Si=function(t,e){return this.Io.getEntries(t,e)},e}(Ea),Ol=function(){function t(t){this.persistence=t,this.nl=new Nr((function(t){return Gr(t)}),$r),this.lastRemoteSnapshotVersion=Rr.min(),this.highestTargetId=0,this.sl=0,this.il=new kc,this.targetCount=0,this.rl=Tu.yo()}return t.prototype.Ce=function(t,e){return this.nl.forEach((function(t,n){return e(n)})),Go.resolve()},t.prototype.So=function(t){return Go.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Do=function(t){return Go.resolve(this.sl)},t.prototype.po=function(t){return this.highestTargetId=this.rl.next(),Go.resolve(this.highestTargetId)},t.prototype.Co=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.sl&&(this.sl=e),Go.resolve()},t.prototype.xo=function(t){this.nl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.rl=new Tu(e),this.highestTargetId=e),t.sequenceNumber>this.sl&&(this.sl=t.sequenceNumber)},t.prototype.No=function(t,e){return this.xo(e),this.targetCount+=1,Go.resolve()},t.prototype.Oo=function(t,e){return this.xo(e),Go.resolve()},t.prototype.ko=function(t,e){return this.nl.delete(e.target),this.il.hu(e.targetId),this.targetCount-=1,Go.resolve()},t.prototype.Or=function(t,e,n){var r=this,i=0,s=[];return this.nl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.nl.delete(o),s.push(r.Mo(t,a.targetId)),i++)})),Go.On(s).next((function(){return i}))},t.prototype.$o=function(t){return Go.resolve(this.targetCount)},t.prototype.Lo=function(t,e){var n=this.nl.get(e)||null;return Go.resolve(n)},t.prototype.Bo=function(t,e,n){return this.il.au(e,n),Go.resolve()},t.prototype.Uo=function(t,e,n){this.il.uu(e,n);var r=this.persistence.qr,i=[];return r&&e.forEach((function(e){i.push(r.so(t,e))})),Go.On(i)},t.prototype.Mo=function(t,e){return this.il.hu(e),Go.resolve()},t.prototype.Qo=function(t,e){var n=this.il._u(e);return Go.resolve(n)},t.prototype.ro=function(t,e){return Go.resolve(this.il.ro(e))},t}(),xl=function(){function t(t){var e=this;this.ol={},this.zo=new Ta(0),this.Ho=!1,this.Ho=!0,this.qr=t(this),this.sa=new Ol(this),this.ki=new ou,this.Fi=function(t,n){return new Al(t,(function(t){return e.qr.al(t)}))}(this.ki)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ga=function(){return this.Ho=!1,Promise.resolve()},Object.defineProperty(t.prototype,"br",{get:function(){return this.Ho},enumerable:!1,configurable:!0}),t.prototype.ha=function(){},t.prototype.la=function(){},t.prototype.Na=function(){return this.ki},t.prototype.Sa=function(t){var e=this.ol[t.ti()];return e||(e=new Cl(this.ki,this.qr),this.ol[t.ti()]=e),e},t.prototype.Da=function(){return this.sa},t.prototype.Ca=function(){return this.Fi},t.prototype.runTransaction=function(t,e,n){var r=this;lr("MemoryPersistence","Starting transaction:",t);var i=new kl(this.zo.next());return this.qr.cl(),n(i).next((function(t){return r.qr.ul(i).next((function(){return t}))})).xn().then((function(t){return i.xi(),t}))},t.prototype.hl=function(t,e){return Go.kn(Object.values(this.ol).map((function(n){return function(){return n.ro(t,e)}})))},t}(),kl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Wo=e,n}return Object(r.c)(e,t),e}(Ia),Pl=function(){function t(t){this.persistence=t,this.ll=new kc,this._l=null}return t.fl=function(e){return new t(e)},Object.defineProperty(t.prototype,"dl",{get:function(){if(this._l)return this._l;throw pr()},enumerable:!1,configurable:!0}),t.prototype.qo=function(t,e,n){return this.ll.qo(n,e),this.dl.delete(n.toString()),Go.resolve()},t.prototype.Ko=function(t,e,n){return this.ll.Ko(n,e),this.dl.add(n.toString()),Go.resolve()},t.prototype.so=function(t,e){return this.dl.add(e.toString()),Go.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.ll.hu(e.targetId).forEach((function(t){return n.dl.add(t.toString())}));var r=this.persistence.Da();return r.Qo(t,e.targetId).next((function(t){t.forEach((function(t){return n.dl.add(t.toString())}))})).next((function(){return r.ko(t,e)}))},t.prototype.cl=function(){this._l=new Set},t.prototype.ul=function(t){var e=this,n=this.persistence.Ca().wo();return Go.forEach(this.dl,(function(r){var i=Mr.H(r);return e.wl(t,i).next((function(t){t||n.pi(i)}))})).next((function(){return e._l=null,n.apply(t)}))},t.prototype.Ma=function(t,e){var n=this;return this.wl(t,e).next((function(t){t?n.dl.delete(e.toString()):n.dl.add(e.toString())}))},t.prototype.al=function(t){return 0},t.prototype.wl=function(t,e){var n=this;return Go.kn([function(){return Go.resolve(n.ll.ro(e))},function(){return n.persistence.Da().ro(t,e)},function(){return n.persistence.hl(t,e)}])},t}(),Nl=function(){function t(t){this.El=t.El,this.Tl=t.Tl}return t.prototype.wc=function(t){this.Il=t},t.prototype.hc=function(t){this.ml=t},t.prototype.onMessage=function(t){this.Al=t},t.prototype.close=function(){this.Tl()},t.prototype.send=function(t){this.El(t)},t.prototype.Rl=function(){this.Il()},t.prototype.Pl=function(t){this.ml(t)},t.prototype.gl=function(t){this.Al(t)},t}(),Dl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Rl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.T=e.T,n}return Object(r.c)(e,t),e.prototype.Sl=function(t,e,n,r){return new Promise((function(i,s){var o=new ir;o.listenOnce(nr.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case er.NO_ERROR:var e=o.getResponseJson();lr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case er.TIMEOUT:lr("Connection",'RPC "'+t+'" timed out'),s(new ar(or.DEADLINE_EXCEEDED,"Request time out"));break;case er.HTTP_ERROR:var n=o.getStatus();if(lr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(or).indexOf(e)>=0?e:or.UNKNOWN}(r.status);s(new ar(a,r.message))}else s(new ar(or.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ar(or.UNAVAILABLE,"Connection failed."));break;default:pr()}}finally{lr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Ec=function(t,e){var n=[this.Vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Zn,i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.vl(i.initMessageHeaders,e),Object(o.m)()||Object(o.o)()||Object(o.k)()||Object(o.l)()||Object(o.p)()||Object(o.j)()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");lr("Connection","Creating WebChannel: "+s,i);var a=r.createWebChannel(s,i),u=!1,c=!1,l=new Nl({El:function(t){c?lr("Connection","Not sending because WebChannel is closed:",t):(u||(lr("Connection","Opening WebChannel transport."),a.open(),u=!0),lr("Connection","WebChannel sending:",t),a.send(t))},Tl:function(){return a.close()}}),h=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(rr.EventType.OPEN,(function(){c||lr("Connection","WebChannel transport opened.")})),h(rr.EventType.CLOSE,(function(){c||(c=!0,lr("Connection","WebChannel transport closed"),l.Pl())})),h(rr.EventType.ERROR,(function(t){c||(c=!0,fr("Connection","WebChannel transport errored:",t),l.Pl(new ar(or.UNAVAILABLE,"The operation could not be completed")))})),h(rr.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];mr(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){lr("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Kr[t];if(void 0!==e)return Xr(e)}(i),o=r.message;void 0===s&&(s=or.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pl(new ar(s,o)),a.close()}else lr("Connection","WebChannel received:",n),l.gl(n)}})),setTimeout((function(){l.Rl()}),0),l},e}(function(){function t(t){this.yl=t,this._=t._,this.Vl=(t.ssl?"https":"http")+"://"+t.host,this.pl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Sc=function(t,e,n,r){var i=this.bl(t,e);lr("RestConnection","Sending: ",i,n);var s={};return this.vl(s,r),this.Sl(t,i,s,n).then((function(t){return lr("RestConnection","Received: ",t),t}),(function(e){throw fr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Dc=function(t,e,n,r){return this.Sc(t,e,n,r)},t.prototype.vl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.0.1",t["Content-Type"]="text/plain",e)for(var n in e.si)e.si.hasOwnProperty(n)&&(t[n]=e.si[n])},t.prototype.bl=function(t,e){return this.Vl+"/v1/"+e+":"+Dl[t]},t}()),jl=function(){function t(){var t=this;this.Dl=function(){return t.Cl()},this.Nl=function(){return t.xl()},this.Fl=[],this.Ol()}return t.prototype.zc=function(t){this.Fl.push(t)},t.prototype.ga=function(){window.removeEventListener("online",this.Dl),window.removeEventListener("offline",this.Nl)},t.prototype.Ol=function(){window.addEventListener("online",this.Dl),window.addEventListener("offline",this.Nl)},t.prototype.Cl=function(){lr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(0)},t.prototype.xl=function(){lr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Fl;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Fl=function(){function t(){}return t.prototype.zc=function(t){},t.prototype.ga=function(){},t}();function Ll(t){return new Wi(t,!0)}var Vl=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return this.Sh=this.kl(t),this.persistence=this.Ml(t),[4,this.persistence.start()];case 1:return e.sent(),this.$l=this.Ll(t),this.Bc=this.Bl(t),[2]}}))}))},t.prototype.Ll=function(t){return null},t.prototype.Bl=function(t){return e=this.persistence,n=new Il,new Uu(e,n,t.ql);var e,n},t.prototype.Ml=function(t){return new xl(Pl.fl)},t.prototype.kl=function(t){return new qc},t.prototype.terminate=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.$l&&this.$l.stop(),[4,this.Sh.ga()];case 1:return t.sent(),[4,this.persistence.ga()];case 2:return t.sent(),[2]}}))}))},t}(),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ul=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Yu(this.Bc)];case 2:return n.sent(),[4,this.Ul.initialize(this,e)];case 3:return n.sent(),[4,Sl(this.Ul.mu)];case 4:return n.sent(),[4,wc(this.Ul.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ll=function(t){return new Na(this.persistence.qr.gr,t.cs)},e.prototype.Ml=function(t){var e=Mu(t.yl._,t.yl.persistenceKey),n=void 0!==this.cacheSizeBytes?Pa.Ir(this.cacheSizeBytes):Pa.Rr,r=Ll(t.yl._);return new Ru(this.synchronizeTabs,e,t.clientId,n,t.cs,ea(),na(),r,this.Sh,!!this.forceOwnership)},e.prototype.kl=function(t){return new qc},e}(Vl),Ul=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ul=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.c)(e,t),e.prototype.initialize=function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Ul.mu,this.Sh instanceof Uc?(this.Sh.mu={sh:ml.bind(null,n),ih:wl.bind(null,n),rh:_l.bind(null,n),va:bl.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.ua((function(t){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return[4,gl(this.Ul.mu,t)];case 1:return e.sent(),this.$l&&(t&&!this.$l.br?this.$l.start(this.Bc):t||this.$l.stop()),[2]}}))}))}))];case 4:return s.sent(),[2]}}))}))},e.prototype.kl=function(t){var e=ea();if(!Uc.Ln(e))throw new ar(or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Mu(t.yl._,t.yl.persistenceKey);return new Uc(e,t.cs,n,t.clientId,t.ql)},e}(Ml),ql=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n=this;return Object(r.d)(this,(function(r){switch(r.label){case 0:return this.Bc?[3,2]:(this.Bc=t.Bc,this.Sh=t.Sh,this.qc=this.Kl(e),this.ph=this.Ql(e),this.bh=this.Wl(e),this.mu=this.jl(e,!t.synchronizeTabs),this.Sh.Cc=function(t){return Xc(n.mu,t,1)},this.ph.Uc.Gl=fl.bind(null,this.mu),[4,Tc(this.ph,this.mu.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Wl=function(t){return new aa},t.prototype.Kl=function(t){var e=Ll(t.yl._),n=new Rl(t.yl);return function(t,e,n){return new nc(t,e,n)}(t.credentials,n,e)},t.prototype.Ql=function(t){var e,n,r,i,s,o=this;return e=this.Bc,n=this.qc,r=t.cs,i=function(t){return Xc(o.mu,t,0)},s=jl.Ln()?new jl:new Fl,new ic(e,n,r,i,s)},t.prototype.jl=function(t,e){return function(t,e,n,r,i,s,o){var a=new Wc(t,e,n,r,i,s);return o&&(a.qh=!0),a}(this.Bc,this.ph,this.bh,this.Sh,t.ql,t.Dh,e)},t.prototype.terminate=function(){return function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=gr(t),lr("RemoteStore","RemoteStore shutting down."),e.Wc.add(5),[4,oc(e)];case 1:return n.sent(),e.Gc.ga(),e.Hc.set("Unknown"),[2]}}))}))}(this.ph)},t}(),Bl=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.zl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.zl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Hl=function(){this.muted=!0},t.prototype.zl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function zl(t,e,n){if(!n)throw new ar(or.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Hl(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ar(or.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gl(t,e,n,r){if(!0===e&&!0===r)throw new ar(or.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $l(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pr()}function Wl(t,e){if(e<=0)throw new ar(or.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Kl=function(t){for(var e=0;e<t.length;++e)if(0===t[e].length)throw new ar(or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yl=new Vr(t)},Ql=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return Object(r.c)(e,t),e.documentId=function(){return new e(Vr.j().B())},e.prototype.isEqual=function(t){return t instanceof e&&this.Yl.isEqual(t.Yl)},e}(Kl),Zl=new RegExp("[~\\*/\\[\\]]"),Yl=function(t){this.Jl=t},Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.Xl=function(t){if(2!==t.Zl)throw t.t_(1===t.Zl?this.Jl+"() can only appear at the top level of your update data":this.Jl+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Yl);function Xl(t,e,n){return new hh({Zl:3,e_:e.settings.e_,methodName:t.Jl,n_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.Xl=function(t){return new Ls(t.path,new Os)},e.prototype.isEqual=function(t){return t instanceof e},e}(Yl),eh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=Xl(this,t,!0),n=this.s_.map((function(t){return yh(t,e)})),r=new xs(n);return new Ls(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yl),nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).s_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=Xl(this,t,!0),n=this.s_.map((function(t){return yh(t,e)})),r=new Ps(n);return new Ls(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Yl),rh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).i_=n,r}return Object(r.c)(e,t),e.prototype.Xl=function(t){var e=new Ds(t.serializer,Zi(t.serializer,this.i_));return new Ls(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Yl),ih=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ar(or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ar(or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.r_=t,this.o_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.r_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.o_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.r_===t.r_&&this.o_===t.o_},t.prototype.toJSON=function(){return{latitude:this.r_,longitude:this.o_}},t.prototype.g=function(t){return br(this.r_,t.r_)||br(this.o_,t.o_)},t}(),sh=function(t){this.a_=t},oh=/^__.*__$/,ah=function(t,e,n){this.c_=t,this.u_=e,this.h_=n},uh=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[];return n.push(null!==this.Qe?new Ks(t,this.data,this.Qe,e):new Ws(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Zs(t,this.fieldTransforms)),n},t}(),ch=function(){function t(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}return t.prototype.l_=function(t,e){var n=[new Ks(t,this.data,this.Qe,e)];return this.fieldTransforms.length>0&&n.push(new Zs(t,this.fieldTransforms)),n},t}();function lh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr()}}var hh=function(){function t(t,e,n,r,i,s){this.settings=t,this._=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.__(),this.fieldTransforms=i||[],this.Qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Zl",{get:function(){return this.settings.Zl},enumerable:!1,configurable:!0}),t.prototype.f_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.d_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.w_(t),r},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.f_({path:n,n_:!1});return r.__(),r},t.prototype.T_=function(t){return this.f_({path:void 0,n_:!0})},t.prototype.t_=function(t){return Sh(t,this.settings.methodName,this.settings.I_||!1,this.path,this.settings.e_)},t.prototype.contains=function(t){return void 0!==this.Qe.find((function(e){return t.M(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.M(e.field)}))},t.prototype.__=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.w_(this.path.get(t))},t.prototype.w_=function(t){if(0===t.length)throw this.t_("Document fields must not be empty");if(lh(this.Zl)&&oh.test(t))throw this.t_('Document fields cannot begin and end with "__"')},t}(),fh=function(){function t(t,e,n){this._=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ll(t)}return t.prototype.m_=function(t,e,n,r){return void 0===r&&(r=!1),new hh({Zl:t,methodName:e,e_:n,path:Vr.U(),n_:!1,I_:r},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function dh(t,e,n,r,i,s){void 0===s&&(s={});var o=t.m_(s.merge||s.mergeFields?2:0,e,n,i);wh("Data must be an object, but it was:",o,r);var a,u,c=vh(r,o);if(s.merge)a=new Fs(o.Qe),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof Kl)p=d.Yl;else{if("string"!=typeof d)throw pr();p=Eh(e,d,n)}if(!o.contains(p))throw new ar(or.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Ih(l,p)||l.push(p)}a=new Fs(l),u=o.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,u=o.fieldTransforms;return new uh(new eo(c),a,u)}function ph(t,e,n,r){var i=t.m_(1,e,n);wh("Data must be an object, but it was:",i,r);var s=[],o=new no;kr(r,(function(t,r){var a=Eh(e,t,n),u=i.E_(a);if(r instanceof Jl||r instanceof sh&&r.a_ instanceof Jl)s.push(a);else{var c=yh(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Fs(s);return new ch(o.Xe(),a,i.fieldTransforms)}function mh(t,e,n,r,i,s){var o=t.m_(1,e,n),a=[_h(e,r,n)],u=[i];if(s.length%2!=0)throw new ar(or.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(_h(e,s[c])),u.push(s[c+1]);for(var l=[],h=new no,f=a.length-1;f>=0;--f)if(!Ih(l,a[f])){var d=a[f],p=u[f],m=o.E_(d);if(p instanceof Jl||p instanceof sh&&p.a_ instanceof Jl)l.push(d);else{var g=yh(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Fs(l);return new ch(h.Xe(),y,o.fieldTransforms)}function gh(t,e,n,r){return void 0===r&&(r=!1),yh(n,t.m_(r?4:3,e))}function yh(t,e){if(t instanceof sh&&(t=t.a_),bh(t))return wh("Unsupported field value:",e,t),vh(t,e);if(t instanceof Yl)return function(t,e){if(!lh(e.Zl))throw e.t_(t.Jl+"() can only be used with update() and set()");if(!e.path)throw e.t_(t.Jl+"() is not currently supported inside arrays");var n=t.Xl(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.n_&&4!==e.Zl)throw e.t_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=yh(s[i],e.T_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Zi(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Dr.fromDate(t);return{timestampValue:Yi(e.serializer,n)}}if(t instanceof Dr){var r=new Dr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yi(e.serializer,r)}}if(t instanceof ih)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sr)return{bytesValue:Ji(e.serializer,t.l)};if(t instanceof ah){var i=e._,s=t.c_;if(!s.isEqual(i))throw e.t_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:es(t.c_||e._,t.u_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.t_("Unsupported field value: "+$l(t))}(t,e)}function vh(t,e){var n={};return Pr(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):kr(t,(function(t,r){var i=yh(r,e.d_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function bh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Dr||t instanceof ih||t instanceof Sr||t instanceof ah||t instanceof Yl)}function wh(t,e,n){if(!bh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=$l(n);throw e.t_("an object"===r?t+" a custom object":t+" "+r)}}function _h(t,e,n){if(e instanceof Kl)return e.Yl;if("string"==typeof e)return Eh(t,e);throw Sh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Eh(t,e,n){try{return function(t){if(t.search(Zl)>=0)throw new ar(or.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ql.bind.apply(Ql,Object(r.g)([void 0],t.split("."))))}catch(e){throw new ar(or.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yl}catch(e){throw Sh((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Sh(t,e,n,r,i){var s=r&&!r.P(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ar(or.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ih(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ch=function(){function t(t){this.qc=t,this.A_=new Map,this.mutations=[],this.R_=!1,this.P_=null,this.g_=new Set}return t.prototype.y_=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n=this;return Object(r.d)(this,(function(i){switch(i.label){case 0:if(this.V_(),this.mutations.length>0)throw new ar(or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s,o,a,u;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=gr(t),i=as(n.serializer)+"/documents",s={documents:e.map((function(t){return rs(n.serializer,t)}))},[4,n.Dc("BatchGetDocuments",i,s)];case 1:return o=r.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){mr(!!e.found);var n=is(t,e.found.name),r=ts(e.found.updateTime),i=new eo({mapValue:{fields:e.found.fields}});return new so(n,r,i,{})}(t,e):"missing"in e?function(t,e){mr(!!e.missing),mr(!!e.readTime);var n=is(t,e.missing),r=ts(e.readTime);return new oo(n,r)}(t,e):pr()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());mr(!!e),u.push(e)})),u)]}}))}))}(this.qc,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof oo||t instanceof so?n.p_(t):pr()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.l_(t,this.Ge(t))),this.g_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.l_(t,this.b_(t)))}catch(t){this.P_=t}this.g_.add(t.toString())},t.prototype.delete=function(t){this.write([new Xs(t,this.Ge(t))]),this.g_.add(t.toString())},t.prototype.commit=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e=this;return Object(r.d)(this,(function(n){switch(n.label){case 0:if(this.V_(),this.P_)throw this.P_;return t=this.A_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Mr.H(n);e.mutations.push(new to(r,e.Ge(r)))})),[4,function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=gr(t),i=as(n.serializer)+"/documents",s={writes:e.map((function(t){return ls(n.serializer,t)}))},[4,n.Sc("Commit",i,s)];case 1:return r.sent(),[2]}}))}))}(this.qc,this.mutations)];case 1:return n.sent(),this.R_=!0,[2]}}))}))},t.prototype.p_=function(t){var e;if(t instanceof so)e=t.version;else{if(!(t instanceof oo))throw pr();e=Rr.min()}var n=this.A_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ar(or.ABORTED,"Document version changed between two reads.")}else this.A_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.A_.get(t.toString());return!this.g_.has(t.toString())&&e?Ms.updateTime(e):Ms.ze()},t.prototype.b_=function(t){var e=this.A_.get(t.toString());if(!this.g_.has(t.toString())&&e){if(e.isEqual(Rr.min()))throw new ar(or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ms.updateTime(e)}return Ms.exists(!0)},t.prototype.write=function(t){this.V_(),this.mutations=this.mutations.concat(t)},t.prototype.V_=function(){},t}(),Ah=function(){function t(t,e,n,r){this.cs=t,this.qc=e,this.updateFunction=n,this.ls=r,this.v_=5,this.ys=new Ho(this.cs,"transaction_retry")}return t.prototype.run=function(){this.S_()},t.prototype.S_=function(){var t=this;this.ys.Pn((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(r.d)(this,(function(r){return t=new Ch(this.qc),(e=this.D_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.C_(t)}))}))})).catch((function(t){n.C_(t)})),[2]}))}))}))},t.prototype.D_=function(t){try{var e=this.updateFunction(t);return!Ur(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.C_=function(t){var e=this;this.v_>0&&this.N_(t)?(this.v_-=1,this.cs.ws((function(){return e.S_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.N_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Jr(e)}return!1},t}(),Th=function(){function t(t,e,n){var r=this;this.credentials=t,this.cs=e,this.yl=n,this.user=pa.UNAUTHENTICATED,this.clientId=vr.t(),this.x_=function(){},this.ui=new zo,this.credentials.oi((function(t){lr("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.x_(t)),r.ui.resolve()}))}return t.prototype.getConfiguration=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,this.ui.promise];case 1:return[2,(t.sent(),{cs:this.cs,yl:this.yl,clientId:this.clientId,credentials:this.credentials,ql:this.user,Dh:100})]}}))}))},t.prototype.F_=function(t){var e=this;this.x_=t,this.ui.promise.then((function(){return e.x_(e.user)}))},t.prototype.O_=function(){if(this.cs.ps)throw new ar(or.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new zo;return this.cs.bs((function(){return Object(r.b)(t,void 0,void 0,(function(){var t,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.k_?[4,this.k_.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.M_?[4,this.M_.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.ai(),e.resolve(),[3,6];case 5:return t=r.sent(),n=sa(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Oh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i=this;return Object(r.d)(this,(function(s){switch(s.label){case 0:return t.cs.Fs(),lr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),t.F_((function(n){return t.cs.Cs((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,qu(e.Bc,n)];case 1:return t.sent(),[2]}}))}))}))})),e.persistence.ha((function(){return t.terminate()})),t.M_=e,[2]}}))}))}function xh(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(s){switch(s.label){case 0:return t.cs.Fs(),[4,kh(t)];case 1:return n=s.sent(),lr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=s.sent(),[4,e.initialize(n,i)];case 3:return s.sent(),t.F_((function(n){return t.cs.Cs((function(){return function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var n,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return(n=gr(t)).cs.Fs(),lr("RemoteStore","RemoteStore received new credentials"),i=dc(n),n.Wc.add(3),[4,oc(n)];case 1:return r.sent(),i&&n.Hc.set("Unknown"),[4,n.Uc.Gl(e)];case 2:return r.sent(),n.Wc.delete(3),[4,sc(n)];case 3:return r.sent(),[2]}}))}))}(e.ph,n)}))})),t.k_=e,[2]}}))}))}function kh(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.M_?[3,2]:(lr("FirestoreClient","Using default OfflineComponentProvider"),[4,Oh(t,new Vl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.M_]}}))}))}function Ph(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return t.k_?[3,2]:(lr("FirestoreClient","Using default OnlineComponentProvider"),[4,xh(t,new ql)]);case 1:e.sent(),e.label=2;case 2:return[2,t.k_]}}))}))}function Nh(t){return kh(t).then((function(t){return t.persistence}))}function Dh(t){return kh(t).then((function(t){return t.Bc}))}function Rh(t){return Ph(t).then((function(t){return t.ph}))}function jh(t){return Ph(t).then((function(t){return t.mu}))}function Fh(t){return Object(r.b)(this,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Ph(t)];case 1:return e=r.sent(),[2,((n=e.bh).Us=Kc.bind(null,e.mu),n.Ws=Zc.bind(null,e.mu),n)]}}))}))}function Lh(t,e,n,i){var s=this,o=new Bl(i),a=new da(e,o,n);return t.cs.ws((function(){return Object(r.b)(s,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=ua,[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Hl(),t.cs.ws((function(){return Object(r.b)(s,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=ca,[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}function Vh(t,e){var n=this,i=new zo;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=Yc,[4,jh(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}function Mh(t,e){var n=this,i=new Bl(e);return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){gr(t).qs.add(e),e.next()},[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Hl(),t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){gr(t).qs.delete(e)},[4,Fh(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}function Uh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var qh=function(){function t(t,e,n,r){this._=t,this.L_=e,this.B_=n,this.q_=r}return t.prototype.U_=function(t){switch(ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.K_(t.timestampValue);case 4:return this.Q_(t);case 5:return t.stringValue;case 6:return this.q_(Vi(t.bytesValue));case 7:return this.W_(t.referenceValue);case 8:return this.j_(t.geoPointValue);case 9:return this.G_(t.arrayValue);case 10:return this.z_(t.mapValue);default:throw pr()}},t.prototype.z_=function(t){var e=this,n={};return kr(t.fields||{},(function(t,r){n[t]=e.U_(r)})),n},t.prototype.j_=function(t){return new ih(Li(t.latitude),Li(t.longitude))},t.prototype.G_=function(t){var e=this;return(t.values||[]).map((function(t){return e.U_(t)}))},t.prototype.Q_=function(t){switch(this.L_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Ti(n)?t(n):n}(t);return null==e?null:this.U_(e);case"estimate":return this.K_(Oi(t));default:return null}},t.prototype.K_=function(t){var e=Fi(t);return new Dr(e.seconds,e.nanos)},t.prototype.W_=function(t){var e=Fr.q(t);mr(Ss(e));var n=new Or(e.get(1),e.get(3)),r=new Mr(e.N(5));return n.isEqual(this._)||hr("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.B_(r)},t}(),Bh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ar(or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ar(or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Gl("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}();function zh(t){$h(t);var e=Yh(t),n=t.H_(),r=new ql;return Hh(e,r,new Ul(r,n.cacheSizeBytes))}function Hh(t,e,n){var i=this,s=new zo;return t.cs.enqueue((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,Oh(t,n)];case 1:return r.sent(),[4,xh(t,e)];case 2:return r.sent(),s.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===or.FAILED_PRECONDITION||t.code===or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),s.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return s.promise}))}function Gh(t){var e=this;if(t.Y_&&!t.J_)throw new ar(or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new zo;return t.X_.bs((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(e){switch(e.label){case 0:return $o.Ln()?[4,$o.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Mu(t.c_,t.Z_))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}function $h(t){if(t.Y_||t.J_)throw new ar(or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wh="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Kh=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){throw new ar(or.FAILED_PRECONDITION,Wh)},t.prototype.enableMultiTabIndexedDbPersistence=function(t){throw new ar(or.FAILED_PRECONDITION,Wh)},t.prototype.clearIndexedDbPersistence=function(t){throw new ar(or.FAILED_PRECONDITION,Wh)},t}(),Qh=function(){function t(){this.enableMultiTabIndexedDbPersistence=zh.bind(null),this.clearIndexedDbPersistence=Gh.bind(null)}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$h(t);var n=Yh(t),r=t.H_(),i=new ql;return Hh(n,i,new Ml(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t,{forceOwnership:e})},t}(),Zh=function(){function t(e,n,i){var s=this;if(void 0===i&&(i=new Kh),this.tf=i,this.ef=null,this.X_=new ia,this.INTERNAL={delete:function(){return Object(r.b)(s,void 0,void 0,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return this.nf||Jh(this),[4,this.nf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var o=e;this.ef=o,this.c_=t.sf(o),this.Z_=o.name,this.if=new ya(n)}else{var a=e;if(!a.projectId)throw new ar(or.INVALID_ARGUMENT,"Must provide projectId");this.c_=new Or(a.projectId,a.database),this.Z_="[DEFAULT]",this.if=new ga}this.rf=new Bh({})}return Object.defineProperty(t.prototype,"Y_",{get:function(){return!!this.nf},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"J_",{get:function(){return this.X_.ps},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.cf||(this.cf=new fh(this.c_,this.rf.ignoreUndefinedProperties)),this.cf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.rf),t)).merge;var e=new Bh(t);if(this.nf&&!this.rf.isEqual(e))throw new ar(or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.rf=e,void 0!==e.credentials&&(this.if=function(t){if(!t)return new ga;switch(t.type){case"gapi":var e=t.client;return mr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ba(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ar(or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.rf.host&&fr("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return Yh(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,Nh(t)];case 1:return e=r.sent(),[4,Rh(t)];case 2:return n=r.sent(),[2,(e.la(!0),function(t){var e=gr(t);return e.Wc.delete(0),sc(e)}(n))]}}))}))}))}(this.nf)},t.prototype.disableNetwork=function(){return Yh(this),function(t){var e=this;return t.cs.enqueue((function(){return Object(r.b)(e,void 0,void 0,(function(){var e,n;return Object(r.d)(this,(function(i){switch(i.label){case 0:return[4,Nh(t)];case 1:return e=i.sent(),[4,Rh(t)];case 2:return n=i.sent(),[2,(e.la(!1),function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(n){switch(n.label){case 0:return(e=gr(t)).Wc.add(0),[4,oc(e)];case 1:return n.sent(),e.Hc.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(this.nf)},t.prototype.enablePersistence=function(t){if(this.nf)throw new ar(or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1,n=!1;return t&&Gl("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tf.enableMultiTabIndexedDbPersistence(this):this.tf.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.d)(this,(function(t){return[2,this.tf.clearIndexedDbPersistence(this)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},t.prototype.waitForPendingWrites=function(){return Yh(this),function(t){var e=this,n=new zo;return t.cs.ws((function(){return Object(r.b)(e,void 0,void 0,(function(){var e;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e=rl,[4,jh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(this.nf)},t.prototype.onSnapshotsInSync=function(t){return Yh(this),Uh(t)?Mh(this.nf,t):Mh(this.nf,{next:t})},t.sf=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new ar(or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new ar(or.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Or(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ef)throw new ar(or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ef},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return zl("Firestore.collection","path",t),Yh(this),new ff(Fr.q(t),this,null)},t.prototype.doc=function(t){return zl("Firestore.doc","path",t),Yh(this),ef.uf(Fr.q(t),this,null)},t.prototype.collectionGroup=function(t){if(zl("Firestore.collectionGroup","collectionId",t),t.indexOf("/")>=0)throw new ar(or.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return Yh(this),new lf(function(t){return new uo(Fr.U(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return function(t,e){var n=this,i=new zo;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(r){switch(r.label){case 0:return[4,function(t){return Ph(t).then((function(t){return t.qc}))}(t)];case 1:return n=r.sent(),new Ah(t.cs,n,e,i).run(),[2]}}))}))})),i.promise}(Yh(this),(function(n){return t(new Xh(e,n))}))},t.prototype.batch=function(){return Yh(this),new tf(this)},t.prototype.H_=function(){return this.rf},t}();function Yh(t){return t.nf||Jh(t),t.nf.O_(),t.nf}function Jh(t){var e=t.H_(),n=function(t,e,n){return new Tr(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.c_,t.Z_,e);t.nf=new Th(t.if,t.X_,n)}var Xh=function(){function t(t,e){this.hf=t,this.lf=e}return t.prototype.get=function(t){var e=this,n=df(0,t,this.hf);return this.lf.y_([n.u_]).then((function(t){if(!t||1!==t.length)return pr();var r=t[0];if(r instanceof oo)return new rf(e.hf,n.u_,null,!1,!1,n.h_);if(r instanceof so)return new rf(e.hf,n.u_,r,!1,!1,n.h_);throw pr()}))},t.prototype.set=function(t,e,n){var r=df(0,t,this.hf);n=Hl("Transaction.set",n);var i=mf(r.h_,e,n),s=dh(this.hf.af,"Transaction.set",r.u_,i,null!==r.h_,n);return this.lf.set(r.u_,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof Ql?(r=df(0,t,this.hf),i=mh(this.hf.af,"Transaction.update",r.u_,e,n,s)):(r=df(0,t,this.hf),i=ph(this.hf.af,"Transaction.update",r.u_,e)),this.lf.update(r.u_,i),this},t.prototype.delete=function(t){var e=df(0,t,this.hf);return this.lf.delete(e.u_),this},t}(),tf=function(){function t(t){this.hf=t,this._f=[],this.ff=!1}return t.prototype.set=function(t,e,n){this.df();var r=df(0,t,this.hf);n=Hl("WriteBatch.set",n);var i=mf(r.h_,e,n),s=dh(this.hf.af,"WriteBatch.set",r.u_,i,null!==r.h_,n);return this._f=this._f.concat(s.l_(r.u_,Ms.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.df(),"string"==typeof e||e instanceof Ql?(r=df(0,t,this.hf),i=mh(this.hf.af,"WriteBatch.update",r.u_,e,n,s)):(r=df(0,t,this.hf),i=ph(this.hf.af,"WriteBatch.update",r.u_,e)),this._f=this._f.concat(i.l_(r.u_,Ms.exists(!0))),this},t.prototype.delete=function(t){this.df();var e=df(0,t,this.hf);return this._f=this._f.concat(new Xs(e.u_,Ms.ze())),this},t.prototype.commit=function(){return this.df(),this.ff=!0,this._f.length>0?Vh(Yh(this.hf),this._f):Promise.resolve()},t.prototype.df=function(){if(this.ff)throw new ar(or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),ef=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.c_,e,r)||this).u_=e,i.firestore=n,i.h_=r,i.nf=Yh(n),i}return Object(r.c)(e,t),e.uf=function(t,n,r){if(t.length%2!=0)throw new ar(or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.B()+" has "+t.length);return new e(new Mr(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ff(this.u_.path.F(),this.firestore,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.u_.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(zl("DocumentReference.collection","path",t),!t)throw new ar(or.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Fr.q(t);return new ff(this.u_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){return t instanceof e&&this.firestore===t.firestore&&this.u_.isEqual(t.u_)&&this.h_===t.h_},e.prototype.set=function(t,e){e=Hl("DocumentReference.set",e);var n=mf(this.h_,t,e),r=dh(this.firestore.af,"DocumentReference.set",this.u_,n,null!==this.h_,e);return Vh(this.nf,r.l_(this.u_,Ms.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return n="string"==typeof t||t instanceof Ql?mh(this.firestore.af,"DocumentReference.update",this.u_,t,e,r):ph(this.firestore.af,"DocumentReference.update",this.u_,t),Vh(this.nf,n.l_(this.u_,Ms.exists(!0)))},e.prototype.delete=function(){return Vh(this.nf,[new Xs(this.u_,Ms.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Uh(i[a])||(o=i[a],a++);var u={includeMetadataChanges:o.includeMetadataChanges};if(Uh(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}var l={next:function(t){i[a]&&i[a](r.wf(t))},error:i[a+1],complete:i[a+2]};return Lh(this.nf,lo(this.u_.path),u,l)},e.prototype.get=function(t){var e=this;return t&&"cache"===t.source?function(t,e){var n=this,i=new zo;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=gr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ka.Mi(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof so?n.resolve(i):i instanceof oo?n.resolve(null):n.reject(new ar(or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),o=sa(s,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,Dh(t)];case 1:return[2,n.apply(void 0,[s.sent(),e,i])]}}))}))})),i.promise}(this.nf,this.u_).then((function(t){return new rf(e.firestore,e.u_,t,!0,t instanceof so&&t.Je,e.h_)})):function(t,e,n){var i=this;void 0===n&&(n={});var s=new zo;return t.cs.ws((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var s=new Bl({next:function(s){e.ws((function(){return ca(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ar(or.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ar(or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new da(lo(n.path),s,{includeMetadataChanges:!0,Xs:!0});return ua(t,o)},[4,Fh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.cs,e,n,s])]}}))}))})),s.promise}(this.nf,this.u_,t).then((function(t){return e.wf(t)}))},e.prototype.withConverter=function(t){return new e(this.u_,this.firestore,t)},e.prototype.wf=function(t){var e=t.docs.get(this.u_);return new rf(this.firestore,this.u_,e,t.fromCache,t.hasPendingWrites,this.h_)},e}(ah),nf=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rf=function(){function t(t,e,n,r,i,s){this.hf=t,this.u_=e,this.Ef=n,this.Tf=r,this.If=i,this.h_=s}return t.prototype.data=function(t){var e=this;if(void 0===t&&(t={}),this.Ef){if(this.h_){var n=new sf(this.hf,this.u_,this.Ef,this.Tf,this.If,null);return this.h_.fromFirestore(n,t)}return new qh(this.hf.c_,t.serverTimestamps||"none",(function(t){return new ef(t,e.hf,null)}),(function(t){return new Ar(t)})).U_(this.Ef.rn())}},t.prototype.get=function(t,e){var n=this;if(void 0===e&&(e={}),this.Ef){var r=this.Ef.data().field(_h("DocumentSnapshot.get",t,this.u_));if(null!==r)return new qh(this.hf.c_,e.serverTimestamps||"none",(function(t){return new ef(t,n.hf,n.h_)}),(function(t){return new Ar(t)})).U_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.u_.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ef(this.u_,this.hf,this.h_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new nf(this.If,this.Tf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&this.Tf===e.Tf&&this.u_.isEqual(e.u_)&&(null===this.Ef?null===e.Ef:this.Ef.isEqual(e.Ef))&&this.h_===e.h_},t}(),sf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(rf);function of(t,e,n){if("string"==typeof n){if(""===n)throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(e)&&-1!==n.indexOf("/"))throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Fr.q(n));if(!Mr.X(r))throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Mi(t,new Mr(r))}if(n instanceof ah)return Mi(t,n.u_);throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+$l(n)+".")}function af(t,e){if(!Array.isArray(t)||0===t.length)throw new ar(or.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ar(or.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function uf(t,e,n){if(!n.isEqual(e))throw new ar(or.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function cf(t){if(fo(t)&&0===t.on.length)throw new ar(or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lf=function(){function t(t,e,n){this.mf=t,this.firestore=e,this.h_=n}return t.prototype.where=function(e,n,r){var i=_h("Query.where",e),s=function(t,e,n,r,i,s,o){var a;if(i.W()){if("array-contains"===s||"array-contains-any"===s)throw new ar(or.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){af(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(of(r,t,l[c]));a={arrayValue:{values:u}}}else a=of(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||af(o,s),a=gh(n,"Query.where",o,"in"===s||"not-in"===s);var h=To.create(i,s,a);return function(t,e){if(e.hn()){var n=mo(t);if(null!==n&&!n.isEqual(e.field))throw new ar(or.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=po(t);null!==r&&uf(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ar(or.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(this.mf,0,this.firestore.af,this.firestore.c_,i,n,r);return new t(function(t,e){var n=t.filters.concat([e]);return new uo(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.mf,s),this.firestore,this.h_)},t.prototype.orderBy=function(e,n){var r;if(void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new ar(or.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=_h("Query.orderBy",e),s=function(t,e,n){if(null!==t.startAt)throw new ar(or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ar(or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uo(e,n);return function(t,e){if(null===po(t)){var n=mo(t);null!==n&&uf(0,n,e.field)}}(t,r),r}(this.mf,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new uo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.mf,s),this.firestore,this.h_)},t.prototype.limit=function(e){return Wl("Query.limit",e),new t(bo(this.mf,e,"F"),this.firestore,this.h_)},t.prototype.limitToLast=function(e){return Wl("Query.limitToLast",e),new t(bo(this.mf,e,"L"),this.firestore,this.h_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAt",e,n,!0);return new t(wo(this.mf,i),this.firestore,this.h_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.startAfter",e,n,!1);return new t(wo(this.mf,i),this.firestore,this.h_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endBefore",e,n,!0);return new t(_o(this.mf,i),this.firestore,this.h_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.Af("Query.endAt",e,n,!1);return new t(_o(this.mf,i),this.firestore,this.h_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&Eo(this.mf,e.mf)&&this.h_===e.h_},t.prototype.withConverter=function(e){return new t(this.mf,this.firestore,e)},t.prototype.Af=function(t,e,n,r){if(e instanceof rf)return function(t,e,n,r,i){if(!r)throw new ar(or.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=yo(t);o<a.length;o++){var u=a[o];if(u.field.W())s.push(Mi(e,r.key));else{var c=r.field(u.field);if(Ti(c))throw new ar(or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.B();throw new ar(or.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Fo(s,i)}(this.mf,this.firestore.c_,t,e.Ef,r);var i=[e].concat(n);return function(t,e,n,r,i,s){var o=t.on;if(i.length>o.length)throw new ar(or.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.W()){if("string"!=typeof c)throw new ar(or.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!go(t)&&-1!==c.indexOf("/"))throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Fr.q(c));if(!Mr.X(l))throw new ar(or.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Mr(l);a.push(Mi(e,h))}else{var f=gh(n,r,c);a.push(f)}}return new Fo(a,s)}(this.mf,this.firestore.c_,this.firestore.af,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o={},a=0;if("object"!=typeof i[a]||Uh(i[a])||(o=i[a],a++),Uh(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}var c={next:function(t){i[a]&&i[a](new hf(r.firestore,r.mf,t,r.h_))},error:i[a+1],complete:i[a+2]};return cf(this.mf),Lh(Yh(this.firestore),this.mf,o,c)},t.prototype.get=function(t){var e=this;cf(this.mf);var n=Yh(this.firestore);return(t&&"cache"===t.source?function(t,e){var n=this,i=new zo;return t.cs.ws((function(){return Object(r.b)(n,void 0,void 0,(function(){var n;return Object(r.d)(this,(function(s){switch(s.label){case 0:return n=function(t,e,n){return Object(r.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ku(t,e,!0)];case 1:return i=r.sent(),s=new Hc(e,i.za),o=s.wh(i.documents),a=s.Di(o,!1),n.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=sa(u,"Failed to execute query '"+e+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))},[4,Dh(t)];case 1:return[2,n.apply(void 0,[s.sent(),e,i])]}}))}))})),i.promise}(n,this.mf):function(t,e,n){var i=this;void 0===n&&(n={});var s=new zo;return t.cs.ws((function(){return Object(r.b)(i,void 0,void 0,(function(){var i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var s=new Bl({next:function(n){e.ws((function(){return ca(t,o)})),n.fromCache&&"server"===r.source?i.reject(new ar(or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new da(n,s,{includeMetadataChanges:!0,Xs:!0});return ua(t,o)},[4,Fh(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.cs,e,n,s])]}}))}))})),s.promise}(n,this.mf,t)).then((function(t){return new hf(e.firestore,e.mf,t,e.h_)}))},t}(),hf=function(){function t(t,e,n,r){this.hf=t,this.Rf=e,this.Pf=n,this.h_=r,this.gf=null,this.yf=null,this.metadata=new nf(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Pf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Pf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Pf.docs.forEach((function(r){t.call(e,n.Vf(r,n.metadata.fromCache,n.Pf.Qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new lf(this.Rf,this.hf,this.h_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=!(!t||!t.includeMetadataChanges);if(e&&this.Pf.jt)throw new ar(or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.gf&&this.yf===e||(this.gf=function(t,e,n){if(t.Kt.P()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Kt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:pf(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.Pf,e,this.Vf.bind(this)),this.yf=e),this.gf},t.prototype.isEqual=function(e){return e instanceof t&&this.hf===e.hf&&Eo(this.Rf,e.Rf)&&this.Pf.isEqual(e.Pf)&&this.h_===e.h_},t.prototype.Vf=function(t,e,n){return new sf(this.hf,t.key,t,e,n,this.h_)},t}(),ff=function(t){function e(e,n,r){var i=this;if((i=t.call(this,lo(e),n,r)||this).pf=e,e.length%2!=1)throw new ar(or.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.B()+" has "+e.length);return i}return Object(r.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.mf.path.k()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.mf.path.F();return t.P()?null:new ef(new Mr(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.mf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){0===arguments.length&&(t=vr.t()),zl("CollectionReference.doc","path",t);var e=Fr.q(t);return ef.uf(this.mf.path.child(e),this.firestore,this.h_)},e.prototype.add=function(t){var e=this.h_?this.h_.toFirestore(t):t,n=this.doc();return new ef(n.u_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.pf,this.firestore,t)},e}(lf);function df(t,e,n){var r=function(t,e){if(!(t instanceof e)){if(e.name===t.constructor.name)throw new ar(or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$l(t);throw new ar(or.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}(e,ef);if(r.firestore!==n)throw new ar(or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function pf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr()}}function mf(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.c)(e,t),e.serverTimestamp=function(){var t=new th("serverTimestamp");return t.Jl="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Jl("deleteField");return t.Jl="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eh("arrayUnion",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new nh("arrayRemove",t)}).apply(void 0,t);return r.Jl="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new rh("increment",t)}(t);return n.Jl="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.a_.isEqual(t.a_)},e}(sh),yf={Firestore:Zh,GeoPoint:ih,Timestamp:Dr,Blob:Ar,Transaction:Xh,WriteBatch:tf,DocumentReference:ef,DocumentSnapshot:rf,Query:lf,QueryDocumentSnapshot:sf,QuerySnapshot:hf,CollectionReference:ff,FieldPath:Ql,FieldValue:gf,setLogLevel:function(t){ur.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function vf(t){!function(t,e){t.INTERNAL.registerComponent(new sr.a("firestore",(function(t){return function(t,e){return new Zh(t,e,new Qh)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},yf)))}(t),t.registerVersion("@firebase/firestore","2.0.1")}vf(i.a)},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.13",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof l?f(a.errors):[a]}}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof l?e=e.concat(f(a.errors)):e.push(a)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends p{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let v=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const w=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends p{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends v{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new w;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new w;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new w;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new w;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new v;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function C(t){return t&&"function"==typeof t.schedule}function A(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new O(t,this.project,this.thisArg))}}class O extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const x=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function k(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=k(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[g])return r=t,t=>{const e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return x(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,r};function j(t,e){return new v(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function F(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new v(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return j(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new v(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof v?t:new v(R(t))}class L extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function M(t,e){if(!e.closed)return t instanceof v?t.subscribe(e):R(t)(e)}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>F(t(n,r)).pipe(A((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends V{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new L(this),n=this.destination;n.add(e);const r=M(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function z(t=Number.POSITIVE_INFINITY){return U(y,t)}function H(t,e){return e?j(t,e):new v(x(t))}function G(){return function(t){return t.lift(new $(t))}}class ${constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new W(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class W extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class K extends v{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new S}function J(t){return{toString:t}.toString()}function X(t,e,n){return J(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const tt=X("Inject",t=>({token:t})),et=X("Optional"),nt=X("Self"),rt=X("SkipSelf");var it=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function ot(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ut(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return lt(t,t[ft])||lt(t,t[mt])}function lt(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(dt)||t.hasOwnProperty(gt))?t[dt]:null}const ft=st({\u0275prov:st}),dt=st({\u0275inj:st}),pt=st({\u0275provFallback:st}),mt=st({ngInjectableDef:st}),gt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function vt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const bt=st({__forward_ref__:st});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return yt(this())},t}function _t(t){return Et(t)?t():t}function Et(t){return"function"==typeof t&&t.hasOwnProperty(bt)&&t.__forward_ref__===wt}const St="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Ct="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Tt=St||At||It||Ct,Ot=st({\u0275cmp:st}),xt=st({\u0275dir:st}),kt=st({\u0275pipe:st}),Pt=st({\u0275mod:st}),Nt=st({\u0275loc:st}),Dt=st({\u0275fac:st}),Rt=st({__NG_ELEMENT_ID__:st});class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const Ft=new jt("INJECTOR",-1),Lt={},Vt=/\n/gm,Mt=st({provide:String,useValue:st});let Ut,qt=void 0;function Bt(t){const e=qt;return qt=t,e}function zt(t){const e=Ut;return Ut=t,e}function Ht(t,e=it.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?$t(t,void 0,e):qt.get(t,e&it.Optional?null:void 0,e)}function Gt(t,e=it.Default){return(Ut||Ht)(_t(t),e)}function $t(t,e,n){const r=ct(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&it.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Wt(t){const e=[];for(let n=0;n<t.length;n++){const r=_t(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=it.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof et||"Optional"===i.ngMetadataName||i===et?n|=it.Optional:i instanceof rt||"SkipSelf"===i.ngMetadataName||i===rt?n|=it.SkipSelf:i instanceof nt||"Self"===i.ngMetadataName||i===nt?n|=it.Self:t=i instanceof tt||i===tt?i.token:i}e.push(Gt(t,n))}else e.push(Gt(r))}return e}class Kt{get(t,e=Lt){if(e===Lt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Qt{}class Zt{}function Yt(t,e){t.forEach(t=>Array.isArray(t)?Yt(t,e):e(t))}function Jt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function te(t,e,n){let r=ne(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function ee(t,e){const n=ne(t,e);if(n>=0)return t[1|n]}function ne(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var re=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),ie=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const se={},oe=[];let ae=0;function ue(t){return J(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||oe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ie.Emulated,id:"c",styles:t.styles||oe,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=ae++,n.inputs=de(t.inputs,e),n.outputs=de(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ce):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(le):null,n})}function ce(t){return ge(t)||function(t){return t[xt]||null}(t)}function le(t){return function(t){return t[kt]||null}(t)}const he={};function fe(t){const e={type:t.type,bootstrap:t.bootstrap||oe,declarations:t.declarations||oe,imports:t.imports||oe,exports:t.exports||oe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&J(()=>{he[t.id]=t.type}),e}function de(t,e){if(null==t)return se;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const pe=ue;function me(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ge(t){return t[Ot]||null}function ye(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}function ve(t,e){const n=t[Pt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function be(t){return Array.isArray(t)&&"object"==typeof t[1]}function we(t){return Array.isArray(t)&&!0===t[1]}function _e(t){return 0!=(8&t.flags)}function Ee(t){return 2==(2&t.flags)}function Se(t){return 1==(1&t.flags)}function Ie(t){return null!==t.template}function Ce(t){return 0!=(512&t[2])}class Ae{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Te(){return Oe}function Oe(t){return t.type.prototype.ngOnChanges&&(t.setInput=ke),xe}function xe(){const t=Pe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===se)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ke(t,e,n,r){const i=Pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:se,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ae(u&&u.currentValue,e,o===se),t[r]=e}function Pe(t){return t.__ngSimpleChanges__||null}Te.ngInherit=!0;let Ne=void 0;function De(t){return!!t.listen}const Re={createRenderer:(t,e)=>void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0};function je(t){for(;Array.isArray(t);)t=t[0];return t}function Fe(t,e){return je(e[t+20])}function Le(t,e){return je(e[t.index])}function Ve(t,e){return t.data[e+20]}function Me(t,e){return t[e+20]}function Ue(t,e){const n=e[t];return be(n)?n:n[0]}function qe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Be(t){return 128==(128&t[2])}function ze(t,e){return null===t||null==e?null:t[e]}function He(t){t[18]=0}function Ge(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $e={lFrame:dn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function We(){return $e.bindingsEnabled}function Ke(){return $e.lFrame.lView}function Qe(){return $e.lFrame.tView}function Ze(t){$e.lFrame.contextLView=t}function Ye(){return $e.lFrame.currentTNode}function Je(t,e){$e.lFrame.currentTNode=t,$e.lFrame.isParent=e}function Xe(){return $e.lFrame.isParent}function tn(){return $e.checkNoChangesMode}function en(t){$e.checkNoChangesMode=t}function nn(){const t=$e.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rn(){return $e.lFrame.bindingIndex}function sn(){return $e.lFrame.bindingIndex++}function on(t){const e=$e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function an(t,e){const n=$e.lFrame;n.bindingIndex=n.bindingRootIndex=t,un(e)}function un(t){$e.lFrame.currentDirectiveIndex=t}function cn(t){$e.lFrame.currentQueryIndex=t}function ln(t,e){const n=fn();$e.lFrame=n,n.currentTNode=e,n.lView=t}function hn(t){const e=fn(),n=t[1];$e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function fn(){const t=$e.lFrame,e=null===t?null:t.child;return null===e?dn(t):e}function dn(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function pn(){const t=$e.lFrame;return $e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const mn=pn;function gn(){const t=pn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yn(){return $e.lFrame.selectedIndex}function vn(t){$e.lFrame.selectedIndex=t}function bn(){const t=$e.lFrame;return Ve(t.tView,t.selectedIndex)}function wn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _n(t,e,n){In(t,e,3,n)}function En(t,e,n,r){(3&t[2])===n&&In(t,e,n,r)}function Sn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function In(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Cn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Cn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class An{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Tn(t,e,n){const r=De(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];xn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function On(t){return 3===t||4===t||6===t}function xn(t){return 64===t.charCodeAt(0)}function kn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Pn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Pn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Nn(t){return-1!==t}function Dn(t){return 32767&t}function Rn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}function jn(t){return"string"==typeof t?t:null==t?"":""+t}function Fn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():jn(t)}const Ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function Vn(t){return t instanceof Function?t():t}let Mn=!0;function Un(t){const e=Mn;return Mn=t,e}let qn=0;function Bn(t,e){const n=Hn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,zn(r.data,t),zn(e,null),zn(r.blueprint,null));const i=Gn(t,e),s=t.injectorIndex;if(Nn(i)){const t=Dn(i),n=Rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function zn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Hn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function $n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Rt)&&(r=n[Rt]),null==r&&(r=n[Rt]=qn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function Wn(t,e,n,r=it.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Rt)?t[Rt]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){ln(e,t);try{const t=i();if(null!=t||r&it.Optional)return t;throw new Error(`No provider for ${Fn(n)}!`)}finally{mn()}}else if("number"==typeof i){if(-1===i)return new Xn(t,e);let s=null,o=Hn(t,e),a=-1,u=r&it.Host?e[16][6]:null;for((-1===o||r&it.SkipSelf)&&(a=-1===o?Gn(t,e):e[o+8],-1!==a&&Jn(r,!1)?(s=e[1],o=Dn(a),e=Rn(a,e)):o=-1);-1!==o;){const t=e[1];if(Yn(i,o,t.data)){const t=Qn(o,e,n,s,r,u);if(t!==Kn)return t}a=e[o+8],-1!==a&&Jn(r,e[1].data[o+8]===u)&&Yn(i,o,e)?(s=t,o=Dn(a),e=Rn(a,e)):o=-1}}}if(r&it.Optional&&void 0===i&&(i=null),0==(r&(it.Self|it.Host))){const t=e[9],s=zt(void 0);try{return t?t.get(n,i,r&it.Optional):$t(n,i,r&it.Optional)}finally{zt(s)}}if(r&it.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Fn(n)}]`)}const Kn={};function Qn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ie(t)&&t.type===n)return u}return null}(a,o,n,null==r?Ee(a)&&Mn:r!=o&&2===a.type,i&it.Host&&s===a);return null!==u?Zn(e,o,u,a):Kn}function Zn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof An){const o=i;if(o.resolving)throw new Error("Circular dep for "+Fn(s[n]));const a=Un(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?zt(o.injectImpl):null;ln(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Oe(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&zt(u),Un(a),o.resolving=!1,mn()}}return i}function Yn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Jn(t,e){return!(t&it.Self||t&it.Host&&e)}class Xn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Wn(this._tNode,this._lView,t,void 0,e)}}function tr(t){const e=t;if(Et(t))return()=>{const t=tr(_t(e));return t?t():null};let n=ye(e);if(null===n){const t=ht(e);n=t&&t.factory}return n||null}function er(t){return J(()=>{const e=t.prototype.constructor,n=e[Dt]||tr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Dt]||tr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nr(t){return t.ngDebugContext}function rr(t){return t.ngOriginalError}function ir(t,...e){t.error(...e)}class sr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?nr(t)?nr(t):this._findContext(rr(t)):null}_findOriginalError(t){let e=rr(t);for(;e&&rr(e);)e=rr(e);return e}}class or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}function ar(t){return t instanceof or?t.changingThisBreaksApplicationSecurity:t}let ur=!0,cr=!1;function lr(){return cr=!0,ur}const hr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var dr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function pr(t){const e=function(){const t=Ke();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":function(t,e){const n=function(t){return t instanceof or&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ar(t):(n=jn(t),(n=String(n)).match(hr)||n.match(fr)?n:(lr()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function mr(t,e){t.__ngContext__=e}function gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vr(t){return 0===t.type&&"ng-template"!==t.tagName}function br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function wr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(On(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!br(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yr(t.attrs,c,n)){if(_r(r))return!1;o=!0}continue}const l=Er(8&r?"class":u,i,vr(t),n);if(-1===l){if(_r(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==gr(e,c,0)||2&r&&c!==t){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(t){return 0==(1&t)}function Er(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Sr(t,e,n=!1){for(let r=0;r<e.length;r++)if(wr(t,e[r],n))return!0;return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Cr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||_r(o)||(e+=Ir(s,i),i=""),r=o,s=s||!_r(r);n++}return""!==i&&(e+=Ir(s,i)),e}const Ar={};function Tr(t){const e=t[3];return we(e)?e[3]:e}function Or(t){return kr(t[13])}function xr(t){return kr(t[4])}function kr(t){for(;null!==t&&!we(t);)t=t[4];return t}function Pr(t){Nr(Qe(),Ke(),yn()+t,tn())}function Nr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_n(e,r,n)}else{const r=t.preOrderHooks;null!==r&&En(e,r,0,n)}vn(n)}function Dr(t,e){return t<<17|e<<2}function Rr(t){return t>>17&32767}function jr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Lr(t,e){return-131069&t|e<<2}function Vr(t){return 1|t}function Mr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];cn(i),n.contentQueries(2,e[s],s)}}}function Ur(t,e,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function qr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,He(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Br(t,e,n,r,i){const s=e+20,o=t.data[s]||function(t,e,n,r,i){const s=Ye(),o=Xe(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,r,i);return Je(o,!0),o}function zr(t,e,n){hn(e);try{const r=t.viewQuery;null!==r&&vi(1,r,n);const i=t.template;null!==i&&$r(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Mr(t,e),t.staticViewQueries&&vi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)di(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,gn()}}function Hr(t,e,n,r){const i=e[2];if(256==(256&i))return;hn(e);const s=tn();try{He(e),$e.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&$r(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_n(e,n,null)}else{const n=t.preOrderHooks;null!==n&&En(e,n,0,null),Sn(e,0)}if(function(t){for(let e=Or(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ge(r,1),n[2]|=1024}}}(e),function(t){for(let e=Or(t);null!==e;e=xr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Be(n)&&Hr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Mr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_n(e,n)}else{const n=t.contentHooks;null!==n&&En(e,n,1),Sn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,vn(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(an(r,i),o(2,e[i])),i++)}}}finally{vn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&vi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&_n(e,n)}else{const n=t.viewHooks;null!==n&&En(e,n,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ge(e[3],-1))}finally{gn()}}function Gr(t,e,n,r){const i=e[10],s=!tn(),o=4==(4&e[2]);try{s&&!o&&i.begin&&i.begin(),o&&zr(t,e,r),Hr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function $r(t,e,n,r,i){const s=yn();try{vn(-1),2&r&&e.length>20&&Nr(t,e,0,tn()),n(r,i)}finally{vn(s)}}function Wr(t,e,n){We()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Bn(n,e),mr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ie(r);s&&ui(e,n,r);const u=Zn(e,t,a,n);mr(u,e),null!==o&&ci(0,a-i,u,r,0,o),s&&(Ue(n.index,e)[8]=u)}}(t,e,n,Le(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=$e.lFrame.currentDirectiveIndex;try{vn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];un(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ni(r,i):o&&s.push(null)}}finally{vn(-1),un(u)}}(t,e,n))}function Kr(t,e,n=Le){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Qr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Yr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Jr(t,e,n,r,i,s,o,a){const u=Le(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Ei(t,n,c,r,i),Ee(e)&&function(t,e){const n=Ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,De(s)?s.setProperty(u,r,i):xn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Xr(t,e,n,r){let i=!1;if(We()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Sr(n,o.selectors,!1)&&(i||(i=[]),$n(Bn(n,e),t,o.type),Ie(o)?(ii(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,oi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ri(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=kn(n.mergedAttrs,c.hostAttrs),ai(t,e,c),si(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),ti(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||vr(e)?null:li(n,i);s.push(c),o=Yr(n,u,o),a=Yr(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ei(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=kn(n.mergedAttrs,n.attrs),i}function ti(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ei(t,e,n){for(let r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ri(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ii(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function si(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ie(e)&&(n[""]=t)}}function oi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ai(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ye(n.type)),i=new An(r,Ie(n),null);t.blueprint.push(i),e.push(i)}function ui(t,e,n){const r=Le(e,t),i=Qr(n),s=t[10],o=pi(t,qr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function ci(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function li(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function hi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fi(t,e){const n=Ue(e,t);if(Be(n)){const t=n[1];80&n[2]?Hr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Or(e);null!==r;r=xr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Hr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ue(n[r],e);Be(i)&&i[5]>0&&t(i)}}(n)}}function di(t,e){const n=Ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zr(r,n,n[8])}function pi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function mi(t){for(;t;){t[2]|=64;const e=Tr(t);if(Ce(t)&&!e)return t;t=e}return null}function gi(t,e,n){const r=e[10];r.begin&&r.begin();try{Hr(t,e,t.template,n)}catch(i){throw _i(e,i),i}finally{r.end&&r.end()}}function yi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qe(n),i=r[1];Gr(i,r,i.template,n)}}(t[8])}function vi(t,e,n){cn(0),e(t,n)}const bi=(()=>Promise.resolve(null))();function wi(t){return t[7]||(t[7]=[])}function _i(t,e){const n=t[9],r=n?n.get(sr,null):null;r&&r.handleError(e)}function Ei(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Si(t,e,n){const r=Fe(e,t),i=t[11];De(i)?i.setValue(r,n):r.textContent=n}function Ii(t,e,n,r,i){if(null!=r){let s,o=!1;we(r)?s=r:be(r)&&(o=!0,r=r[0]);const a=je(r);0===t&&null!==n?null==i?ki(e,n,a):xi(e,n,a,i||null):1===t&&null!==n?xi(e,n,a,i||null):2===t?function(t,e,n){const r=Ni(t,e);r&&function(t,e,n,r){De(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==je(n)&&Ii(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];ji(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ci(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ge(i,-1)),n.splice(r,1)}function Ai(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ci(s,r),e>0&&(t[n-1][4]=r[4]);const o=Xt(t,10+e);ji(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ti(t,e){if(!(256&e[2])){const n=e[11];De(n)&&n.destroyNode&&ji(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Oi(t[1],t);for(;e;){let n=null;if(be(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)be(e)&&Oi(e[1],e),e=e[3];null===e&&(e=t),be(e)&&Oi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Oi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof An)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):je(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&De(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&we(e[3])){n!==e[3]&&Ci(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function xi(t,e,n,r){De(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ki(t,e,n){De(t)?t.appendChild(e,n):e.appendChild(n)}function Pi(t,e,n,r){null!==r?xi(t,e,n,r):ki(t,e,n)}function Ni(t,e){return De(t)?t.parentNode(e):e.parentNode}function Di(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return Le(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ie.ShadowDom&&n!==ie.Native)return null}return Le(r,n)}(t,r,e);if(null!=i){const t=e[11],s=function(t,e){return 3===t.type||4===t.type?Le(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Pi(t,i,n[e],s);else Pi(t,i,n,s)}}function Ri(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&mr(je(a),r),n.flags|=4),64!=(64&n.flags)&&(3===u||4===u?(Ri(t,e,n.child,r,i,s,!1),Ii(e,t,i,a,s)):1===u?Fi(t,e,r,n,i,s):Ii(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function ji(t,e,n,r,i,s){Ri(n,r,t.firstChild,e,i,s,!1)}function Fi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ii(e,t,i,a[u],s);else Ri(t,e,a,o[3],i,s,!0)}function Li(t,e,n){De(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vi(t,e,n){De(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Mi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(je(o)),we(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(3===a||4===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Tr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ti(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=wi(e);i.push(null),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}(this._lView[1],this._lView,0,t)}markForCheck(){mi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){en(!0);try{gi(t,e,n)}finally{en(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ji(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ui extends Mi{constructor(t){super(t),this._view=t}detectChanges(){yi(this._view)}checkNoChanges(){!function(t){en(!0);try{yi(t)}finally{en(!1)}}(this._view)}get context(){return null}}let qi,Bi,zi;function Hi(t,e,n){return qi||(qi=class extends t{}),new qi(Le(e,n))}let Gi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$i(),t})();const $i=function(t=!1){return function(t,e,n){if(!n&&Ee(t)){const n=Ue(t.index,e);return new Mi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Mi(e[16],e):null}(Ye(),Ke(),t)},Wi=Function,Ki=new jt("Set Injector scope."),Qi={},Zi={},Yi=[];let Ji=void 0;function Xi(){return void 0===Ji&&(Ji=new Kt),Ji}function ts(t,e=null,n=null,r){return new es(t,n,e||Xi(),r)}class es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Yt(e,n=>this.processProvider(n,t,e)),Yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(Ft,is(void 0,this));const s=this.records.get(Ki);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Lt,n=it.Default){this.assertNotDestroyed();const r=Bt(this);try{if(!(n&it.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof jt)&&ct(t);e=n&&this.injectableDefInScope(n)?is(ns(t),Qi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&it.Self?Xi():this.parent).get(t,e=n&it.Optional&&e===Lt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(yt(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):yt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Vt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Bt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_t(t)))return!1;let r=ht(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=ht(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Yt(r,t=>this.processProvider(t,n,r||Yi))}}this.injectorDefTypes.add(s),this.records.set(s,is(r.factory,Qi));const a=r.providers;if(null!=a&&!o){const e=t;Yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=os(t=_t(t))?t:_t(t&&t.provide);const i=function(t,e,n){return ss(t)?is(void 0,t.useValue):is(rs(t),Qi)}(t);if(os(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=is(void 0,Qi,!0),e.factory=()=>Wt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi&&(e.value=Zi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ns(t){const e=ct(t),n=null!==e?e.factory:ye(t);if(null!==n)return n;const r=ht(t);if(null!==r)return r.factory;if(t instanceof jt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[ft]||t[mt]||t[pt]&&t[pt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function rs(t,e,n){let r=void 0;if(os(t)){const e=_t(t);return ye(e)||ns(e)}if(ss(t))r=()=>_t(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Wt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gt(_t(t.useExisting));else{const e=_t(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ye(e)||ns(e);r=()=>new e(...Wt(t.deps))}var i;return r}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ss(t){return null!==t&&"object"==typeof t&&Mt in t}function os(t){return"function"==typeof t}const as=function(t,e,n){return function(t,e=null,n=null,r){const i=ts(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let us=(()=>{class t{static create(t,e){return Array.isArray(t)?as(t,e,""):as(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Lt,t.NULL=new Kt,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>Gt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})();const cs=new jt("AnalyzeForEntryComponents");function ls(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=vt(i,t):2==s&&(r=vt(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function hs(t,e){const n=qe(t)[1],r=n.data.length-1;wn(n,{directiveStart:r,directiveEnd:r+1})}function fs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ie(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ds(t.inputs),e.declaredInputs=ds(t.declaredInputs),e.outputs=ds(t.outputs);const n=i.hostBindings;n&&gs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ps(t,s),o&&ms(t,o),ot(t.inputs,i.inputs),ot(t.declaredInputs,i.declaredInputs),ot(t.outputs,i.outputs),Ie(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===fs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kn(i.hostAttrs,n=kn(n,i.hostAttrs))}}(r)}function ds(t){return t===se?{}:t===oe?[]:t}function ps(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ms(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function gs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let ys=null;function vs(){if(!ys){const t=Tt.Symbol;if(t&&t.iterator)ys=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ys=n)}}}return ys}class bs{constructor(t){this.wrapped=t}static wrap(t){return new bs(t)}static unwrap(t){return bs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof bs}}function ws(t){return!!_s(t)&&(Array.isArray(t)||!(t instanceof Map)&&vs()in t)}function _s(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Es(t,e,n){return t[e]=n}function Ss(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,r){const i=Ss(t,e,n);return Ss(t,e+1,r)||i}function Cs(t,e,n,r){const i=Ke();return Ss(i,sn(),e)&&(Qe(),function(t,e,n,r,i,s){const o=Le(t,e),a=e[11];if(null==r)De(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?jn(r):i(r,t.tagName||"",n);De(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(bn(),i,t,e,n,r)),Cs}function As(t,e,n,r){return Ss(t,sn(),n)?e+jn(n)+r:Ar}function Ts(t,e,n,r,i,s,o,a){const u=Ke(),c=Qe(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Br(e,t,0,o||null,ze(c,a));Xr(e,n,l,ze(c,u)),wn(e,l);const h=l.tViews=Zr(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];Je(h,!1);const f=u[11].createComment("");Di(c,u,f,h),mr(f,u),pi(u,u[l]=hi(f,u,f,h)),Se(h)&&Wr(c,u,h),null!=o&&Kr(u,h,a)}function Os(t,e=it.Default){const n=Ke();return null===n?Gt(t,e):Wn(Ye(),n,_t(t),e)}function xs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(On(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ye(),t)}function ks(t,e,n){const r=Ke();return Ss(r,sn(),e)&&Jr(Qe(),bn(),r,t,e,r[11],n,!1),ks}function Ps(t,e,n,r,i){const s=i?"class":"style";Ei(t,n,e.inputs[s],s,r)}function Ns(t,e,n,r){const i=Ke(),s=Qe(),o=20+t,a=i[11],u=i[o]=Ur(e,a,$e.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Br(e,t,2,i,ze(a,s));return Xr(e,n,u,ze(a,o)),null!==u.attrs&&ls(u,u.attrs,!1),null!==u.mergedAttrs&&ls(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];Je(c,!0);const l=c.mergedAttrs;null!==l&&Tn(a,u,l);const h=c.classes;null!==h&&Vi(a,u,h);const f=c.styles;null!==f&&Li(a,u,f),Di(s,i,u,c),0===$e.lFrame.elementDepthCount&&mr(u,i),$e.lFrame.elementDepthCount++,Se(c)&&(Wr(s,i,c),function(t,e,n){if(_e(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Kr(i,c)}function Ds(){let t=Ye();Xe()?$e.lFrame.isParent=!1:(t=t.parent,Je(t,!1));const e=t;$e.lFrame.elementDepthCount--;const n=Qe();n.firstCreatePass&&(wn(n,t),_e(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ps(n,e,Ke(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ps(n,e,Ke(),e.stylesWithoutHost,!1)}function Rs(t,e,n,r){Ns(t,e,n,r),Ds()}function js(){return Ke()}function Fs(t){return!!t&&"function"==typeof t.then}function Ls(t){return!!t&&"function"==typeof t.subscribe}function Vs(t,e,n=!1,r){const i=Ke(),s=Qe(),o=Ye();return function(t,e,n,r,i,s,o=!1,a){const u=Se(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=wi(e);let h=!0;if(2===r.type){const f=Le(r,e),d=a?a(f):se,p=d.target||f,m=l.length,g=a?t=>a(je(t[r.index])).target:r.index;if(De(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Us(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=Us(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Vs}function Ms(t,e,n){try{return!1!==e(n)}catch(r){return _i(t,r),!1}}function Us(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Ue(t.index,e):e;0==(32&e[2])&&mi(o);let a=Ms(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Ms(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function qs(t=1){return function(t){return($e.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$e.lFrame.contextLView))[8]}(t)}function Bs(t,e,n){return zs(t,"",e,"",n),Bs}function zs(t,e,n,r,i){const s=Ke(),o=As(s,e,n,r);return o!==Ar&&Jr(Qe(),bn(),s,t,o,s[11],i,!1),zs}const Hs=[];function Gs(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Rr(s):Fr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];$s(t[a],e)&&(u=!0,t[a+1]=r?Vr(n):jr(n)),a=r?Rr(n):Fr(n)}u&&(t[n+1]=r?jr(s):Vr(s))}function $s(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ne(t,e)>=0}const Ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ks(t){return t.substring(Ws.key,Ws.keyEnd)}function Qs(t,e){const n=Ws.textEnd;return n===e?-1:(e=Ws.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ws.key=e,n),Zs(t,e,n))}function Zs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ys(t,e){return function(t,e,n,r){const i=Ke(),s=Qe(),o=on(2);s.firstUpdatePass&&to(s,t,o,true),e!==Ar&&Ss(i,o,e)&&ro(s,s.data[yn()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=yt(ar(t))),t}(e),true,o)}(t,e),Ys}function Js(t,e){for(let n=function(t){return function(t){Ws.key=0,Ws.keyEnd=0,Ws.value=0,Ws.valueEnd=0,Ws.textEnd=t.length}(t),Qs(t,Zs(t,0,Ws.textEnd))}(e);n>=0;n=Qs(e,n))te(t,Ks(e),!0)}function Xs(t,e){return e>=t.expandoStartIndex}function to(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[yn()+20],o=Xs(t,n);oo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=$e.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=no(n=eo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=eo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Rr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=eo(null,t,e,n[1],r),n=no(n,e.attrs,r),function(t,e,n,r){t[Rr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=no(r,t[s].hostAttrs,n);return no(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Rr(o),u=Fr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ne(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Rr(t[a+1]);t[r+1]=Dr(e,a),0!==e&&(t[e+1]=Lr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Dr(a,0),0!==a&&(t[a+1]=Lr(t[a+1],r)),a=r;else t[r+1]=Dr(u,0),0===a?a=r:t[u+1]=Lr(t[u+1],r),u=r;l&&(t[r+1]=jr(t[r+1])),Gs(t,c,r,!0),Gs(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ne(s,e)>=0&&(n[r+1]=Vr(n[r+1]))}(e,c,t,r,s),o=Dr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function eo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=no(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function no(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),te(t,o,!!n||e[++s]))}return void 0===t?null:t}function ro(t,e,n,r,i,s,o,a){if(2!==e.type)return;const u=t.data,c=u[a+1];so(1==(1&c)?io(u,e,n,i,Fr(c),o):void 0)||(so(s)||2==(2&c)&&(s=io(u,null,n,i,a,o)),function(t,e,n,r,i){const s=De(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Fe(yn(),n),i,s))}function io(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Ar&&(l=c?Hs:void 0);let h=c?ee(l,r):u===r?l:void 0;if(s&&!so(h)&&(h=ee(e,r)),so(h)&&(a=h,o))return a;const f=t[i+1];i=o?Rr(f):Fr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ee(t,r))}return a}function so(t){return void 0!==t}function oo(t,e){return 0!=(t.flags&(e?16:32))}function ao(t,e=""){const n=Ke(),r=Qe(),i=t+20,s=r.firstCreatePass?Br(r,t,2,null,null):r.data[i],o=n[i]=function(t,e){return De(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Di(r,n,o,s),Je(s,!1)}function uo(t){return co("",t,""),uo}function co(t,e,n){const r=Ke(),i=As(r,t,e,n);return i!==Ar&&Si(r,yn(),i),co}function lo(t,e,n,r,i){const s=Ke(),o=function(t,e,n,r,i,s){const o=Is(t,rn(),n,i);return on(2),o?e+jn(n)+r+jn(i)+s:Ar}(s,t,e,n,r,i);return o!==Ar&&Si(s,yn(),o),lo}function ho(t,e,n){const r=Ke();return Ss(r,sn(),e)&&Jr(Qe(),bn(),r,t,e,r[11],n,!0),ho}function fo(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let s=0;s<t.length;s++)fo(t[s],e,n,r,i);else{const s=Qe(),o=Ke();let a=os(t)?t:_t(t.provide),u=rs(t);const c=Ye(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(os(t)||!t.multi){const r=new An(u,i,Os),d=go(a,e,i?l:l+f,h);-1===d?($n(Bn(c,o),s,a),po(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=go(a,e,l+f,h),p=go(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){$n(Bn(c,o),s,a);const l=function(t,e,n,r,i){const s=new An(t,n,Os);return s.multi=[],s.index=e,s.componentProviders=0,mo(s,i,r&&!n),s}(i?vo:yo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),po(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else po(s,t,d>-1?d:p,mo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function po(t,e,n,r){const i=os(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function mo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function go(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function yo(t,e,n,r){return bo(this.multi,[])}function vo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Zn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),bo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],bo(i,s);return s}function bo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function wo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qe();if(r.firstCreatePass){const i=Ie(t);fo(n,r.data,r.blueprint,i,!0),fo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class _o{}class Eo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let So=(()=>{class t{}return t.NULL=new Eo,t})(),Io=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Co(t),t})();const Co=function(t){return Hi(t,Ye(),Ke())};class Ao{}var To=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Oo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xo(),t})();const xo=function(){const t=Ke(),e=Ue(Ye().index,t);return function(t){const e=t[11];if(De(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(be(e)?e:t)};let ko=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Po{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const No=new Po("10.1.6");class Do{constructor(){}supports(t){return ws(t)}create(t){return new jo(t)}}const Ro=(t,e)=>e;class jo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ro}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Mo(n,r,i)?e:n,o=Mo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ws(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Fo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Vo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Fo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Vo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Lo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mo(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Uo{constructor(){}supports(t){return t instanceof Map||_s(t)}create(){return new qo}}class qo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||_s(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Bo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Bo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let zo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Do])}),t})(),Ho=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new rt,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Uo])}),t})();const Go=[new Uo],$o=new zo([new Do]),Wo=new Ho(Go);let Ko=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Qo(t,Io),t})();const Qo=function(t,e){return function(t,e,n,r){return Bi||(Bi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=qr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zr(e,n,t),new Mi(n)}}),0===n.type?new Bi(r,n,Hi(e,n,r)):null}(t,e,Ye(),Ke())};let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Yo(t,Io),t})();const Yo=function(t,e){return function(t,e,n,r){let i;zi||(zi=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Hi(e,this._hostTNode,this._hostView)}get injector(){return new Xn(this._hostTNode,this._hostView)}get parentInjector(){const t=Gn(this._hostTNode,this._hostView);if(Nn(t)){const e=Rn(t,this._hostView),n=Dn(t);return new Xn(e[1].data[n+8],e)}return new Xn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Qt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),we(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new zi(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Jt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=function t(e,n){const r=10+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return Le(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return we(e)?t(-1,e):je(e)}}{const t=n[16],i=t[6],s=Tr(t),o=i.projection[r.projection];return null!=o?e(s,o):e(n,r.next)}}return null}(e,i)}return n[7]}(i,s),a=n[11],u=Ni(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ji(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),Jt(s[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);n&&(Xt(this._lContainer[8],e),Ti(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=Xt(this._lContainer[8],e)?new Mi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(we(s))i=s;else{let t;if(3===n.type)t=je(s);else if(t=r[11].createComment(""),Ce(r)){const e=r[11],i=Le(n,r);xi(e,Ni(e,i),t,function(t,e){return De(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Di(r[1],r,t,n);r[n.index]=i=hi(s,r,t,n),pi(r,i)}return new zi(i,n,r)}(t,e,Ye(),Ke())},Jo={};class Xo extends So{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ge(t);return new na(e,this.ngModule)}}function ta(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ea=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ln});class na extends _o{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Cr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ta(this.componentDef.inputs)}get outputs(){return ta(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Jo,i);return s!==Jo||r===Jo?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ao,Re),o=i.get(ko,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(De(t))return t.selectRootElement(e,n===ie.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ln,clean:bi,playerHandler:null,flags:0},f=Zr(0,null,null,1,0,null,null,null,null,null),d=qr(null,f,h,l,null,null,s,a,o,i);let p,m;hn(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Br(o,0,2,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ls(a,u,!0),null!==t&&(Tn(i,t,u),null!==a.classes&&Vi(i,t,a.classes),null!==a.styles&&Li(i,t,a.styles)));const c=r.createRenderer(t,e),l=qr(n,Qr(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&($n(Bn(a,n),o,e.type),ii(o,a),oi(a,n.length,1)),pi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Tn(a,c,["ng-version",No.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Tn(a,c,t),e&&e.length>0&&Vi(a,c,e.join(" "))}if(m=Ve(f,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ye();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ri(t,r,1),ai(t,e,n));const i=Zn(e,t,e.length-1,r);mr(i,e);const s=Le(r,e);return s&&mr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ye();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){vn(a.index-20);const t=n[1];ti(t,e),ei(t,n,e.hostVars),ni(e,o)}return o}(t,this.componentDef,d,h,[hs]),zr(f,d,null)}finally{gn()}return new ra(this.componentType,p,Hi(Io,m,d),d,m)}}class ra extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ui(r),this.componentType=t}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const ia=void 0;var sa=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let oa={};function aa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ua(e);if(n)return n;const r=e.split("-")[0];if(n=ua(r),n)return n;if("en"===r)return sa;throw new Error(`Missing locale data for the locale "${t}".`)}function ua(t){return t in oa||(oa[t]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[t]),oa[t]}var ca=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let la="en-US";function ha(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(la=t.toLowerCase().replace(/_/g,"-"))}const fa=new Map;class da extends Qt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Xo(this);const n=ve(t),r=t[Nt]||null;r&&ha(r),this._bootstrapComponents=Vn(n.bootstrap),this._r3Injector=ts(t,e,[{provide:Qt,useValue:this},{provide:So,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=us.THROW_IF_NOT_FOUND,n=it.Default){return t===us||t===Qt||t===Ft?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class pa extends Zt{constructor(t){super(),this.moduleType=t,null!==ve(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,fa.get(t),e),fa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new da(this.moduleType,t)}}function ma(t,e){const n=t[e];return n===Ar?void 0:n}function ga(t,e){const n=Qe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ye(r.type)),o=zt(Os);try{const e=Un(!1),r=s();return Un(e),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ke(),t,r),r}finally{zt(o)}}function ya(t,e,n){const r=Ke(),i=Me(r,t);return wa(r,ba(r,t)?function(t,e,n,r,i,s){const o=e+n;return Ss(t,o,i)?Es(t,o+1,s?r.call(s,i):r(i)):ma(t,o+1)}(r,nn(),e,i.transform,n,i):i.transform(n))}function va(t,e,n,r){const i=Ke(),s=Me(i,t);return wa(i,ba(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return Is(t,a,i,s)?Es(t,a+2,o?r.call(o,i,s):r(i,s)):ma(t,a+2)}(i,nn(),e,s.transform,n,r,s):s.transform(n,r))}function ba(t,e){return t[1].data[e+20].pure}function wa(t,e){return bs.isWrapped(e)&&(e=bs.unwrap(e),t[rn()]=Ar),e}const _a=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}},Ea=new jt("Application Initializer");let Sa=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Fs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ea,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ia=new jt("AppId"),Ca={provide:Ia,useFactory:function(){return`${Aa()}${Aa()}${Aa()}`},deps:[]};function Aa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ta=new jt("Platform Initializer"),Oa=new jt("Platform ID"),xa=new jt("appBootstrapListener");let ka=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Pa=new jt("LocaleId"),Na=new jt("DefaultCurrencyCode");class Da{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ra=function(t){return new pa(t)},ja=Ra,Fa=function(t){return Promise.resolve(Ra(t))},La=function(t){const e=Ra(t),n=Vn(ve(t).declarations).reduce((t,e)=>{const n=ge(e);return n&&t.push(new na(n)),t},[]);return new Da(e,n)},Va=La,Ma=function(t){return Promise.resolve(La(t))};let Ua=(()=>{class t{constructor(){this.compileModuleSync=ja,this.compileModuleAsync=Fa,this.compileModuleAndAllComponentsSync=Va,this.compileModuleAndAllComponentsAsync=Ma}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const qa=(()=>Promise.resolve(0))();function Ba(t){"undefined"==typeof Zone?qa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class za{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Tt.requestAnimationFrame,e=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Wa(t),$a(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Wa(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ka(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Qa(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ka(t),e.invoke(r,i,s,o,a)}finally{Qa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Wa(t),$a(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!za.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(za.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ga,Ha,Ha);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ha(){}const Ga={};function $a(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wa(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ka(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qa(t){t._nesting--,$a(t)}class Za{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ya=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{za.assertNotInAngularZone(),Ba(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ba(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Gt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ja=(()=>{class t{constructor(){this._applications=new Map,eu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return eu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Xa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let tu,eu=new Xa;const nu=new jt("AllowMultipleToken");class ru{constructor(t,e){this.name=t,this.token=e}}function iu(t,e,n=[]){const r="Platform: "+e,i=new jt(r);return(e=[])=>{let s=su();if(!s||s.injector.get(nu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ki,useValue:"platform"});!function(t){if(tu&&!tu.destroyed&&!tu.injector.get(nu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tu=t.get(ou);const e=t.get(Ta,null);e&&e.forEach(t=>t())}(us.create({providers:t,name:r}))}return function(t){const e=su();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function su(){return tu&&!tu.destroyed?tu:null}let ou=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Za:("zone.js"===t?void 0:t)||new za({enableLongStackTrace:lr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:za,useValue:n}];return n.run(()=>{const e=us.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(sr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>cu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Fs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Sa);return t.runInitializers(),t.donePromise.then(()=>(ha(i.injector.get(Pa,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=au({},e);return function(t,e,n){const r=new pa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Gt(us))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function au(t,e){return Array.isArray(e)?e.reduce(au,t):Object.assign(Object.assign({},t),e)}let uu=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=lr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new v(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new v(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{za.assertNotInAngularZone(),Ba(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return C(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof v?t[0]:z(e)(H(t,n))}(o,a.pipe(t=>{return G()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,Q);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof _o?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Qt),i=n.create(us.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Ya,null);return s&&i.injector.get(Ja).registerApplication(i.location.nativeElement,s),this._loadComponent(i),lr()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xa,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),cu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Gt(za),Gt(ka),Gt(us),Gt(sr),Gt(So),Gt(Sa))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function cu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lu{}class hu{}const fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let du=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>pu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>pu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ua),Gt(hu,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function pu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const mu=iu(null,"core",[{provide:Oa,useValue:"unknown"},{provide:ou,deps:[us]},{provide:Ja,deps:[]},{provide:ka,deps:[]}]),gu=[{provide:uu,useClass:uu,deps:[za,ka,us,sr,So,Sa]},{provide:ea,deps:[za],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Sa,useClass:Sa,deps:[[new et,Ea]]},{provide:Ua,useClass:Ua,deps:[]},Ca,{provide:zo,useFactory:function(){return $o},deps:[]},{provide:Ho,useFactory:function(){return Wo},deps:[]},{provide:Pa,useFactory:function(t){return ha(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new tt(Pa),new et,new rt]]},{provide:Na,useValue:"USD"}];let yu=(()=>{class t{constructor(t){}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(uu))},providers:gu}),t})();const vu={apiKey:"AIzaSyAm8tONlA5NqjumEFoBIZC1OTdMDrvZzKk",authDomain:"clinica-online-ae136.firebaseapp.com",databaseURL:"https://clinica-online-ae136.firebaseio.com",projectId:"clinica-online-ae136",storageBucket:"clinica-online-ae136.appspot.com",messagingSenderId:"808064967145",appId:"1:808064967145:web:d9c6f14f192c16463a2b78"};let bu=null;function wu(){return bu}const _u=new jt("DocumentToken");let Eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Su,token:t,providedIn:"platform"}),t})();function Su(){return Gt(Cu)}const Iu=new jt("Location Initialized");let Cu=(()=>{class t extends Eu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=wu().getLocation(),this._history=wu().getHistory()}getBaseHrefFromDOM(){return wu().getBaseHref(this._doc)}onPopState(t){wu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){wu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Au()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Au()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Gt(_u))},t.\u0275prov=at({factory:Tu,token:t,providedIn:"platform"}),t})();function Au(){return!!window.history.pushState}function Tu(){return new Cu(Gt(_u))}function Ou(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ku(t){return t&&"?"!==t[0]?"?"+t:t}let Pu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Nu,token:t,providedIn:"root"}),t})();function Nu(t){const e=Gt(_u).location;return new Ru(Gt(Eu),e&&e.origin||"")}const Du=new jt("appBaseHref");let Ru=(()=>{class t extends Pu{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ou(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+ku(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+ku(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+ku(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Eu),Gt(Du,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),ju=(()=>{class t extends Pu{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ou(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+ku(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+ku(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Eu),Gt(Du,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Fu=(()=>{class t{constructor(t,e){this._subject=new _a,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=xu(Vu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+ku(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Vu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ku(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ku(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pu),Gt(Eu))},t.normalizeQueryParams=ku,t.joinWithSlash=Ou,t.stripTrailingSlash=xu,t.\u0275prov=at({factory:Lu,token:t,providedIn:"root"}),t})();function Lu(){return new Fu(Gt(Pu),Gt(Eu))}function Vu(t){return t.replace(/\/index.html$/,"")}var Mu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Uu=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),qu=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Bu=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),zu=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Hu(t,e){return Qu(aa(t)[ca.DateFormat],e)}function Gu(t,e){return Qu(aa(t)[ca.TimeFormat],e)}function $u(t,e){return Qu(aa(t)[ca.DateTimeFormat],e)}function Wu(t,e){const n=aa(t),r=n[ca.NumberSymbols][e];if(void 0===r){if(e===zu.CurrencyDecimal)return n[ca.NumberSymbols][zu.Decimal];if(e===zu.CurrencyGroup)return n[ca.NumberSymbols][zu.Group]}return r}function Ku(t){if(!t[ca.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ca.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Zu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Yu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ju={},Xu=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),ec=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),nc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function rc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function ic(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function sc(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case ec.FullYear:return e.getFullYear();case ec.Month:return e.getMonth();case ec.Date:return e.getDate();case ec.Hours:return e.getHours();case ec.Minutes:return e.getMinutes();case ec.Seconds:return e.getSeconds();case ec.FractionalSeconds:return e.getMilliseconds();case ec.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===ec.Hours)0===a&&-12===n&&(a=12);else if(t===ec.FractionalSeconds)return u=e,ic(a,3).substr(0,u);var u;const c=Wu(o,zu.MinusSign);return ic(a,e,c,r,i)}}function oc(t,e,n=Uu.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case nc.Months:return function(t,e,n){const r=aa(t),i=Qu([r[ca.MonthsFormat],r[ca.MonthsStandalone]],e);return Qu(i,n)}(e,i,r)[t.getMonth()];case nc.Days:return function(t,e,n){const r=aa(t),i=Qu([r[ca.DaysFormat],r[ca.DaysStandalone]],e);return Qu(i,n)}(e,i,r)[t.getDay()];case nc.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=aa(t);return Ku(e),(e[ca.ExtraData][2]||[]).map(t=>"string"==typeof t?Zu(t):[Zu(t[0]),Zu(t[1])])}(e),n=function(t,e,n){const r=aa(t);Ku(r);const i=Qu([r[ca.ExtraData][0],r[ca.ExtraData][1]],e)||[];return Qu(i,n)||[]}(e,i,r),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=o>=e.hours&&a>=e.minutes,i=o<n.hours||o===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===o&&t.minutes===a)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const r=aa(t),i=Qu([r[ca.DayPeriodsFormat],r[ca.DayPeriodsStandalone]],e);return Qu(i,n)}(e,i,r)[o<12?0:1];case nc.Eras:return function(t,e){return Qu(aa(t)[ca.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(i,s,t,e,n,r)}}function ac(t){return function(e,n,r){const i=-1*r,s=Wu(n,zu.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case tc.Short:return(i>=0?"+":"")+ic(o,2,s)+ic(Math.abs(i%60),2,s);case tc.ShortGMT:return"GMT"+(i>=0?"+":"")+ic(o,1,s);case tc.Long:return"GMT"+(i>=0?"+":"")+ic(o,2,s)+":"+ic(Math.abs(i%60),2,s);case tc.Extended:return 0===r?"Z":(i>=0?"+":"")+ic(o,2,s)+":"+ic(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function uc(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))),e=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}var s;return ic(i,t,Wu(r,zu.MinusSign))}}const cc={};function lc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function hc(t){return t instanceof Date&&!isNaN(t.valueOf())}class fc{}let dc=(()=>{class t extends fc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return aa(t)[ca.PluralCase]}(e||this.locale)(t)){case Mu.Zero:return"zero";case Mu.One:return"one";case Mu.Two:return"two";case Mu.Few:return"few";case Mu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Gt(Pa))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class pc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){lr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new gc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new gc(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Os(Zo),Os(Ko),Os(zo))},t.\u0275dir=pe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class gc{constructor(t,e){this.record=t,this.view=e}}let yc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new vc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Os(Zo),Os(Ko))},t.\u0275dir=pe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class vc{constructor(){this.$implicit=null,this.ngIf=null}}function bc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class wc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _c=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Ec=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new wc(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Os(Zo),Os(Ko),Os(_c,1))},t.\u0275dir=pe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),Sc=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(hc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Yu))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!hc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return aa(t)[ca.LocaleId]}(e);if(Ju[r]=Ju[r]||{},Ju[r][n])return Ju[r][n];let i="";switch(n){case"shortDate":i=Hu(e,Bu.Short);break;case"mediumDate":i=Hu(e,Bu.Medium);break;case"longDate":i=Hu(e,Bu.Long);break;case"fullDate":i=Hu(e,Bu.Full);break;case"shortTime":i=Gu(e,Bu.Short);break;case"mediumTime":i=Gu(e,Bu.Medium);break;case"longTime":i=Gu(e,Bu.Long);break;case"fullTime":i=Gu(e,Bu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=rc($u(e,Bu.Short),[n,r]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");i=rc($u(e,Bu.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=rc($u(e,Bu.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),l=t(e,"fullDate");i=rc($u(e,Bu.Full),[c,l])}return i&&(Ju[r][n]=i),i}(n,e)||e;let s,o=[];for(;e;){if(s=Xu.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=lc(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(lc(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(cc[t])return cc[t];let e;switch(t){case"G":case"GG":case"GGG":e=oc(nc.Eras,qu.Abbreviated);break;case"GGGG":e=oc(nc.Eras,qu.Wide);break;case"GGGGG":e=oc(nc.Eras,qu.Narrow);break;case"y":e=sc(ec.FullYear,1,0,!1,!0);break;case"yy":e=sc(ec.FullYear,2,0,!0,!0);break;case"yyy":e=sc(ec.FullYear,3,0,!1,!0);break;case"yyyy":e=sc(ec.FullYear,4,0,!1,!0);break;case"M":case"L":e=sc(ec.Month,1,1);break;case"MM":case"LL":e=sc(ec.Month,2,1);break;case"MMM":e=oc(nc.Months,qu.Abbreviated);break;case"MMMM":e=oc(nc.Months,qu.Wide);break;case"MMMMM":e=oc(nc.Months,qu.Narrow);break;case"LLL":e=oc(nc.Months,qu.Abbreviated,Uu.Standalone);break;case"LLLL":e=oc(nc.Months,qu.Wide,Uu.Standalone);break;case"LLLLL":e=oc(nc.Months,qu.Narrow,Uu.Standalone);break;case"w":e=uc(1);break;case"ww":e=uc(2);break;case"W":e=uc(1,!0);break;case"d":e=sc(ec.Date,1);break;case"dd":e=sc(ec.Date,2);break;case"E":case"EE":case"EEE":e=oc(nc.Days,qu.Abbreviated);break;case"EEEE":e=oc(nc.Days,qu.Wide);break;case"EEEEE":e=oc(nc.Days,qu.Narrow);break;case"EEEEEE":e=oc(nc.Days,qu.Short);break;case"a":case"aa":case"aaa":e=oc(nc.DayPeriods,qu.Abbreviated);break;case"aaaa":e=oc(nc.DayPeriods,qu.Wide);break;case"aaaaa":e=oc(nc.DayPeriods,qu.Narrow);break;case"b":case"bb":case"bbb":e=oc(nc.DayPeriods,qu.Abbreviated,Uu.Standalone,!0);break;case"bbbb":e=oc(nc.DayPeriods,qu.Wide,Uu.Standalone,!0);break;case"bbbbb":e=oc(nc.DayPeriods,qu.Narrow,Uu.Standalone,!0);break;case"B":case"BB":case"BBB":e=oc(nc.DayPeriods,qu.Abbreviated,Uu.Format,!0);break;case"BBBB":e=oc(nc.DayPeriods,qu.Wide,Uu.Format,!0);break;case"BBBBB":e=oc(nc.DayPeriods,qu.Narrow,Uu.Format,!0);break;case"h":e=sc(ec.Hours,1,-12);break;case"hh":e=sc(ec.Hours,2,-12);break;case"H":e=sc(ec.Hours,1);break;case"HH":e=sc(ec.Hours,2);break;case"m":e=sc(ec.Minutes,1);break;case"mm":e=sc(ec.Minutes,2);break;case"s":e=sc(ec.Seconds,1);break;case"ss":e=sc(ec.Seconds,2);break;case"S":e=sc(ec.FractionalSeconds,1);break;case"SS":e=sc(ec.FractionalSeconds,2);break;case"SSS":e=sc(ec.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ac(tc.Short);break;case"ZZZZZ":e=ac(tc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ac(tc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ac(tc.Long);break;default:return null}return cc[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,i||this.locale,r)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${yt(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Os(Pa))},t.\u0275pipe=me({name:"date",type:t,pure:!0}),t})(),Ic=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[{provide:fc,useClass:dc}]}),t})();function Cc(t){return"browser"===t}function Ac(t){return"server"===t}let Tc=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new Oc(Gt(_u),window,Gt(sr))}),t})();class Oc{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=xc(this.window.history)||xc(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function xc(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class kc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new kc,bu||(bu=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Nc||(Nc=document.querySelector("base"),Nc)?Nc.getAttribute("href"):null;return null==e?null:(n=e,Pc||(Pc=document.createElement("a")),Pc.setAttribute("href",n),"/"===Pc.pathname.charAt(0)?Pc.pathname:"/"+Pc.pathname);var n}resetBaseElement(){Nc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Pc,Nc=null;const Dc=new jt("TRANSITION_ID"),Rc=[{provide:Ea,useFactory:function(t,e,n){return()=>{n.get(Sa).donePromise.then(()=>{const n=wu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Dc,_u,us],multi:!0}];class jc{static init(){var t;t=new jc,eu=t}addToWindow(t){Tt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Tt.getAllAngularRootElements=()=>t.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(t=>{const e=Tt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?wu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Fc=new jt("EventManagerPlugins");let Lc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Fc),Gt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Vc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=wu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Mc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Uc=(()=>{class t extends Mc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>wu().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Gt(_u))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const qc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bc=/%COMP%/g;function zc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zc(t,i,n):(i=i.replace(Bc,t),n.push(i))}return n}function Hc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $c(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ie.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Wc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ie.Native:case ie.ShadowDom:return new Kc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Gt(Lc),Gt(Uc),Gt(Ia))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class $c{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(qc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=qc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=qc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&To.DashCase?t.style.setProperty(e,n,r&To.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&To.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Hc(n)):this.eventManager.addEventListener(t,e,Hc(n))}}class Wc extends $c{constructor(t,e,n,r){super(t),this.component=n;const i=zc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Bc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Bc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Kc extends $c{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ie.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=zc(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Qc=(()=>{class t extends Vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(_u))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Zc=["alt","control","meta","shift"],Yc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let tl=(()=>{class t extends Vc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wu().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Zc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Jc.hasOwnProperty(e)&&(e=Jc[e]))}return Yc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Zc.forEach(r=>{r!=n&&(0,Xc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Gt(_u))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const el=iu(mu,"browser",[{provide:Oa,useValue:"browser"},{provide:Ta,useValue:function(){kc.makeCurrent(),jc.init()},multi:!0},{provide:_u,useFactory:function(){return function(t){Ne=t}(document),document},deps:[]}]),nl=[[],{provide:Ki,useValue:"root"},{provide:sr,useFactory:function(){return new sr},deps:[]},{provide:Fc,useClass:Qc,multi:!0,deps:[_u,za,Oa]},{provide:Fc,useClass:tl,multi:!0,deps:[_u]},[],{provide:Gc,useClass:Gc,deps:[Lc,Uc,Ia]},{provide:Ao,useExisting:Gc},{provide:Mc,useExisting:Uc},{provide:Uc,useClass:Uc,deps:[_u]},{provide:Ya,useClass:Ya,deps:[za]},{provide:Lc,useClass:Lc,deps:[Fc,za]},[]];let rl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ia,useValue:e.appId},{provide:Dc,useExisting:Ia},Rc]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(t,12))},providers:nl,imports:[Ic,yu]}),t})();function il(...t){let e=t[t.length-1];return C(e)?(t.pop(),j(t,e)):H(t)}"undefined"!=typeof window&&window;class sl extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(t){super.next(this._value=t)}}class ol extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class al extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ul(t,e,n,r,i=new al(t,n,r)){if(!i.closed)return e instanceof v?e.subscribe(i):R(e)(i)}const cl={};class ll{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hl(t,this.resultSelector))}}class hl extends ol{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(cl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ul(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===cl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const fl=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),dl=new v(t=>t.complete());function pl(t){return t?function(t){return new v(e=>t.schedule(()=>e.complete()))}(t):dl}function ml(t){return new v(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?F(n):pl()).subscribe(e)})}function gl(){return z(1)}function yl(t,e){return function(n){return n.lift(new vl(t,e))}}class vl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new bl(t,this.predicate,this.thisArg))}}class bl extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const wl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function _l(t){return function(e){return 0===t?pl():e.lift(new El(t))}}class El{constructor(t){if(this.total=t,this.total<0)throw new wl}call(t,e){return e.subscribe(new Sl(t,this.total))}}class Sl extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Il(t=Tl){return e=>e.lift(new Cl(t))}class Cl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Al(t,this.errorFactory))}}class Al extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Tl(){return new fl}function Ol(t=null){return e=>e.lift(new xl(t))}class xl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new kl(t,this.defaultValue))}}class kl extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Pl(t,e){return"function"==typeof e?n=>n.pipe(Pl((n,r)=>F(t(n,r)).pipe(A((t,i)=>e(n,t,r,i))))):e=>e.lift(new Nl(t))}class Nl{constructor(t){this.project=t}call(t,e){return e.subscribe(new Dl(t,this.project))}}class Dl extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new L(this),r=this.destination;r.add(n),this.innerSubscription=M(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Rl(t){return e=>0===t?pl():e.lift(new jl(t))}class jl{constructor(t){if(this.total=t,this.total<0)throw new wl}call(t,e){return e.subscribe(new Fl(t,this.total))}}class Fl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ll(...t){return gl()(il(...t))}function Vl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ml(t,e,n))}}class Ml{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ul(t,this.accumulator,this.seed,this.hasSeed))}}class Ul extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ql(t){return function(e){const n=new Bl(t),r=e.lift(n);return n.caught=r}}class Bl{constructor(t){this.selector=t}call(t,e){return e.subscribe(new zl(t,this.selector,this.caught))}}class zl extends V{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new L(this);this.add(r);const i=M(n,r);i!==r&&this.add(i)}}}function Hl(t,e){return U(t,e,1)}function Gl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yl((e,n)=>t(e,n,r)):y,Rl(1),n?Ol(e):Il(()=>new fl))}function $l(){}function Wl(t,e,n){return function(r){return r.lift(new Kl(t,e,n))}}class Kl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ql(t,this.nextOrObserver,this.error,this.complete))}}class Ql extends p{constructor(t,e,n,i){super(t),this._tapNext=$l,this._tapError=$l,this._tapComplete=$l,this._tapError=n||$l,this._tapComplete=i||$l,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||$l,this._tapError=e.error||$l,this._tapComplete=e.complete||$l)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Zl(t){return e=>e.lift(new Yl(t))}class Yl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jl(t,this.callback))}}class Jl extends p{constructor(t,e){super(t),this.add(new h(e))}}class Xl{constructor(t,e){this.id=t,this.url=e}}class th extends Xl{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class eh extends Xl{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nh extends Xl{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rh extends Xl{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ih extends Xl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh extends Xl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oh extends Xl{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ah extends Xl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uh extends Xl{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ch{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ph{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yh(t){return new gh(t)}function vh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function bh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wh(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_h(t[i],e[i]))return!1;return!0}function _h(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Eh(t){return Array.prototype.concat.apply([],t)}function Sh(t){return t.length>0?t[t.length-1]:null}function Ih(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ch(t){return Ls(t)?t:Fs(t)?F(Promise.resolve(t)):il(t)}function Ah(t,e,n){return n?function(t,e){return wh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!kh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>_h(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!kh(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!kh(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!kh(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Th{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return Rh.serialize(this)}}class Oh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ih(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}}class xh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yh(this.parameters)),this._parameterMap}toString(){return qh(this)}}function kh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ph(t,e){let n=[];return Ih(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Ih(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Nh{}class Dh{parse(t){const e=new $h(t);return new Th(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return jh(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Ih(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ph(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${jh(e)}/${n[0]}`:`${jh(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lh(e)}=${Lh(t)}`).join("&"):`${Lh(e)}=${Lh(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Rh=new Dh;function jh(t){return t.segments.map(t=>qh(t)).join("/")}function Fh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lh(t){return Fh(t).replace(/%3B/gi,";")}function Vh(t){return Fh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mh(t){return decodeURIComponent(t)}function Uh(t){return Mh(t.replace(/\+/g,"%20"))}function qh(t){return`${Vh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Vh(t)}=${Vh(e[t])}`).join("")}`;var e}const Bh=/^[^\/()?;=#]+/;function zh(t){const e=t.match(Bh);return e?e[0]:""}const Hh=/^[^=?&#]+/,Gh=/^[^?&#]+/;class $h{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oh([],{}):new Oh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Oh(t,e)),n}parseSegment(){const t=zh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xh(Mh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=zh(this.remaining);t&&(n=t,this.capture(n))}t[Mh(e)]=Mh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Hh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Uh(e),i=Uh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Oh([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Wh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Kh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Qh(t,this._root).map(t=>t.value)}}function Kh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Kh(t,n);if(e)return e}return null}function Qh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Qh(t,n);if(r.length)return r.unshift(e),r}return[]}class Zh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Jh extends Wh{constructor(t,e){super(t),this.snapshot=e,sf(this,t)}toString(){return this.snapshot.toString()}}function Xh(t,e){const n=function(t,e){const n=new nf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new rf("",new Zh(n,[]))}(t,e),r=new sl([new xh("",{})]),i=new sl({}),s=new sl({}),o=new sl({}),a=new sl(""),u=new tf(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Jh(new Zh(u,[]),n)}class tf{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(A(t=>yh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(A(t=>yh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ef(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class nf{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rf extends Wh{constructor(t,e){super(e),this.url=t,sf(this,e)}toString(){return of(this._root)}}function sf(t,e){e.value._routerState=t,e.children.forEach(e=>sf(t,e))}function of(t){const e=t.children.length>0?` { ${t.children.map(of).join(", ")} } `:"";return`${t.value}${e}`}function af(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function uf(t,e){var n,r;return wh(t.params,e.params)&&kh(n=t.url,r=e.url)&&n.every((t,e)=>wh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||uf(t.parent,e.parent))}function cf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function lf(t,e,n,r,i){let s={};return r&&Ih(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Th(n.root===t?e:function t(e,n,r){const i={};return Ih(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Oh(e.segments,i)}(n.root,t,e),s,i)}class hf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&cf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Sh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ff{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function df(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function pf(t,e,n){if(t||(t=new Oh([],{})),0===t.segments.length&&t.hasChildren())return mf(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=df(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!bf(o,a,e))return s;r+=2}else{if(!bf(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Oh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Oh(t.segments.slice(r.pathIndex),t.children),mf(e,0,i)}return r.match&&0===i.length?new Oh(t.segments,{}):r.match&&!t.hasChildren()?gf(t,e,n):r.match?mf(t,0,i):gf(t,e,n)}function mf(t,e,n){if(0===n.length)return new Oh(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return Ih(r,(n,r)=>{null!==n&&(i[r]=pf(t.children[r],e,n))}),Ih(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Oh(t.segments,i)}}function gf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=yf(n[i].outlets);return new Oh(r,t)}if(0===i&&cf(n[0])){r.push(new xh(t.segments[e].path,n[0])),i++;continue}const s=df(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&cf(o)?(r.push(new xh(s,vf(o))),i+=2):(r.push(new xh(s,{})),i++)}return new Oh(r,{})}function yf(t){const e={};return Ih(t,(t,n)=>{null!==t&&(e[n]=gf(new Oh([],{}),0,t))}),e}function vf(t){const e={};return Ih(t,(t,n)=>e[n]=""+t),e}function bf(t,e,n){return t==n.path&&wh(e,n.parameters)}class wf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),af(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ih(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Yh(t),i=t.value.component?n.children:e;Ih(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Yh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ph(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(af(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_f(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _f(t){af(t.value),t.children.forEach(_f)}class Ef{constructor(t,e){this.routes=t,this.module=e}}function Sf(t){return"function"==typeof t}function If(t){return t instanceof Th}const Cf=Symbol("INITIAL_VALUE");function Af(){return Pl(t=>function(...t){let e=void 0,n=void 0;return C(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new ll(e))}(...t.map(t=>t.pipe(Rl(1),function(...t){const e=t[t.length-1];return C(e)?(t.pop(),n=>Ll(t,n,e)):e=>Ll(t,e)}(Cf)))).pipe(Vl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Cf)return t;if(r===Cf&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||If(r))return r}return t},t)},Cf),yl(t=>t!==Cf),A(t=>If(t)?t:!0===t),Rl(1)))}class Tf{constructor(t){this.segmentGroup=t||null}}class Of{constructor(t){this.urlTree=t}}function xf(t){return new v(e=>e.error(new Tf(t)))}function kf(t){return new v(e=>e.error(new Of(t)))}function Pf(t){return new v(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nf{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(A(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ql(t=>{if(t instanceof Of)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Tf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(A(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ql(t=>{if(t instanceof Tf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Oh([],{primary:t}):t;return new Th(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(A(t=>new Oh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return il({});const n=[],r=[],i={};return Ih(t,(t,s)=>{const o=e(s,t).pipe(A(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),il.apply(null,n.concat(r)).pipe(gl(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?yl((e,n)=>t(e,n,r)):y,_l(1),n?Ol(e):Il(()=>new fl))}(),A(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return il(...n).pipe(Hl(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ql(t=>{if(t instanceof Tf)return il(null);throw t}))),Gl(t=>!!t),ql((t,n)=>{if(t instanceof fl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return il(new Oh([],{}));throw new Tf(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ff(r)!==s?xf(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):xf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kf(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new Oh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Df(e,r,i);if(!o)return xf(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?kf(l):this.lineralizeSegments(r,l).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(A(t=>(n._loadedConfig=t,new Oh(r,{})))):il(new Oh(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Df(e,n,r);if(!i)return xf(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>jf(t,e,n)&&"primary"!==Ff(n))}(t,n,r)?{segmentGroup:Rf(new Oh(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Ff(r)&&(n[Ff(r)]=new Oh([],{}));return n}(r,new Oh(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>jf(t,e,n))}(t,n,r)?{segmentGroup:Rf(new Oh(t.segments,function(t,e,n,r){const i={};for(const s of n)jf(t,e,s)&&!r[Ff(s)]&&(i[Ff(s)]=new Oh([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(A(t=>new Oh(s,t))):0===r.length&&0===o.length?il(new Oh(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(A(t=>new Oh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?il(new Ef(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?il(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(A(t=>(e._loadedConfig=t,t))):function(t){return new v(e=>e.error(vh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):il(new Ef([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?il(r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Sf(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Sf(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ch(s)})).pipe(Af(),Wl(t=>{if(!If(t))return;const e=vh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),A(t=>!0===t)):il(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return il(n);if(r.numberOfChildren>1||!r.children.primary)return Pf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Th(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ih(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ih(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Oh(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Df(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||bh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Rf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Oh(t.segments.concat(e.segments),e.children)}return t}function jf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ff(t){return t.outlet||"primary"}class Lf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vf{constructor(t,e){this.component=t,this.route=e}}function Mf(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yh(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!kh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kh(t.url,e.url)||!wh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uf(t,e)||!wh(t.queryParams,e.queryParams);case"paramsChange":default:return!uf(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Lf(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&u&&u.outlet&&u.outlet.isActivated&&s.canDeactivateChecks.push(new Vf(u.outlet.component,a))}else a&&qf(n,u,s),s.canActivateChecks.push(new Lf(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),Ih(o,(t,e)=>qf(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Uf(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function qf(t,e,n){const r=Yh(t),i=t.value;Ih(r,(t,r)=>{qf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Bf(t,e){return null!==t&&e&&e(new dh(t)),il(!0)}function zf(t,e){return null!==t&&e&&e(new hh(t)),il(!0)}function Hf(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?il(r.map(r=>ml(()=>{const i=Uf(r,e,n);let s;if(function(t){return t&&Sf(t.canActivate)}(i))s=Ch(i.canActivate(e,t));else{if(!Sf(i))throw new Error("Invalid CanActivate guard");s=Ch(i(e,t))}return s.pipe(Gl())}))).pipe(Af()):il(!0)}function Gf(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>ml(()=>il(e.guards.map(i=>{const s=Uf(i,e.node,n);let o;if(function(t){return t&&Sf(t.canActivateChild)}(s))o=Ch(s.canActivateChild(r,t));else{if(!Sf(s))throw new Error("Invalid CanActivateChild guard");o=Ch(s(r,t))}return o.pipe(Gl())})).pipe(Af())));return il(i).pipe(Af())}class $f{}class Wf{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Zf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new nf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zh(n,e),i=new rf(this.url,r);return this.inheritParamsAndData(i._root),il(i)}catch(t){return new v(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ef(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ph(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof $f))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new $f}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new $f;if((t.outlet||"primary")!==r)throw new $f;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Sh(n).parameters:{};i=new nf(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xf(t),r,t.component,t,Kf(e),Qf(e)+n.length,td(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $f;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||bh)(n,t,e);if(!r)throw new $f;const i={};Ih(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new nf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xf(t),r,t.component,t,Kf(e),Qf(e)+s.length,td(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Zf(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Zh(i,t)]}if(0===a.length&&0===c.length)return[new Zh(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Zh(i,l)]}}function Kf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zf(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Yf(t,e,n)&&"primary"!==Jf(n))}(t,n,r)){const i=new Oh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Jf(s)){const n=new Oh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Jf(s)]=n}return i}(t,e,r,new Oh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yf(t,e,n))}(t,n,r)){const s=new Oh(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Yf(t,n,a)&&!i[Jf(a)]){const n=new Oh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Jf(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Oh(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Yf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jf(t){return t.outlet||"primary"}function Xf(t){return t.data||{}}function td(t){return t.resolve||{}}function ed(t){return function(e){return e.pipe(Pl(e=>{const n=t(e);return n?F(n).pipe(A(()=>e)):F([e])}))}}class nd extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let rd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Rs(0,"router-outlet")},directives:function(){return[wd]},encapsulation:2}),t})();function id(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];sd(r,od(e,r))}}function sd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&id(t.children,e)}function od(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ad(t){const e=t.children&&t.children.map(ad),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rd),n}const ud=new jt("ROUTES");class cd{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(A(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ef(Eh(r.injector.get(ud)).map(ad),r)}))}loadModuleFactory(t){return"string"==typeof t?F(this.loader.load(t)):Ch(t()).pipe(U(t=>t instanceof Zt?il(t):F(this.compiler.compileModuleAsync(t))))}}class ld{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hd,this.attachRef=null}}class hd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ld,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class fd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dd(t){throw t}function pd(t,e,n){return e.parse("/")}function md(t,e){return il(null)}let gd=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=dd,this.malformedUriErrorHandler=pd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:md,afterPreactivation:md},this.urlHandlingStrategy=new fd,this.routeReuseStrategy=new nd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Qt),this.console=i.get(ka);const u=i.get(za);this.isNgZoneEnabled=u instanceof za,this.resetConfig(a),this.currentUrlTree=new Th(new Oh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cd(s,o,t=>this.triggerEvent(new ch(t)),t=>this.triggerEvent(new lh(t))),this.routerState=Xh(this.currentUrlTree,this.rootComponentType),this.transitions=new sl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(yl(t=>0!==t.id),A(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pl(t=>{let n=!1,r=!1;return il(t).pipe(Wl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return il(t).pipe(Pl(t=>{const n=this.transitions.getValue();return e.next(new th(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?dl:[t]}),Pl(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Pl(t=>function(t,e,n,r,i){return new Nf(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(A(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Wl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(U(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Wf(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(A(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Wl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Wl(t=>{const n=new ih(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new th(n,this.serializeUrl(r),i,s);e.next(a);const u=Xh(r,this.rootComponentType).snapshot;return il(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),dl}),ed(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Wl(t=>{const e=new sh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),A(t=>Object.assign(Object.assign({},t),{guards:Mf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?il(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return F(t).pipe(U(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?il(s.map(s=>{const o=Uf(s,e,i);let a;if(function(t){return t&&Sf(t.canDeactivate)}(o))a=Ch(o.canDeactivate(t,e,n,r));else{if(!Sf(o))throw new Error("Invalid CanDeactivate guard");a=Ch(o(t,e,n,r))}return a.pipe(Gl())})).pipe(Af()):il(!0)}(t.component,t.route,n,e,r)),Gl(t=>!0!==t,!0))}(o,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return F(e).pipe(Hl(e=>F([zf(e.route.parent,r),Bf(e.route,r),Gf(t,e.path,n),Hf(t,e.route,n)]).pipe(gl(),Gl(t=>!0!==t,!0))),Gl(t=>!0!==t,!0))}(r,s,t,e):il(n)),A(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Wl(t=>{if(If(t.guardsResult)){const e=vh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Wl(t=>{const e=new oh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),yl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ed(t=>{if(t.guards.canActivateChecks.length)return il(t).pipe(Wl(t=>{const e=new ah(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pl(t=>{let n=!1;return il(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return il(t);let s=0;return F(n).pipe(Hl(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return il({});const s={};return F(i).pipe(U(i=>function(t,e,n,r){const i=Uf(t,e,r);return Ch(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Wl(t=>{s[i]=t}))),_l(1),U(()=>Object.keys(s).length===i.length?il(s):dl))}(t._resolve,t,e,r).pipe(A(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ef(t,n).resolve),null)))}(t.route,e,r,i)),Wl(()=>s++),_l(1),U(e=>s===n.length?il(t):dl))}))}),Wl({next:()=>n=!0,complete:()=>{if(!n){const n=new nh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Wl(t=>{const e=new uh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ed(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),A(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Zh(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new tf(new sl((i=n.value).url),new sl(i.params),new sl(i.queryParams),new sl(i.fragment),new sl(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Zh(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Jh(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Wl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),A(t=>(new wf(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Wl({next(){n=!0},complete(){n=!0}}),Zl(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),ql(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=If(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return dl}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){id(t),this.config=t.map(ad),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;lr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let l=null;if(o)switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=s?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return lf(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ih(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new hf(n,e,r)}(n);if(s.toRoot())return lf(e.root,new Oh([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ff(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ff(t,t===e.root,0)}const r=cf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ff(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?mf(o.segmentGroup,o.index,s.commands):pf(o.segmentGroup,o.index,s.commands);return lf(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){lr()&&this.isNgZoneEnabled&&!za.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=If(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(If(t))return Ah(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ah(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new eh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(Gt(Wi),Gt(Nh),Gt(hd),Gt(Fu),Gt(us),Gt(lu),Gt(Ua),Gt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),yd=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new S,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){lr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:bd(this.skipLocationChange),replaceUrl:bd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bd(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Os(gd),Os(tf),xs("tabindex"),Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&Vs("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Te]}),t})(),vd=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new S,this.subscription=t.events.subscribe(t=>{t instanceof eh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){lr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:bd(this.skipLocationChange),replaceUrl:bd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:bd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:bd(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Os(gd),Os(tf),Os(Pu))},t.\u0275dir=pe({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Vs("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)})),2&t&&(ho("href",e.href,pr),Cs("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Te]}),t})();function bd(t){return""===t||!!t}let wd=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new _a,this.deactivateEvents=new _a,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _d(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Os(hd),Os(Zo),Os(So),xs("name"),Os(Gi))},t.\u0275dir=pe({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class _d{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===tf?this.route:t===hd?this.childContexts:this.parent.get(t,e)}}class Ed{}class Sd{preload(t,e){return il(null)}}let Id=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new cd(e,n,e=>t.triggerEvent(new ch(e)),e=>t.triggerEvent(new lh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(yl(t=>t instanceof eh),Hl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return F(n).pipe(z(),A(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Gt(gd),Gt(lu),Gt(Ua),Gt(us),Gt(Ed))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Cd=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof th?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof eh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new mh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(gd),Gt(Tc),Gt(void 0))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ad=new jt("ROUTER_CONFIGURATION"),Td=new jt("ROUTER_FORROOT_GUARD"),Od=[Fu,{provide:Nh,useClass:Dh},{provide:gd,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new gd(null,t,e,n,r,i,s,Eh(o));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),a.errorHandler&&(l.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(l.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=wu();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(l.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(l.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(l.relativeLinkResolution=a.relativeLinkResolution),l},deps:[Nh,hd,Fu,us,lu,Ua,ud,Ad,[class{},new et],[class{},new et]]},hd,{provide:tf,useFactory:function(t){return t.routerState.root},deps:[gd]},{provide:lu,useClass:du},Id,Sd,class{preload(t,e){return e().pipe(ql(()=>il(null)))}},{provide:Ad,useValue:{enableTracing:!1}}];function xd(){return new ru("Router",gd)}let kd=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Od,Rd(e),{provide:Td,useFactory:Dd,deps:[[gd,new et,new rt]]},{provide:Ad,useValue:n||{}},{provide:Pu,useFactory:Nd,deps:[Eu,[new tt(Du),new et],Ad]},{provide:Cd,useFactory:Pd,deps:[gd,Tc,Ad]},{provide:Ed,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Sd},{provide:ru,multi:!0,useFactory:xd},[jd,{provide:Ea,multi:!0,useFactory:Fd,deps:[jd]},{provide:Vd,useFactory:Ld,deps:[jd]},{provide:xa,multi:!0,useExisting:Vd}]]}}static forChild(e){return{ngModule:t,providers:[Rd(e)]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(Td,8),Gt(gd,8))}}),t})();function Pd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Cd(t,e,n)}function Nd(t,e,n={}){return n.useHash?new ju(t,e):new Ru(t,e)}function Dd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rd(t){return[{provide:cs,multi:!0,useValue:t},{provide:ud,multi:!0,useValue:t}]}let jd=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get(Iu,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(gd),r=this.injector.get(Ad);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?il(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ad),n=this.injector.get(Id),r=this.injector.get(Cd),i=this.injector.get(gd),s=this.injector.get(uu);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Gt(us))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Fd(t){return t.appInitializer.bind(t)}function Ld(t){return t.bootstrapListener.bind(t)}const Vd=new jt("Router Initializer");function Md(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function Ud(t,e){return new v(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=F(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const qd=new jt("NgValueAccessor"),Bd={provide:qd,useExisting:wt(()=>zd),multi:!0};let zd=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[wo([Bd])]}),t})();const Hd={provide:qd,useExisting:wt(()=>$d),multi:!0},Gd=new jt("CompositionEventMode");let $d=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=wu()?wu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io),Os(Gd,8))},t.\u0275dir=pe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Vs("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[wo([Hd])]}),t})(),Wd=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t}),t})(),Kd=(()=>{class t extends Wd{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qd(e||t)},t.\u0275dir=pe({type:t,features:[fs]}),t})();const Qd=er(Kd);class Zd extends Wd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class Yd{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Jd=(()=>{class t extends Yd{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Zd,2))},t.\u0275dir=pe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ys("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fs]}),t})(),Xd=(()=>{class t extends Yd{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Kd,2))},t.\u0275dir=pe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Ys("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[fs]}),t})();function tp(t){return null==t||0===t.length}function ep(t){return null!=t&&"number"==typeof t.length}const np=new jt("NgValidators"),rp=new jt("NgAsyncValidators"),ip=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sp{static min(t){return e=>{if(tp(e.value)||tp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(tp(e.value)||tp(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return tp(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return tp(t.value)||ip.test(t.value)?null:{email:!0}}static minLength(t){return e=>tp(e.value)||!ep(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>ep(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return sp.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(tp(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(op);return 0==e.length?null:function(t){return up(cp(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(op);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Ud(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ud(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ud(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(A(t=>e(...t)))}return Ud(t,null)}(cp(t,e).map(ap)).pipe(A(up))}}}function op(t){return null!=t}function ap(t){const e=Fs(t)?F(t):t;return Ls(e),e}function up(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function cp(t,e){return e.map(e=>e(t))}function lp(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const hp={provide:qd,useExisting:wt(()=>fp),multi:!0};let fp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[wo([hp])]}),t})();const dp={provide:qd,useExisting:wt(()=>mp),multi:!0};let pp=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),mp=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Zd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io),Os(pp),Os(us))},t.\u0275dir=pe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[wo([dp])]}),t})();const gp={provide:qd,useExisting:wt(()=>yp),multi:!0};let yp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[wo([gp])]}),t})();const vp={provide:qd,useExisting:wt(()=>bp),multi:!0};let bp=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Vs("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([vp])]}),t})();const wp={provide:qd,useExisting:wt(()=>_p),multi:!0};let _p=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Os(Oo),Os(Io))},t.\u0275dir=pe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[wo([wp])]}),t})();function Ep(t,e){t.validator=sp.compose([t.validator,e.validator]),t.asyncValidator=sp.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Sp(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Sp(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Sp(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ip(t,e){t.validator=sp.compose([t.validator,e.validator]),t.asyncValidator=sp.composeAsync([t.asyncValidator,e.asyncValidator])}function Cp(t){return null!=t?sp.compose(lp(t)):null}function Ap(t){return null!=t?sp.composeAsync(lp(t)):null}const Tp=[zd,yp,fp,bp,_p,mp];function Op(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function xp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function kp(t){return(Rp(t)?t.validators:t)||null}function Pp(t){return Array.isArray(t)?Cp(t):t||null}function Np(t,e){return(Rp(e)?e.asyncValidators:t)||null}function Dp(t){return Array.isArray(t)?Ap(t):t||null}function Rp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class jp{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Pp(this._rawValidators),this._composedAsyncValidatorFn=Dp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Pp(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Dp(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=ap(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Lp?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Vp&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new _a,this.statusChanges=new _a}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Fp extends jp{constructor(t=null,e,n){super(kp(e),Np(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Lp extends jp{constructor(t,e,n){super(kp(e),Np(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Fp?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Vp extends jp{constructor(t,e,n){super(kp(e),Np(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Fp?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Mp={provide:Kd,useExisting:wt(()=>qp)},Up=(()=>Promise.resolve(null))();let qp=(()=>{class t extends Kd{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _a,this.form=new Lp({},Cp(t),Ap(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Up.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Ep(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Up.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),xp(this._directives,t)})}addFormGroup(t){Up.then(()=>{const e=this._findContainer(t.path),n=new Lp({});Ip(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Up.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Up.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Op(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Os(np,10),Os(rp,10))},t.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Vs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([Mp]),fs]}),t})(),Bp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const zp=new jt("NgModelWithFormControlWarning"),Hp={provide:Kd,useExisting:wt(()=>Gp)};let Gp=(()=>{class t extends Kd{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new _a}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Ep(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){xp(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Ip(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Ip(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Op(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Ep(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Cp(this._validators);this.form.validator=sp.compose([this.form.validator,t]);const e=Ap(this._asyncValidators);this.form.asyncValidator=sp.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Os(np,10),Os(rp,10))},t.\u0275dir=pe({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Vs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wo([Hp]),fs,Te]}),t})();const $p={provide:Zd,useExisting:wt(()=>Wp)};let Wp=(()=>{class t extends Zd{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new _a,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===$d?n=t:(e=t,Tp.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,r)}set isDisabled(t){}ngOnChanges(e){var n,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,this,r=this._ngModelWarningConfig,lr()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Cp(this._rawValidators)}get asyncValidator(){return Ap(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(Os(Kd,13),Os(np,10),Os(rp,10),Os(qd,10),Os(zp,8))},t.\u0275dir=pe({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[wo([$p]),fs,Te]}),t._ngModelWarningSentOnce=!1,t})();const Kp={provide:np,useExisting:wt(()=>Qp),multi:!0};let Qp=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?sp.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Cs("required",e.required?"":null)},inputs:{required:"required"},features:[wo([Kp])]}),t})();const Zp={provide:np,useExisting:wt(()=>Yp),multi:!0};let Yp=(()=>{class t{constructor(){this._validator=sp.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=sp.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=pe({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&Cs("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[wo([Zp]),Te]}),t})(),Jp=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),Xp=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Lp(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Fp(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Vp(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Fp||t instanceof Lp||t instanceof Vp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),tm=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[pp],imports:[Jp]}),t})(),em=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:zp,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Xp,pp],imports:[Jp]}),t})(),nm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return il(this.value);case"E":return t=this.error,new v(e=>e.error(t));case"C":return pl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function rm(t,e=0){return function(n){return n.lift(new im(t,e))}}class im{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new sm(t,this.scheduler,this.delay))}}class sm extends p{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(sm.dispatch,this.delay,new om(t,this.destination)))}_next(t){this.scheduleMessage(nm.createNext(t))}_error(t){this.scheduleMessage(nm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(nm.createComplete()),this.unsubscribe()}}class om{constructor(t,e){this.notification=t,this.destination=e}}class am extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class um extends am{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class cm extends um{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let lm=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class hm extends lm{constructor(t,e=lm.now){super(t,()=>hm.delegate&&hm.delegate!==this?hm.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return hm.delegate&&hm.delegate!==this?hm.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class fm extends hm{}const dm=new fm(cm),pm=dm;class mm extends S{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new gm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new w;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new _(this,t)),r&&t.add(t=new sm(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||pm).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class gm{constructor(t,e){this.time=t,this.value=e}}const ym=new hm(um);let vm=1;const bm=(()=>Promise.resolve())(),wm={};function _m(t){return t in wm&&(delete wm[t],!0)}const Em={setImmediate(t){const e=vm++;return wm[e]=!0,bm.then(()=>_m(e)&&t()),e},clearImmediate(t){_m(t)}};class Sm extends um{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Em.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Em.clearImmediate(e),t.scheduled=void 0)}}class Im extends hm{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const Cm=new Im(Sm);class Am extends v{constructor(t,e=0,n=Cm){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(u(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Cm)}static create(t,e=0,n=Cm){return new Am(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(Am.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class Tm{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new Am(e,this.delay,this.scheduler).subscribe(t)}}var Om=n("zIRd");function xm(){}Om.a.registerVersion("firebase","8.0.1","app");class km{constructor(t,e=dm){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class Pm{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xm,{},xm,xm)),e.pipe(Wl({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Nm{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new km(Zone.current)),this.insideAngular=t.run(()=>new km(Zone.current,ym))}}function Dm(t){return function(e){return(e=e.lift(new Pm(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new Tm(t,e))}}(t.outsideAngular),rm(t.insideAngular))}}const Rm=["ngOnDestroy"],jm=new jt("angularfire2.app.options"),Fm=new jt("angularfire2.app.nameOrConfig"),Lm=new Po("6.0.5");function Vm(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Om.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Om.a.initializeApp(t,r))}const Mm={provide:class{},useFactory:Vm,deps:[jm,za,[new et,Fm]]};let Um=(()=>{class t{constructor(t){Om.a.registerVersion("angularfire",Lm.full,t.toString()),Om.a.registerVersion("angular",No.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:jm,useValue:e},{provide:Fm,useValue:n}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)(Gt(Oa))},providers:[Mm]}),t})(),qm=(()=>{class t{constructor(t,e,r,i){const s=new Nm(i),o=Dm(s),a=il(void 0).pipe(rm(s.outsideAngular),Pl(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),A(()=>Vm(t,i,e)),A(t=>i.runOutsideAngular(()=>t.auth())),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new mm(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return Ac(r)?this.authState=this.user=this.idToken=this.idTokenResult=il(null):(a.pipe(Gl()).subscribe(),this.authState=a.pipe(Pl(t=>t.getRedirectResult().then(()=>t,()=>t)),Pl(t=>i.runOutsideAngular(()=>new v(t.onAuthStateChanged.bind(t)))),o),this.user=a.pipe(Pl(t=>t.getRedirectResult().then(()=>t,()=>t)),Pl(t=>i.runOutsideAngular(()=>new v(t.onIdTokenChanged.bind(t)))),o),this.idToken=this.user.pipe(Pl(t=>t?F(t.getIdToken()):il(null))),this.idTokenResult=this.user.pipe(Pl(t=>t?F(t.getIdTokenResult()):il(null)))),((t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(Rm.indexOf(i)>-1)return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}))(this,a,i)}}return t.\u0275fac=function(e){return new(e||t)(Gt(jm),Gt(Fm,8),Gt(Oa),Gt(za))},t.\u0275prov=at({factory:function(){return new t(Gt(jm),Gt(Fm,8),Gt(Oa),Gt(za))},token:t,providedIn:"any"}),t})(),Bm=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[qm]}),t})();function zm(t,e){return function(t,e=ym){return new v(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function Hm(t,e){return zm(t,e).pipe(A(t=>({payload:t,type:"query"})))}function Gm(t,e){return Hm(t,e).pipe(A(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function $m(t,e,n){return Hm(t,n).pipe(A(t=>t.payload.docChanges()),Vl((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),A(t=>t.map(t=>({type:t.type,payload:t}))))}function Wm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}n("xsWp");class Km{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Gm(this.query,this.afs.schedulers.outsideAngular).pipe(A(e=>e.filter(e=>t.indexOf(e.type)>-1)),yl(t=>t.length>0),this.afs.keepUnstableUntilFirst):Gm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Vl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Wm(t);return $m(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Hm(this.query,this.afs.schedulers.outsideAngular).pipe(A(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return F(this.query.get(t)).pipe(rm(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Qm(this.ref.doc(t),this.afs)}}class Qm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=eg(n,e);return new Km(r,i,this.afs)}snapshotChanges(){return zm(this.ref,this.afs.schedulers.outsideAngular).pipe(A(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(A(t=>t.payload.data()))}get(t){return F(this.ref.get(t)).pipe(rm(this.afs.schedulers.insideAngular))}}class Zm{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Gm(this.query,this.afs.schedulers.outsideAngular).pipe(A(e=>e.filter(e=>t.indexOf(e.type)>-1)),yl(t=>t.length>0),this.afs.keepUnstableUntilFirst):Gm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Vl((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Wm(t);return $m(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Hm(this.query,this.afs.schedulers.outsideAngular).pipe(A(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return F(this.query.get(t)).pipe(rm(this.afs.schedulers.insideAngular))}}const Ym=n("xsWp"),Jm=new jt("angularfire2.enableFirestorePersistence"),Xm=new jt("angularfire2.firestore.persistenceSettings"),tg=new jt("angularfire2.firestore.settings");function eg(t,e=(t=>t)){return{query:e(t),ref:t}}let ng=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Nm(s),this.keepUnstableUntilFirst=Dm(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=Vm(t,s,e);"registerFirestore"in Ym&&Ym.registerFirestore(Om.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!Ac(i)?s.runOutsideAngular(()=>{try{return F(this.firestore.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(t){return il(!1)}}):il(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=eg(n,e),s=this.schedulers.ngZone.run(()=>r);return new Km(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Zm(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Qm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(Gt(jm),Gt(Fm,8),Gt(Jm,8),Gt(tg,8),Gt(Oa),Gt(za),Gt(Xm,8))},t.\u0275prov=at({factory:function(){return new t(Gt(jm),Gt(Fm,8),Gt(Jm,8),Gt(tg,8),Gt(Oa),Gt(za),Gt(Xm,8))},token:t,providedIn:"any"}),t})(),rg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Jm,useValue:!0},{provide:Xm,useValue:e}]}}}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[ng]}),t})(),ig=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.router=e,this.afs=n}login(t,e){return Md(this,void 0,void 0,(function*(){try{return yield this.afAuth.signInWithEmailAndPassword(t,e)}catch(n){throw console.error("login",n),n}}))}register(t,e){return Md(this,void 0,void 0,(function*(){try{const{user:n}=yield this.afAuth.createUserWithEmailAndPassword(t,e);return yield this.sendEmailVerification(),n}catch(n){throw console.error("Register error",n),n}}))}sendEmailVerification(){return Md(this,void 0,void 0,(function*(){try{yield(yield this.afAuth.currentUser).sendEmailVerification()}catch(t){console.error("sendEmailVerification",t)}}))}isEmailVerified(t){return!0}sendPasswordResetEmail(t){return Md(this,void 0,void 0,(function*(){try{return yield this.afAuth.sendPasswordResetEmail(t)}catch(e){console.error("sendPasswordResetEmail",e)}}))}logout(){return Md(this,void 0,void 0,(function*(){try{yield this.afAuth.signOut(),localStorage.removeItem("user")}catch(t){console.error("logout",t)}}))}get isLoggedIn(){try{return null!==JSON.parse(localStorage.getItem("user"))}catch(t){console.error("isLoggedIn",t)}}updateUserData(t){try{return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,emailVerified:t.emailVerified,displayName:t.displayName},{merge:!0})}catch(e){console.error("updateUserData",e)}}}return t.\u0275fac=function(e){return new(e||t)(Gt(qm),Gt(gd),Gt(ng))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sg{constructor(t){t?Object.assign(this,t):this.photos=new Array}static CreatePatient(t,e,n,r,i){let s=new sg;return s.id=t,s.name=e,s.lastName=n,s.photos=r,s.email=i,s}}var og=n("os0x"),ag=n("qOnz"),ug=n("/6Yf"),cg=function(t){function e(n,r){var i=t.call(this,lg(n),"Firebase Storage: "+r)||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(og.c)(e,t),e.prototype.codeEquals=function(t){return lg(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(ag.c);function lg(t){return"storage/"+t}function hg(){return new cg("unknown","An unknown error occurred, please check the error payload for server response.")}function fg(){return new cg("canceled","User canceled the upload/download.")}function dg(){return new cg("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pg(){return new cg("app-deleted","The Firebase app was deleted.")}function mg(t,e){return new cg("invalid-format","String does not match format '"+t+"': "+e)}function gg(t){throw new cg("internal-error","Internal error: "+t)}var yg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vg=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function bg(t,e){switch(t){case yg.RAW:return new vg(wg(e));case yg.BASE64:case yg.BASE64URL:return new vg(_g(t,e));case yg.DATA_URL:return new vg((n=new Eg(e)).base64?_g(yg.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw mg(yg.DATA_URL,"Malformed data URL.")}return wg(e)}(n.rest),new Eg(e).contentType)}var n;throw hg()}function wg(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function _g(t,e){switch(t){case yg.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw mg(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case yg.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw mg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(c){throw mg(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var Eg=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw mg(yg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),Sg={STATE_CHANGED:"state_changed"},Ig={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cg(t){switch(t){case"running":case"pausing":case"canceling":return Ig.RUNNING;case"paused":return Ig.PAUSED;case"success":return Ig.SUCCESS;case"canceled":return Ig.CANCELED;case"error":default:return Ig.ERROR}}function Ag(t){return null!=t}function Tg(t){return"string"==typeof t||t instanceof String}function Og(t){return xg()&&t instanceof Blob}function xg(){return"undefined"!=typeof Blob}function kg(t,e,n,r){if(r<e)throw new cg("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new cg("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}var Pg=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Ng=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Pg.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Pg.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Pg.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw gg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Ag(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Ag(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gg("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gg("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Ag(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Ag(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Dg=function(){function t(){}return t.prototype.createXhrIo=function(){return new Ng},t}();function Rg(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Rg();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(xg())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var Fg=function(){function t(t,e){var n=0,r="";Og(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Og(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(xg()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(jg.apply(null,r))}var i=e.map((function(t){return Tg(t)?bg(yg.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Lg=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new cg("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<o.length;a++){var u=o[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new cg("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Vg(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Mg(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Ug(t){return"https://firebasestorage.googleapis.com/v0"+t}function qg(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Bg(t,e){return e}var zg=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Bg}}(),Hg=null;function Gg(t,e,n){var r=Vg(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Lg(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function $g(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Wg=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Kg(t){if(!t)throw hg()}function Qg(t,e){return function(n,r){var i=Gg(t,r,e);return Kg(null!==i),i}}function Zg(t){return function(e,n){var r;return(r=401===e.getStatus()?new cg("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new cg("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new cg("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Yg(t){var e=Zg(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new cg("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Jg(t,e,n){var r=Ug(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new Wg(r,"GET",Qg(t,n),i);return s.errorHandler=Yg(e),s}function Xg(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ty=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function ey(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Kg(!1)}return Kg(!!n&&-1!==(e||["active"]).indexOf(n)),n}var ny=function(){return function(t,e,n){if("function"==typeof t||Ag(e)||Ag(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),ry=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function iy(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var sy=function(){function t(t,e,n,r,i,s){var o=this;void 0===s&&(s=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=s,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(t){o.request_=null,o.chunkMultiplier_=1,t.codeEquals("canceled")?(o.needToFetchStatus_=!0,o.completeTransitions_()):(o.error_=t,o.transition_("error"))},this.metadataErrorHandler_=function(t){o.request_=null,t.codeEquals("canceled")?o.completeTransitions_():(o.error_=t,o.transition_("error"))},this.promise_=new Promise((function(t,e){o.resolve_=t,o.reject_=e,o.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case"running":t(n);break;case"canceling":e.transition_("canceled");break;case"pausing":e.transition_("paused")}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=Xg(e,r,i),a={name:o.fullPath},u=Ug(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=$g(o,n),h=new Wg(u,"POST",(function(t){var e;ey(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Kg(!1)}return Kg(Tg(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Zg(e),h}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=new Wg(n,"POST",(function(t){var e=ey(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Kg(!1)}n||Kg(!1);var i=Number(n);return Kg(!isNaN(i)),new ty(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Zg(e),i}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new ty(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new ty(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new cg("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw dg();var p=new Wg(n,"POST",(function(t,n){var i,o=ey(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?Qg(e,s)(t,n):null,new ty(a,c,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Zg(t),p}(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_("error")}var o=t.service_.makeRequest(s,i);t.request_=o,o.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_("success")):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Jg(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_("success")}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=Xg(e,r,i),c=$g(u,n),l=Fg.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw dg();var h={name:u.fullPath},f=Ug(s),d=t.maxUploadRetryTime,p=new Wg(f,"POST",Qg(t,n),d);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=Zg(e),p}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_("success")}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case"canceling":case"pausing":this.state_=t,null!==this.request_&&this.request_.cancel();break;case"running":var e="paused"===this.state_;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=t,this.notifyObservers_();break;case"canceled":this.error_=fg(),this.state_=t,this.notifyObservers_();break;case"error":case"success":this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Cg(this.state_);return new ry(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new ny(e,n,r);return this.addObserver_(s),function(){i.removeObserver_(s)}},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Cg(this.state_)){case Ig.SUCCESS:iy(this.resolve_.bind(null,this.snapshot))();break;case Ig.CANCELED:case Ig.ERROR:iy(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(Cg(this.state_)){case Ig.RUNNING:case Ig.PAUSED:t.next&&iy(t.next.bind(t,this.snapshot))();break;case Ig.SUCCESS:t.complete&&iy(t.complete.bind(t))();break;case Ig.CANCELED:case Ig.ERROR:t.error&&iy(t.error.bind(t,this.error_))();break;default:t.error&&iy(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){var t="paused"===this.state_||"pausing"===this.state_;return t&&this.transition_("running"),t},t.prototype.pause=function(){var t="running"===this.state_;return t&&this.transition_("pausing"),t},t.prototype.cancel=function(){var t="running"===this.state_||"pausing"===this.state_;return t&&this.transition_("canceling"),t},t}(),oy=function(){function t(t,e){this.service=t,this.location=e instanceof Lg?e:Lg.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(Hg)return Hg;var t=[];t.push(new zg("bucket")),t.push(new zg("generation")),t.push(new zg("metageneration")),t.push(new zg("name","fullPath",!0));var e=new zg("name");e.xform=function(t,e){return function(t){return!Tg(t)||t.length<2?t:Mg(t)}(e)},t.push(e);var n=new zg("size");return n.xform=function(t,e){return Ag(e)?Number(e):e},t.push(n),t.push(new zg("timeCreated")),t.push(new zg("updated")),t.push(new zg("md5Hash",null,!0)),t.push(new zg("cacheControl",null,!0)),t.push(new zg("contentDisposition",null,!0)),t.push(new zg("contentEncoding",null,!0)),t.push(new zg("contentLanguage",null,!0)),t.push(new zg("contentType",null,!0)),t.push(new zg("metadata","customMetadata",!0)),Hg=t}()},t.prototype.child=function(t){var e=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(this.location.path,t),n=new Lg(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Lg(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Lg(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Mg(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),this.throwIfRoot_("put"),new sy(this,this.service,this.location,this.mappings(),new Fg(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=yg.RAW),this.throwIfRoot_("putString");var r=bg(e,t),i=Object.assign({},n);return!Ag(i.contentType)&&Ag(r.contentType)&&(i.contentType=r.contentType),new sy(this,this.service,this.location,this.mappings(),new Fg(r.data,!0),i)},t.prototype.delete=function(){var t=this;return this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=function(t,e){var n=Ug(e.fullServerUrl()),r=new Wg(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Yg(e),r}(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(og.b)(this,void 0,void 0,(function(){var n,r,i;return Object(og.d)(this,(function(s){switch(s.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=s.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){var e=this,n=t||{};return"number"==typeof n.maxResults&&kg("options.maxResults",1,1e3,n.maxResults),this.service.getAuthToken().then((function(t){var r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=Ug(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Wg(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Vg(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new Lg(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new Lg(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Kg(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=Zg(e),u}(e.service,e.location,"/",n.pageToken,n.maxResults);return e.service.makeRequest(r,t).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=Jg(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=function(t,e,n,r){var i=Ug(e.fullServerUrl()),s=$g(n,r),o=t.maxOperationRetryTime,a=new Wg(i,"PATCH",Qg(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Yg(e),a}(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=function(t,e,n){var r=Ug(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new Wg(r,"GET",function(t,e){return function(n,r){var i=Gg(t,r,e);return Kg(null!==i),function(t,e){var n=Vg(e);if(null===n)return null;if(!Tg(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return Ug("/b/"+i(t.bucket)+"/o/"+i(n))+qg({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=Yg(e),s}(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new cg("no-download-url","The given file does not have any download URLs.");return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new cg("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),ay=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),uy=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(u){s(u)}else null!==o?((r=hg()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?pg():fg():new cg("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new cy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new cy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Pg.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new cy(o,n))}else{var a=n.getErrorCode()===Pg.ABORT;e(!1,new cy(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(og.g)([null,t],e));else{var r;u()||o?l.call.apply(l,Object(og.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),cy=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}(),ly=function(){function t(e,n,r,i){var s;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?Lg.makeFromBucketSpec(i):t.extractBucket_(null===(s=this.app_)||void 0===s?void 0:s.options),this.internals_=new hy(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:Lg.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(og.b)(this,void 0,void 0,(function(){var t,e;return Object(og.d)(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new oy(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new ay(pg());var r=function(t,e,n,r){var i=qg(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Om.a?Om.a.SDK_VERSION:"AppManager")}(o),new uy(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){if(/^[A-Za-z]+:\/\//.test(t))throw new cg("invalid-argument","Expected child path but got a URL, use refFromURL instead.");if(null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new oy(this,this.bucket_);return null!=t?e.child(t):e},t.prototype.refFromURL=function(t){if(!/^[A-Za-z]+:\/\//.test(t))throw new cg("invalid-argument","Expected full URL but got a child path, use ref instead.");try{Lg.makeFromUrl(t)}catch(e){throw new cg("invalid-argument","Expected valid full URL but got an invalid one.")}return new oy(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){kg("time",0,Number.POSITIVE_INFINITY,t),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){kg("time",0,Number.POSITIVE_INFINITY,t),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),hy=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function fy(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new ly(n,r,new Dg,e)}function dy(t){var e={TaskState:Ig,TaskEvent:Sg,StringFormat:yg,Storage:ly,Reference:oy};t.INTERNAL.registerComponent(new ug.a("storage",fy,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.1")}function py(t){const e=function(t){return new v(e=>{const n=t=>e.next(t);return t.on("state_changed",n,t=>e.error(t),()=>{n(t.snapshot),e.complete()}),()=>t.cancel()})}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(A(t=>t.bytesTransferred/t.totalBytes*100))}}function my(t,e,n){return{getDownloadURL:()=>il(void 0).pipe(rm(e.outsideAngular),Pl(()=>t.getDownloadURL()),n),getMetadata:()=>il(void 0).pipe(rm(e.outsideAngular),Pl(()=>t.getMetadata()),n),delete:()=>F(t.delete()),child:r=>my(t.child(r),e,n),updateMetadata:e=>F(t.updateMetadata(e)),put:(e,n)=>py(t.put(e,n)),putString:(e,n,r)=>py(t.putString(e,n,r)),listAll:()=>F(t.listAll())}}dy(Om.a);const gy=new jt("angularfire2.storageBucket");let yy=(()=>{class t{constructor(t,e,n,r,i){this.schedulers=new Nm(i),this.keepUnstableUntilFirst=Dm(this.schedulers),this.storage=i.runOutsideAngular(()=>{const r=Vm(t,i,e);return dy&&dy(Om.a),r.storage(n||void 0)})}ref(t){return my(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return my(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(jm),Gt(Fm,8),Gt(gy,8),Gt(Oa),Gt(za))},t.\u0275prov=at({factory:function(){return new t(Gt(jm),Gt(Fm,8),Gt(gy,8),Gt(Oa),Gt(za))},token:t,providedIn:"any"}),t})(),vy=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[yy]}),t})(),by=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.getPatients().subscribe(t=>{this.patients=t}),this.patientsDB=this.db.collection("/patients",t=>t)}getPatients(){return this.db.collection("patients",t=>t).snapshotChanges().pipe(A(t=>t.map(t=>t.payload.doc.data())))}getPatientById(t){return Md(this,void 0,void 0,(function*(){try{return yield this.db.collection("patients").doc(t).get().toPromise().then(t=>{if(t.exists){var e=t.data();return new sg(e)}})}catch(e){console.log("Error: ",e)}}))}createPatient(t,e){return Md(this,void 0,void 0,(function*(){console.log("Creando paciente");try{const n=yield this.addPatient(t).then(t=>(console.log("Patient created"),t.photos=new Array,e.forEach(e=>{this.uploadImage(t,e)}),t));return console.log(n),n}catch(n){console.error(n)}}))}addPatient(t){return new Promise((e,n)=>{this.patientsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then(n=>{e(t)},t=>n(console.error(t)))})}deletePatient(t){try{return this.db.collection("patients").doc(t.id).delete().then(t=>{console.log(t)})}catch(e){console.log("Error: ",e)}}editPatient(t){return this.db.collection("patients").doc(t.id).set(t,{merge:!0})}uploadImage(t,e){this.filePath="patients/"+e.name;const n=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Zl(()=>{n.getDownloadURL().subscribe(e=>{this.downloadURL=e,t.photos.push(this.downloadURL),this.editPatient(t).then(()=>{})})})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ng),Gt(yy))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class wy{constructor(t){t&&Object.assign(this,t)}static CreateProfessional(t,e,n,r,i,s){let o=new wy;return o.id=t,o.name=e,o.lastName=n,o.photos=r,o.email=i,o.specialty=s,o}}let _y=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.getProfessionals().subscribe(t=>{this.professionals=t}),this.professionalsDB=this.db.collection("/professionals",t=>t.orderBy("date"))}getProfessionals(){return this.db.collection("professionals").snapshotChanges().pipe(A(t=>t.map(t=>t.payload.doc.data())))}getProfessionalById(t){return Md(this,void 0,void 0,(function*(){try{return yield this.db.collection("professionals").doc(t).get().toPromise().then(t=>{if(t.exists){var e=t.data();return new wy(e)}})}catch(e){console.log("Error: ",e)}}))}createProfessional(t,e){return this.addProfessional(t).then(n=>(console.log("Professional created"),e.forEach(e=>{this.uploadImage(t,e)}),n))}addProfessional(t){return new Promise((e,n)=>{this.professionalsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then(n=>{e(t)},t=>n(console.error(t)))})}deleteProfessional(t){try{return this.db.collection("professionals").doc(t.id).delete().then(t=>{console.log(t)})}catch(e){console.log("Error: ",e)}}editProfessional(t){return this.db.collection("professionals").doc(t.id).set(t,{merge:!0})}uploadImage(t,e){this.filePath="professionals/"+e.name;const n=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Zl(()=>{n.getDownloadURL().subscribe(e=>{this.downloadURL=e,t.photos=new Array,t.photos.push(this.downloadURL),this.editProfessional(t).then(()=>console.log("Updated photo"))})})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ng),Gt(yy))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ey{constructor(t){t&&Object.assign(this,t)}static CrearProfesional(t,e,n,r,i){let s=new Ey;return s.id=t,s.name=e,s.lastName=n,s.photos=r,s.email=i,s}}let Sy=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.getAdministrators().subscribe(t=>{this.administrators=t}),this.administratorsDB=this.db.collection("/administrators",t=>t.orderBy("date"))}getAdministrators(){return this.db.collection("administrators").snapshotChanges().pipe(A(t=>t.map(t=>t.payload.doc.data())))}getAdministratorById(t){return Md(this,void 0,void 0,(function*(){try{return yield this.db.collection("administrators").doc(t).get().toPromise().then(t=>{if(t.exists){var e=t.data();return new Ey(e)}})}catch(e){console.log("Error: ",e)}}))}createAdministrator(t,e){return this.addAdministrator(t).then(n=>(console.log("Administrator created"),e.forEach(e=>{this.uploadImage(t,e)}),n))}addAdministrator(t){return new Promise((e,n)=>{this.administratorsDB.doc(t.id).set(JSON.parse(JSON.stringify(t))).then(n=>{e(t)},t=>n(console.error(t)))})}deleteAdministrator(t){try{return this.db.collection("administrators").doc(t.id).delete().then(t=>{console.log(t)})}catch(e){console.log("Error: ",e)}}editAdministrator(t){return this.db.collection("administrators").doc(t.id).set(t,{merge:!0})}uploadImage(t,e){this.filePath="administrators/"+e.name;const n=this.storage.ref(this.filePath);this.storage.upload(this.filePath,e).snapshotChanges().pipe(Zl(()=>{n.getDownloadURL().subscribe(e=>{this.downloadURL=e,t.photos=new Array,t.photos.push(this.downloadURL),this.editAdministrator(t).then(()=>console.log("Updated photo"))})})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(Gt(ng),Gt(yy))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Iy=new jt("recaptcha-language"),Cy=new jt("recaptcha-base-url"),Ay=new jt("recaptcha-nonce-tag"),Ty=new jt("recaptcha-settings"),Oy=new jt("recaptcha-v3-site-key");let xy=(()=>{let t=ky=class{constructor(t,e,n,r,i){this.platformId=t,this.language=e,this.baseUrl=n,this.nonce=r,this.v3SiteKey=i,this.init(),this.ready=Cc(this.platformId)?ky.ready.asObservable():il()}init(){if(!ky.ready&&Cc(this.platformId)){const t=new sl(null);ky.ready=t,function(e,n,r,i,s){window.ng2recaptchaloaded=()=>{(e=>{t.next(e)})(grecaptcha)};const o=document.createElement("script");o.innerHTML="",o.src=`${i||"https://www.google.com/recaptcha/api.js"}?render=${e}&onload=ng2recaptchaloaded${r}`,s&&(o.nonce=s),o.async=!0,o.defer=!0,document.head.appendChild(o)}(this.v3SiteKey||"explicit",0,this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}};return t.\u0275fac=function(e){return new(e||t)(Gt(Oa),Gt(Iy,8),Gt(Cy,8),Gt(Ay,8),Gt(Oy,8))},t.\u0275prov=at({token:t,factory:function(e){return t.\u0275fac(e)}}),t.ready=null,t})();var ky;let Py=0,Ny=(()=>{let t=class{constructor(t,e,n,r){this.elementRef=t,this.loader=e,this.zone=n,this.id="ngrecaptcha-"+Py++,this.resolved=new _a,r&&(this.siteKey=r.siteKey,this.theme=r.theme,this.type=r.type,this.size=r.size,this.badge=r.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}expired(){this.resolved.emit(null)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){this.widget=this.grecaptcha.render(this.elementRef.nativeElement,{badge:this.badge,callback:t=>{this.zone.run(()=>this.captchaResponseCallback(t))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type}),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}};return t.\u0275fac=function(e){return new(e||t)(Os(Io),Os(xy),Os(za),Os(Ty,8))},t.\u0275cmp=ue({type:t,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,e){2&t&&Cs("id",e.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",badge:"badge",tabIndex:"tabIndex"},outputs:{resolved:"resolved"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Dy=(()=>{let t=class{};return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)}}),t})(),Ry=(()=>{let t=jy=class{static forRoot(){return jy}};return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[xy],imports:[[Dy]]}),t})();var jy;let Fy=(()=>{let t=Ly=class{constructor(t){this.host=t}writeValue(t){t||this.host.reset()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}};return t.\u0275fac=function(e){return new(e||t)(Os(Ny))},t.\u0275dir=pe({type:t,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,e){1&t&&Vs("resolved",(function(t){return e.onResolve(t)}))},features:[wo([{multi:!0,provide:qd,useExisting:wt(()=>Ly)}])]}),t})();var Ly;let Vy=(()=>{let t=class{};return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[tm,Dy]]}),t})(),My=(()=>{class t{constructor(){this.dismiss=new _a}ngOnInit(){}onDismiss(){this.dismiss.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["boot-alert"]],inputs:{color:"color",mensaje:"mensaje"},outputs:{dismiss:"dismiss"},decls:5,vars:4,consts:[["role","alert"],["type","button",1,"close",3,"click"],["aria-hidden","true"]],template:function(t,e){var n,r,i;1&t&&(Ns(0,"div",0),ao(1),Ns(2,"button",1),Vs("click",(function(){return e.onDismiss()})),Ns(3,"span",2),ao(4,"\xd7"),Ds(),Ds(),Ds()),2&t&&(n="alert alert-",r=e.color,i=" alert-dismissible fade show",function(t,e,n,r){const i=Qe(),s=on(2);i.firstUpdatePass&&to(i,null,s,!0);const o=Ke();if(n!==Ar&&Ss(o,s,n)){const r=i.data[yn()+20];if(oo(r,!0)&&!Xs(i,s)){let t=r.classesWithoutHost;null!==t&&(n=vt(t,n||"")),Ps(i,r,o,n,!0)}else!function(t,e,n,r,i,s,o,a){i===Ar&&(i=Hs);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let d=null,p=void 0;l===h?(u+=2,c+=2,o!==f&&(d=h,p=f)):null===h||null!==l&&l<h?(u+=2,d=l):(c+=2,d=h,p=f),null!==d&&ro(t,e,n,r,d,p,!0,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,r,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Hs;const r=[],i=ar(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(te,Js,As(Ke(),n,r,i)),Pr(1),co(" ",e.mensaje," "))},styles:[""]}),t})();function Uy(t,e){if(1&t){const t=js();Ns(0,"div"),Ns(1,"button",22),Vs("click",(function(){return Ze(t),qs(2).enterAsClient()})),Ns(2,"div",23),Rs(3,"img",24),Ns(4,"div",25),Ns(5,"h5",26),ao(6),Ds(),Ds(),Ds(),Ds(),Ns(7,"button",22),Vs("click",(function(){return Ze(t),qs(2).enterAsClient1()})),Ns(8,"div",23),Rs(9,"img",24),Ns(10,"div",25),Ns(11,"h5",26),ao(12),Ds(),Ds(),Ds(),Ds(),Ns(13,"button",22),Vs("click",(function(){return Ze(t),qs(2).enterAsProfessional()})),Ns(14,"div",23),Rs(15,"img",24),Ns(16,"div",25),Ns(17,"h5",26),ao(18),Ds(),Ds(),Ds(),Ds(),Ns(19,"button",22),Vs("click",(function(){return Ze(t),qs(2).enterAsProfessional1()})),Ns(20,"div",23),Rs(21,"img",24),Ns(22,"div",25),Ns(23,"h5",26),ao(24),Ds(),Ds(),Ds(),Ds(),Ns(25,"button",22),Vs("click",(function(){return Ze(t),qs(2).enterAsAdministrator()})),Ns(26,"div",23),Rs(27,"img",24),Ns(28,"div",25),Ns(29,"h5",26),ao(30),Ds(),Ds(),Ds(),Ds(),Ds()}if(2&t){const t=qs(2);Pr(3),Bs("src",t.patientTesting.photos[0],pr),Pr(3),co("Paciente: ",t.patientTesting.name,""),Pr(3),Bs("src",t.patientTesting2.photos[0],pr),Pr(3),co("Paciente: ",t.patientTesting2.name,""),Pr(3),Bs("src",t.professionalTesting.photos[0],pr),Pr(3),co("Profesional: ",t.professionalTesting.name,""),Pr(3),Bs("src",t.professionalTesting2.photos[0],pr),Pr(3),co("Profesional: ",t.professionalTesting2.name,""),Pr(3),Bs("src",t.administratorTesting.photos[0],pr),Pr(3),co("Administrador: ",t.administratorTesting.name,"")}}function qy(t,e){if(1&t&&(Ns(0,"div"),Ns(1,"div"),Ns(2,"label"),Ts(3,Uy,31,10,"div",3),Ds(),Ds(),Ds()),2&t){const t=qs();Pr(3),ks("ngIf",t.administratorTesting)}}function By(t,e){if(1&t){const t=js();Ns(0,"button",22),Vs("click",(function(){Ze(t);const e=qs();return e.testing=!e.testing})),ao(1,"Mostrar usuarios testing"),Ds()}}function zy(t,e){if(1&t&&Rs(0,"boot-alert",27),2&t){const t=qs();ks("mensaje",t.mensaje)("color",t.bootColorAlert)}}function Hy(t,e){if(1&t){const t=js();Ns(0,"button",28),Vs("click",(function(){return Ze(t),qs().onLogin()})),ao(1,"Entrar"),Ds()}2&t&&ks("disabled",qs().loginForm.invalid)}function Gy(t,e){1&t&&(Ns(0,"div",29),Ns(1,"span",30),ao(2,"Loading..."),Ds(),Ds())}let $y=(()=>{class t{constructor(t,e,n,r,i,s){this.fb=t,this.router=e,this.authService=n,this.patientService=r,this.professionalService=i,this.administratorService=s,this.createForm(),this.condicion=!1,this.testing=!1,this.spinner=!1,this.submitted=!1}ngOnInit(){this.loadTesters()}loadTesters(){this.patientService.getPatientById("cEewD51RQsYrvaYHQ3eRAzkUHDJ3").then(t=>{this.patientTesting=t}),this.patientService.getPatientById("u7J9vE2bebTUh8rtLxBNEyEdOc73").then(t=>{this.patientTesting2=t}),this.professionalService.getProfessionalById("gyFb67SEpFPDD8FzTONy9XJCZM22").then(t=>{this.professionalTesting=t}),this.professionalService.getProfessionalById("gxEvpY2NmUXicRjeIsBp3AdS72H3").then(t=>{this.professionalTesting2=t}),this.administratorService.getAdministratorById("ieLf7BsRyOQH0I7WlRAzk9Fw0Bn1").then(t=>{this.administratorTesting=t})}createForm(){this.loginForm=this.fb.group({email:["",sp.required],password:["",sp.required],recaptchaReactive:["",sp.required]})}getUserAccount(t){return Md(this,void 0,void 0,(function*(){yield this.patientService.getPatientById(t.uid).then(t=>{t&&(console.log("Bienvenido PACIENTE",t.name),localStorage.setItem("user",JSON.stringify(t)),ig.user=t)}),yield this.professionalService.getProfessionalById(t.uid).then(t=>{t&&(console.log("Bienvenido PROFESIONAL",t.name),localStorage.setItem("user",JSON.stringify(t)),ig.user=t)}),yield this.administratorService.getAdministratorById(t.uid).then(t=>{t&&(console.log("Bienvenido ADMINISTRADOR",t.name),localStorage.setItem("user",JSON.stringify(t)),ig.user=t)})}))}onLogin(){this.spinner=!0,console.log(this.loginForm.controls.email.value,this.loginForm.controls.password.value),this.authService.login(this.loginForm.controls.email.value,this.loginForm.controls.password.value).then(t=>{if(this.verificarUsuarioTesting(t.user))return!0;t.user.emailVerified?this.onLoginSuccess():(this.bootColorAlert="danger",this.mensaje="Verifique su email",this.spinner=!1,this.submitted=!0)}).catch(t=>{this.bootColorAlert="danger",this.cargarMensajeErrorAuth(t),this.submitted=!0,this.spinner=!1,console.log("Error: ",t)})}onLoginSuccess(){this.bootColorAlert="success",this.mensaje="Verificado\u2713",this.submitted=!0,setTimeout(t=>{this.router.navigate(["/home"])},2e3)}verificarUsuarioTesting(t){switch(t.email){case"paciente@gonzales.com":case"jorge@gmail.com":case"medico@valderrama.com":case"Medico2@Delaolla.com":case"administrador@administrador.com":return this.onLoginSuccess(),!0;default:return!1}}cargarMensajeErrorAuth(t){switch(t.code){case"auth/user-not-found":this.mensaje="Usuario no registrado";break;case"auth/wrong-password":this.mensaje="Contrase\xf1a incorrecta";break;case"auth/invalid-email":this.mensaje="email invalido";break;case"auth/email-already-exists":this.mensaje="El email ya existe";default:this.mensaje="email invalido"}}enterAsClient(){this.loginForm.controls.email.setValue("paciente@gonzales.com"),this.loginForm.controls.password.setValue("111111")}enterAsClient1(){this.loginForm.controls.email.setValue("jorge@gmail.com"),this.loginForm.controls.password.setValue("111111")}enterAsProfessional(){this.loginForm.controls.email.setValue("medico@valderrama.com"),this.loginForm.controls.password.setValue("111111")}enterAsProfessional1(){this.loginForm.controls.email.setValue("Medico2@Delaolla.com"),this.loginForm.controls.password.setValue("111111")}enterAsAdministrator(){this.loginForm.controls.email.setValue("administrador@administrador.com"),this.loginForm.controls.password.setValue("111111")}resolved(t){}}return t.\u0275fac=function(e){return new(e||t)(Os(Xp),Os(gd),Os(ig),Os(by),Os(_y),Os(Sy))},t.\u0275cmp=ue({type:t,selectors:[["app-login"]],decls:28,vars:6,consts:[[1,"text-center","body"],[1,"container"],[1,"d-flex"],[4,"ngIf"],[1,"p-2","flex-grow-1"],[1,"form-signin",3,"formGroup"],["src","../../../assets/images/medialSign.svg","alt","","width","150","height","150",1,"mb-4"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","email","id","inputEmail","placeholder","Correo","name","email","required","","autofocus","","formControlName","email",1,"form-control"],["for","inputPassword",1,"sr-only"],["type","password","id","inputPassword","placeholder","Contrase\xf1a","name","password","required","","formControlName","password",1,"form-control"],["class","btn btn-sm btn-primary btn-block","type","submit",3,"click",4,"ngIf"],["formControlName","recaptchaReactive","siteKey","6LeKd98ZAAAAANCIjc5-WVR4PiaFaeLn9J1uh9bm","required","",3,"resolved"],[3,"mensaje","color",4,"ngIf"],["class","btn btn-lg btn-primary btn-block","type","submit",3,"disabled","click",4,"ngIf"],["class","spinner-grow text-warning","role","status",4,"ngIf"],["type","submit","routerLink","/signup",1,"btn","btn-sm","btn-secondary","btn-block"],[1,"mt-5","mb-3","text-muted"],["aria-label","Favorite",1,"mdc-fab"],[1,"mdc-fab__ripple"],[1,"mdc-fab__icon","material-icons"],["type","submit",1,"btn","btn-sm","btn-primary","btn-block",3,"click"],[1,"media"],[1,"mr-3",2,"width","50px",3,"src"],[1,"media-body"],[1,"mt-0"],[3,"mensaje","color"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled","click"],["role","status",1,"spinner-grow","text-warning"],[1,"sr-only"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Ns(2,"div",2),Ts(3,qy,4,1,"div",3),Ns(4,"div",4),Ns(5,"form",5),Rs(6,"img",6),Ns(7,"h1",7),ao(8,"Clinica Online"),Ds(),Ns(9,"label",8),ao(10,"Correo"),Ds(),Rs(11,"input",9),Ns(12,"label",10),ao(13,"Contrase\xf1a"),Ds(),Rs(14,"input",11),Ts(15,By,2,0,"button",12),Ns(16,"re-captcha",13),Vs("resolved",(function(t){return e.resolved(t)})),Ds(),Ts(17,zy,1,2,"boot-alert",14),Ts(18,Hy,2,1,"button",15),Ts(19,Gy,3,0,"div",16),Ns(20,"button",17),ao(21,"Registrarme"),Ds(),Ns(22,"p",18),ao(23,"\xa9 Federico Vera"),Ds(),Ds(),Ds(),Ds(),Ds(),Ds(),Ns(24,"button",19),Rs(25,"div",20),Ns(26,"span",21),ao(27,"favorite"),Ds(),Ds()),2&t&&(Pr(3),ks("ngIf",e.testing),Pr(2),ks("formGroup",e.loginForm),Pr(10),ks("ngIf",!e.testing),Pr(2),ks("ngIf",e.submitted),Pr(1),ks("ngIf",!e.spinner),Pr(1),ks("ngIf",e.spinner))},directives:[yc,Bp,Xd,Gp,$d,Qp,Jd,Wp,Ny,Fy,yd,My],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width:768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:relative;box-sizing:border-box;height:auto;padding:10px;font-size:16px}.form-signin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),t})();function Wy(t,e){1&t&&(Ns(0,"li",7),Ns(1,"a",12),ao(2,"Usuarios "),Ns(3,"span",9),ao(4,"(current)"),Ds(),Ds(),Ds())}function Ky(t,e){1&t&&(Ns(0,"li",7),Ns(1,"a",13),ao(2,"Turnos "),Ns(3,"span",9),ao(4,"(current)"),Ds(),Ds(),Ds())}function Qy(t,e){1&t&&(Ns(0,"li",7),Ns(1,"a",14),ao(2,"Mis Turnos"),Ns(3,"span",9),ao(4,"(current)"),Ds(),Ds(),Ds())}function Zy(t,e){1&t&&(Ns(0,"li",7),Ns(1,"a",15),ao(2,"Solicitar Turno "),Ns(3,"span",9),ao(4,"(current)"),Ds(),Ds(),Ds())}let Yy=(()=>{class t{constructor(t,e){this.router=t,this.AuthService=e}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}ngAfterViewInit(){}logOut(){localStorage.removeItem("user"),this.router.navigate(["/login"]),this.AuthService.logout().then(t=>{console.log("LogOut Successful")})}}return t.\u0275fac=function(e){return new(e||t)(Os(gd),Os(ig))},t.\u0275cmp=ue({type:t,selectors:[["app-header"]],decls:20,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item active",4,"ngIf"],[1,"nav-item","active"],["routerLink","/myProfile",1,"nav-link","btn-outline-secondary"],[1,"sr-only"],[1,"form-inline","mt-2","mt-md-0"],["type","submit",1,"btn","btn-outline-success","my-2","my-sm-0",3,"click"],["routerLink","/users",1,"nav-link","btn-outline-secondary"],["routerLink","/appointments",1,"nav-link","btn-outline-secondary"],["routerLink","/myAppointments",1,"nav-link","btn-outline-secondary"],["routerLink","/signupAppointment",1,"nav-link","btn-outline-secondary"]],template:function(t,e){1&t&&(Ns(0,"header"),Ns(1,"nav",0),Ns(2,"a",1),ao(3,"Clinica Online"),Ds(),Ns(4,"button",2),Rs(5,"span",3),Ds(),Ns(6,"div",4),Ns(7,"ul",5),Ts(8,Wy,5,0,"li",6),Ts(9,Ky,5,0,"li",6),Ts(10,Qy,5,0,"li",6),Ts(11,Zy,5,0,"li",6),Ns(12,"li",7),Ns(13,"a",8),ao(14," Mi perfil "),Ns(15,"span",9),ao(16,"(current)"),Ds(),Ds(),Ds(),Ds(),Ns(17,"form",10),Ns(18,"button",11),Vs("click",(function(){return e.logOut()})),ao(19,"Salir"),Ds(),Ds(),Ds(),Ds(),Ds()),2&t&&(Pr(8),ks("ngIf","administrator"==e.user.usertype),Pr(1),ks("ngIf","administrator"==e.user.usertype),Pr(1),ks("ngIf","patient"==e.user.usertype||"professional"==e.user.usertype),Pr(1),ks("ngIf","patient"==e.user.usertype||"administrator"==e.user.usertype))},directives:[vd,yc,Bp,Xd,qp],styles:[""]}),t})(),Jy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-carousel"]],decls:25,vars:0,consts:[["id","myCarousel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#myCarousel","data-slide-to","0",1,"active"],["data-target","#myCarousel","data-slide-to","1"],["data-target","#myCarousel","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["width","100%","height","100%","src","https://englishlive.ef.com/es-mx/blog/wp-content/uploads/sites/8/2018/09/Vocabulario-en-ingl%C3%A9s-que-todo-m%C3%A9dico-debe-conocer.jpg","alt","",1,"bd-placeholder-img"],[1,"container"],[1,"carousel-caption","text-left","text-dark","font-weight-bold"],["routerLink","/signupAppointment","role","button",1,"btn","btn-lg","btn-primary"],["href","#myCarousel","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#myCarousel","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"ol",1),Rs(2,"li",2),Rs(3,"li",3),Rs(4,"li",4),Ds(),Ns(5,"div",5),Ns(6,"div",6),Rs(7,"img",7),Ns(8,"div",8),Ns(9,"div",9),Ns(10,"h1"),ao(11,"Pida un turno."),Ds(),Ns(12,"p"),ao(13,"Puede pedir un turno seleccionando al profesional o la especialidad."),Ds(),Ns(14,"p"),Ns(15,"a",10),ao(16,"Pedir turno"),Ds(),Ds(),Ds(),Ds(),Ds(),Ds(),Ns(17,"a",11),Rs(18,"span",12),Ns(19,"span",13),ao(20,"Previous"),Ds(),Ds(),Ns(21,"a",14),Rs(22,"span",15),Ns(23,"span",13),ao(24,"Next"),Ds(),Ds(),Ds())},directives:[vd],styles:[""]}),t})(),Xy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-footer"]],decls:3,vars:0,consts:[[1,"container"],[1,"text-center"]],template:function(t,e){1&t&&(Ns(0,"footer",0),Ns(1,"p",1),ao(2,"\xa9 Federico Vera \xb7 "),Ds(),Ds())},styles:[""]}),t})(),tv=(()=>{class t{constructor(t){this.authService=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(Os(ig))},t.\u0275cmp=ue({type:t,selectors:[["app-menu-principal"]],decls:5,vars:0,consts:[["role","main"],[1,"container","marketing"]],template:function(t,e){1&t&&(Rs(0,"app-header"),Ns(1,"main",0),Rs(2,"app-carousel"),Rs(3,"div",1),Rs(4,"app-footer"),Ds())},directives:[Yy,Jy,Xy],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width:768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}"]}),t})();var ev=function(t){return t.PATIENT="patient",t.ADMINISTRATOR="administrator",t.PROFESSIONAL="professional",t}({});function nv(t,e){1&t&&(Ns(0,"div"),ao(1," Nombre es requerido. "),Ds())}function rv(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,nv,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.name.errors.required)}}function iv(t,e){1&t&&(Ns(0,"div"),ao(1," Apellido es requerido. "),Ds())}function sv(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,iv,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.lastName.errors.required)}}function ov(t,e){1&t&&(Ns(0,"div"),ao(1," Edad es requerida. "),Ds())}function av(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,ov,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.age.errors.required)}}function uv(t,e){1&t&&(Ns(0,"div"),ao(1," DNI es requerido. "),Ds())}function cv(t,e){1&t&&(Ns(0,"div"),ao(1," DNI debe tener al menos 7 caracteres. "),Ds())}function lv(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,uv,2,0,"div",37),Ts(2,cv,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.dni.errors.required),Pr(1),ks("ngIf",t.administratorForm.controls.dni.errors.minlength)}}function hv(t,e){1&t&&(Ns(0,"div"),ao(1," Email es requerido. "),Ds())}function fv(t,e){1&t&&(Ns(0,"div"),ao(1," Email invalido. "),Ds())}function dv(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,hv,2,0,"div",37),Ts(2,fv,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.email.errors.required),Pr(1),ks("ngIf",t.administratorForm.controls.email.errors.email)}}function pv(t,e){1&t&&(Ns(0,"div"),ao(1," Contrase\xf1a requerida. "),Ds())}function mv(t,e){1&t&&(Ns(0,"div"),ao(1," La contrase\xf1a debe contener al menos 6 caracteres. "),Ds())}function gv(t,e){if(1&t&&(Ns(0,"div",36),Ts(1,pv,2,0,"div",37),Ts(2,mv,2,0,"div",37),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.administratorForm.controls.password.errors.required),Pr(1),ks("ngIf",t.administratorForm.controls.password.errors.minlength)}}function yv(t,e){if(1&t){const t=js();Ns(0,"div",38),Ns(1,"boot-alert",39),Vs("dismiss",(function(){return Ze(t),qs().navigate()})),Ds(),Ds()}}let vv=(()=>{class t{constructor(t,e,n,r){this.authService=t,this.fb=e,this.administratorService=n,this.router=r,this.registered=!1,this.photos=new Array}ngOnInit(){this.createForm()}createForm(){this.administratorForm=this.fb.group({id:[""],name:["",sp.required],dni:["",[sp.required,sp.minLength(7)]],age:["",sp.required],lastName:["",sp.required],email:["",[sp.required,sp.email]],password:["",[sp.required,sp.minLength(6)]],usertype:[ev.ADMINISTRATOR]})}onSubmit(){try{this.assignPhotos(),this.authService.register(this.administratorForm.controls.email.value,this.administratorForm.controls.password.value).then(t=>{t&&(this.administratorForm.controls.id.setValue(t.uid),this.administratorForm.removeControl("password"),this.administratorService.createAdministrator(this.administratorForm.value,this.photos).then(e=>{console.log("Professional Created",e),t.updateProfile({displayName:e.name}).then(()=>{console.log("Now Verify your email to login."),this.registered=!0})}),this.administratorForm.addControl("password",this.fb.control({password:"111111"})))}).catch(t=>{console.log("Error",t)})}catch(t){console.error(t)}}handlePhoto1(t){this.photo1=t.target.files[0]}assignPhotos(){this.photo1&&this.photos.push(this.photo1)}}return t.\u0275fac=function(e){return new(e||t)(Os(ig),Os(Xp),Os(Sy),Os(gd))},t.\u0275cmp=ue({type:t,selectors:[["app-form-administrator"]],decls:70,vars:9,consts:[[1,"container",2,"margin-top","10%"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","","value","","required","",1,"form-control"],["for","edad"],["type","text","id","edad","formControlName","age","placeholder","Edad","value","","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","value","","required","",1,"form-control"],["for","email"],[1,"text-muted"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file","id","fotos",1,"form-control-file",3,"change"],[1,"invalid-feedback"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"container"],["mensaje","Administrador Registrado correctamente.","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Rs(2,"img",2),Ns(3,"h2"),ao(4,"Clinica Online"),Ds(),Ns(5,"p",3),ao(6,"Registrar un administrador."),Ds(),Ds(),Ns(7,"div",4),Ns(8,"div",5),Ns(9,"h4",6),ao(10,"Datos Necesarios"),Ds(),Ns(11,"form",7),Ns(12,"div",4),Ns(13,"div",8),Ns(14,"label",9),ao(15,"Nombre"),Ds(),Rs(16,"input",10),Ts(17,rv,2,1,"div",11),Ds(),Ns(18,"div",8),Ns(19,"label",12),ao(20,"Apellido"),Ds(),Rs(21,"input",13),Ts(22,sv,2,1,"div",11),Ds(),Ds(),Ns(23,"div",4),Ns(24,"div",8),Ns(25,"label",14),ao(26,"Edad"),Ds(),Rs(27,"input",15),Ts(28,av,2,1,"div",11),Ds(),Ns(29,"div",8),Ns(30,"label",16),ao(31,"DNI"),Ds(),Rs(32,"input",17),Ts(33,lv,3,2,"div",11),Ds(),Ds(),Ns(34,"div",6),Ns(35,"label",18),ao(36,"Correo "),Rs(37,"span",19),Ds(),Rs(38,"input",20),Ts(39,dv,3,2,"div",11),Ds(),Ns(40,"div",6),Ns(41,"label",21),ao(42,"Contrase\xf1a"),Ds(),Rs(43,"input",22),Ts(44,gv,3,2,"div",11),Ds(),Ns(45,"div",4),Ns(46,"div",23),Ns(47,"div",24),Ns(48,"label",25),ao(49,"Imagen de perfil"),Ds(),Ns(50,"input",26),Vs("change",(function(t){return e.handlePhoto1(t)})),Ds(),Ds(),Ns(51,"div",27),ao(52," Please select a valid country. "),Ds(),Ds(),Ds(),Rs(53,"hr",28),Ns(54,"button",29),Vs("click",(function(){return e.onSubmit()})),ao(55,"Registrar Administrador"),Ds(),Ts(56,yv,2,0,"div",30),Ds(),Ds(),Ds(),Ns(57,"footer",31),Ns(58,"p",32),ao(59,"\xa9 Federico Vera"),Ds(),Ns(60,"ul",33),Ns(61,"li",34),Ns(62,"a",35),ao(63,"Privacy"),Ds(),Ds(),Ns(64,"li",34),Ns(65,"a",35),ao(66,"Terms"),Ds(),Ds(),Ns(67,"li",34),Ns(68,"a",35),ao(69,"Support"),Ds(),Ds(),Ds(),Ds(),Ds()),2&t&&(Pr(11),ks("formGroup",e.administratorForm),Pr(6),ks("ngIf",e.administratorForm.controls.name.invalid&&(e.administratorForm.controls.name.dirty||e.administratorForm.controls.name.touched)),Pr(5),ks("ngIf",e.administratorForm.controls.lastName.invalid&&(e.administratorForm.controls.lastName.dirty||e.administratorForm.controls.lastName.touched)),Pr(6),ks("ngIf",e.administratorForm.controls.age.invalid&&(e.administratorForm.controls.age.dirty||e.administratorForm.controls.age.touched)),Pr(5),ks("ngIf",e.administratorForm.controls.dni.invalid&&(e.administratorForm.controls.dni.dirty||e.administratorForm.controls.dni.touched)),Pr(6),ks("ngIf",e.administratorForm.controls.email.invalid&&(e.administratorForm.controls.email.dirty||e.administratorForm.controls.email.touched)),Pr(5),ks("ngIf",e.administratorForm.controls.password.invalid&&(e.administratorForm.controls.password.dirty||e.administratorForm.controls.password.touched)),Pr(10),ks("disabled",e.administratorForm.invalid),Pr(2),ks("ngIf",e.registered))},directives:[Bp,Xd,Gp,$d,Jd,Wp,Qp,yc,My],styles:[""]}),t})(),bv=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-signup-administrator"]],decls:2,vars:0,template:function(t,e){1&t&&(Rs(0,"app-header"),Rs(1,"app-form-administrator"))},directives:[Yy,vv],styles:[""]}),t})(),wv=(()=>{class t{constructor(t){this.db=t,this.getSpecialtys().subscribe(t=>{this.specialtys=t}),this.specialtyDB=this.db.collection("/specialtys",t=>t.orderBy("date"))}getSpecialtys(){return this.db.collection("specialtys").snapshotChanges().pipe(A(t=>t.map(t=>t.payload.doc.data())))}addSpecialty(t){return new Promise((e,n)=>{this.specialtyDB.add(JSON.parse(JSON.stringify(t))).then(n=>{t.id=n.id,this.editSpecialty(JSON.parse(JSON.stringify(t))),e(t)},t=>n(console.error(t)))})}deleteSpecialty(t){try{return this.db.collection("specialtys").doc(t.id).delete().then(t=>{console.log(t)})}catch(e){console.log("Error: ",e)}}editSpecialty(t){return this.db.collection("specialtys").doc(t.id).set(t,{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(Gt(ng))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function _v(t,e){if(1&t){const t=js();Ns(0,"tbody"),Ns(1,"tr",4),Vs("click",(function(){Ze(t);const n=e.$implicit;return qs().onChoose(n)})),Ns(2,"td"),ao(3),Ds(),Ds(),Ds()}if(2&t){const t=e.$implicit;Pr(3),uo(t.specialty)}}let Ev=(()=>{class t{constructor(){this.chooseSpecialty=new _a}ngOnInit(){}onChoose(t){this.chooseSpecialty.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-specialty-list"]],inputs:{specialtys:"specialtys"},outputs:{chooseSpecialty:"chooseSpecialty"},decls:11,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(Ns(0,"nav",0),Ns(1,"h4"),ao(2,"Especialidades"),Ds(),Ds(),Ns(3,"table",1),Ns(4,"caption"),ao(5,"Tabla Especialidades"),Ds(),Ns(6,"thead"),Ns(7,"tr"),Ns(8,"th",2),ao(9,"Especialidad"),Ds(),Ds(),Ds(),Ts(10,_v,4,1,"tbody",3),Ds()),2&t&&(Pr(10),ks("ngForOf",e.specialtys))},directives:[mc],styles:[""]}),t})();class Sv{constructor(t){t&&Object.assign(this,t)}}function Iv(t,e){1&t&&(Ns(0,"div"),ao(1," Duracion es requerida. "),Ds())}function Cv(t,e){if(1&t&&(Ns(0,"div",9),Ts(1,Iv,2,0,"div",10),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.specialtyForm.controls.duration.errors.required)}}function Av(t,e){1&t&&(Ns(0,"div"),ao(1," Especialidad requerida. "),Ds())}function Tv(t,e){if(1&t&&(Ns(0,"div",9),Ts(1,Av,2,0,"div",10),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.specialtyForm.controls.specialty.errors.required)}}function Ov(t,e){1&t&&(Ns(0,"div",11),Ns(1,"span",12),ao(2,"Guardando..."),Ds(),Ds())}function xv(t,e){if(1&t){const t=js();Ns(0,"boot-alert",13),Vs("dismiss",(function(){return Ze(t),qs().resetForm()})),Ds()}}let kv=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.fb=e,this.patientService=n,this.router=r,this.specialtyService=i,this.specialty=new _a,this.mostrarMensaje=!1,this.spinner=!1}ngOnInit(){this.createFormSpecialty()}createFormSpecialty(){this.specialtyForm=this.fb.group({specialty:["",sp.required],duration:["",sp.required]})}addSpecialty(){this.spinner=!0,console.log(this.specialtyForm.value);var t=new Sv;t.specialty=this.specialtyForm.controls.specialty.value,t.duration=this.specialtyForm.controls.duration.value,this.specialtyService.addSpecialty(t).then(e=>{this.spinner=!1,this.mostrarMensaje=!this.mostrarMensaje,this.specialty.emit(t)})}resetForm(){this.mostrarMensaje=!this.mostrarMensaje,this.specialtyForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(Os(ig),Os(Xp),Os(by),Os(gd),Os(wv))},t.\u0275cmp=ue({type:t,selectors:[["app-specialty-form"]],outputs:{specialty:"specialty"},decls:15,vars:6,consts:[["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","livespan"],["type","text","id","livespan","formControlName","duration","placeholder","Promedio de turno","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","text","id","livespan","formControlName","specialty","placeholder","Promedio de turno","value","","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","spinner-grow text-warning","role","status",4,"ngIf"],["mensaje","Especialidad Agregada","color","danger",3,"dismiss",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],["role","status",1,"spinner-grow","text-warning"],[1,"sr-only"],["mensaje","Especialidad Agregada","color","danger",3,"dismiss"]],template:function(t,e){1&t&&(Ns(0,"form",0),Ns(1,"div",1),Ns(2,"label",2),ao(3,"Duraci\xf3n (min)"),Ds(),Rs(4,"input",3),Ts(5,Cv,2,1,"div",4),Ds(),Ns(6,"div",1),Ns(7,"label",2),ao(8,"Nombre"),Ds(),Rs(9,"input",5),Ts(10,Tv,2,1,"div",4),Ds(),Ns(11,"button",6),Vs("click",(function(){return e.addSpecialty()})),ao(12,"Agregar Especialidad "),Ds(),Ts(13,Ov,3,0,"div",7),Ts(14,xv,1,0,"boot-alert",8),Ds()),2&t&&(ks("formGroup",e.specialtyForm),Pr(5),ks("ngIf",e.specialtyForm.controls.duration.invalid&&(e.specialtyForm.controls.duration.dirty||e.specialtyForm.controls.duration.touched)),Pr(5),ks("ngIf",e.specialtyForm.controls.specialty.invalid&&(e.specialtyForm.controls.specialty.dirty||e.specialtyForm.controls.specialty.touched)),Pr(1),ks("disabled",e.specialtyForm.invalid),Pr(2),ks("ngIf",e.spinner),Pr(1),ks("ngIf",e.mostrarMensaje))},directives:[Bp,Xd,Gp,$d,Jd,Wp,Qp,yc,My],styles:[""]}),t})();function Pv(t,e){1&t&&(Ns(0,"div"),ao(1," Nombre es requerido. "),Ds())}function Nv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,Pv,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.name.errors.required)}}function Dv(t,e){1&t&&(Ns(0,"div"),ao(1," Apellido es requerido. "),Ds())}function Rv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,Dv,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.lastName.errors.required)}}function jv(t,e){1&t&&(Ns(0,"div"),ao(1," Edad es requerida. "),Ds())}function Fv(t,e){1&t&&(Ns(0,"div"),ao(1," Edad debe ser mayor a 18. "),Ds())}function Lv(t,e){1&t&&(Ns(0,"div"),ao(1," Edad debe ser menor a 99. "),Ds())}function Vv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,jv,2,0,"div",28),Ts(2,Fv,2,0,"div",28),Ts(3,Lv,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.age.errors.required),Pr(1),ks("ngIf",t.professionalForm.controls.age.errors.min),Pr(1),ks("ngIf",t.professionalForm.controls.age.errors.max)}}function Mv(t,e){1&t&&(Ns(0,"div"),ao(1," DNI es requerido. "),Ds())}function Uv(t,e){1&t&&(Ns(0,"div"),ao(1," DNI debe tener al menos 7 caracteres. "),Ds())}function qv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,Mv,2,0,"div",28),Ts(2,Uv,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.dni.errors.required),Pr(1),ks("ngIf",t.professionalForm.controls.dni.errors.minlength)}}function Bv(t,e){1&t&&(Ns(0,"div"),ao(1," Email es requerido. "),Ds())}function zv(t,e){1&t&&(Ns(0,"div"),ao(1," Email invalido. "),Ds())}function Hv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,Bv,2,0,"div",28),Ts(2,zv,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.email.errors.required),Pr(1),ks("ngIf",t.professionalForm.controls.email.errors.email)}}function Gv(t,e){1&t&&(Ns(0,"div"),ao(1," Contrase\xf1a requerida. "),Ds())}function $v(t,e){1&t&&(Ns(0,"div"),ao(1," La contrase\xf1a debe contener al menos 6 caracteres. "),Ds())}function Wv(t,e){if(1&t&&(Ns(0,"div",42),Ts(1,Gv,2,0,"div",28),Ts(2,$v,2,0,"div",28),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.professionalForm.controls.password.errors.required),Pr(1),ks("ngIf",t.professionalForm.controls.password.errors.minlength)}}function Kv(t,e){1&t&&(Ns(0,"label"),Ns(1,"b"),ao(2,"Elija su/s especialidad/es :"),Ds(),Ds())}function Qv(t,e){if(1&t){const t=js();Ns(0,"ul",44),Ns(1,"li",45),ao(2),Ns(3,"span",46),Ns(4,"i",47),Vs("click",(function(){Ze(t);const n=e.index;return qs(2).deleteSpecialty(n)})),Ds(),Ds(),Ds(),Ds()}if(2&t){const t=e.$implicit;Pr(2),co(" ",t.specialty," ")}}function Zv(t,e){if(1&t&&(Ns(0,"div",24),Ns(1,"label"),Ns(2,"b"),ao(3,"Epecialidad/es elegida/s :"),Ds(),Ds(),Ts(4,Qv,5,1,"ul",43),Ds()),2&t){const t=qs();Pr(4),ks("ngForOf",t.specialtysChoosen)}}function Yv(t,e){if(1&t){const t=js();Ns(0,"button",48),Vs("click",(function(){Ze(t);const e=qs();return e.showSpecialtyForm=!e.showSpecialtyForm})),ao(1,"\u2795"),Ds()}}function Jv(t,e){if(1&t){const t=js();Ns(0,"button",48),Vs("click",(function(){Ze(t);const e=qs();return e.showSpecialtyForm=!e.showSpecialtyForm})),ao(1,"\u2796"),Ds()}}function Xv(t,e){if(1&t){const t=js();Ns(0,"div",4),Ns(1,"div",8),Ns(2,"app-specialty-form",49),Vs("specialty",(function(e){return Ze(t),qs().onChooseSpecialty(e)})),Ds(),Ds(),Ds()}}function tb(t,e){if(1&t){const t=js();Ns(0,"div",50),Ns(1,"boot-alert",51),Vs("dismiss",(function(){return Ze(t),qs().navigate()})),Ds(),Ds()}}let eb=(()=>{class t{constructor(t,e,n,r,i){this.authService=t,this.fb=e,this.profesionalService=n,this.router=r,this.specialtyService=i,this.showSpecialtyForm=!1,this.registered=!1,this.photos=new Array}ngOnInit(){this.createForm(),this.specialtyService.getSpecialtys().subscribe(t=>{this.specialtys=t})}createForm(){this.professionalForm=this.fb.group({id:[""],name:["",sp.required],dni:["",[sp.required,sp.minLength(7)]],age:["",[sp.required,sp.min(18),sp.max(99)]],lastName:["",sp.required],email:["",[sp.required,sp.email]],password:["",[sp.required,sp.minLength(6)]],specialty:[Array,sp.required],approved:[""],usertype:[ev.PROFESSIONAL]})}verError(){console.log(this.professionalForm)}onSubmit(){try{this.assignPhotos(),this.authService.register(this.professionalForm.controls.email.value,this.professionalForm.controls.password.value).then(t=>{t&&(this.professionalForm.controls.id.setValue(t.uid),this.professionalForm.controls.approved.setValue(!1),this.professionalForm.removeControl("password"),this.profesionalService.createProfessional(this.professionalForm.value,this.photos).then(e=>{console.log("Professional Created",e),t.updateProfile({displayName:e.name}).then(()=>{console.log("Now Verify your email to login."),this.registered=!0})}),this.professionalForm.addControl("password",this.fb.control({password:"111111"})))}).catch(t=>{console.log("Error",t)})}catch(t){console.error(t)}}handlePhoto1(t){this.photo1=t.target.files[0]}handlePhoto2(t){this.photo2=t.target.files[0]}assignPhotos(){this.photo1&&this.photos.push(this.photo1)}navigate(){this.router.navigate(["/login"])}onChooseSpecialty(t){if(this.specialtysChoosen){let e=!1;this.specialtysChoosen.forEach(n=>{t.specialty==n.specialty&&(e=!0)}),e||(this.specialtysChoosen.push(t),this.professionalForm.controls.specialty.setValue(this.specialtysChoosen),console.log(t))}else this.specialtysChoosen=[],this.specialtysChoosen.push(t),this.professionalForm.controls.specialty.setValue(this.specialtysChoosen),console.log(t)}deleteSpecialty(t){this.specialtysChoosen.splice(t,1)}}return t.\u0275fac=function(e){return new(e||t)(Os(ig),Os(Xp),Os(_y),Os(gd),Os(wv))},t.\u0275cmp=ue({type:t,selectors:[["app-form-professional"]],decls:82,vars:15,consts:[[1,"container","mt-5"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","Nombre","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Apellido","value","","required","",1,"form-control"],["for","edad"],["type","number","id","edad","formControlName","age","placeholder","Edad","min","18","max","99","placeholder","Edad","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","value","","required","",1,"form-control"],["for","email"],[1,"text-muted"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file","id","fotos",1,"form-control-file",3,"change"],[1,"invalid-feedback"],[4,"ngIf"],["class","form-group",4,"ngIf"],[3,"specialtys","chooseSpecialty"],["for","newSpecialty"],["id","newSpecialty","class","btn btn-outline-success",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","badge-primary","badge-pill"],["aria-hidden","true",1,"fa","fa-trash",3,"click"],["id","newSpecialty",1,"btn","btn-outline-success",3,"click"],[3,"specialty"],[1,"container"],["mensaje","Profesional Registrado correctamente. Verifique su casilla de correo y aguarde a ser aprobado por un Administrador","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Rs(2,"img",2),Ns(3,"h2"),ao(4,"Clinica Online"),Ds(),Ns(5,"p",3),ao(6,"Rellene el formulario para registrar un profesional."),Ds(),Ds(),Ns(7,"div",4),Ns(8,"div",5),Ns(9,"h4",6),ao(10,"Datos Necesarios"),Ds(),Ns(11,"form",7),Ns(12,"div",4),Ns(13,"div",8),Ns(14,"label",9),ao(15,"Nombre"),Ds(),Rs(16,"input",10),Ts(17,Nv,2,1,"div",11),Ds(),Ns(18,"div",8),Ns(19,"label",12),ao(20,"Apellido"),Ds(),Rs(21,"input",13),Ts(22,Rv,2,1,"div",11),Ds(),Ds(),Ns(23,"div",4),Ns(24,"div",8),Ns(25,"label",14),ao(26,"Edad"),Ds(),Rs(27,"input",15),Ts(28,Vv,4,3,"div",11),Ds(),Ns(29,"div",8),Ns(30,"label",16),ao(31,"DNI"),Ds(),Rs(32,"input",17),Ts(33,qv,3,2,"div",11),Ds(),Ds(),Ns(34,"div",6),Ns(35,"label",18),ao(36,"Correo "),Rs(37,"span",19),Ds(),Rs(38,"input",20),Ts(39,Hv,3,2,"div",11),Ds(),Ns(40,"div",6),Ns(41,"label",21),ao(42,"Contrase\xf1a"),Ds(),Rs(43,"input",22),Ts(44,Wv,3,2,"div",11),Ds(),Ns(45,"div",4),Ns(46,"div",23),Ns(47,"div",24),Ns(48,"label",25),ao(49,"Imagen de perfil"),Ds(),Ns(50,"input",26),Vs("change",(function(t){return e.handlePhoto1(t)})),Ds(),Ds(),Ns(51,"div",27),ao(52," Please select a valid country. "),Ds(),Ds(),Ds(),Ns(53,"div",4),Ns(54,"div",23),Ts(55,Kv,3,0,"label",28),Ts(56,Zv,5,1,"div",29),Ds(),Ds(),Ns(57,"app-specialty-list",30),Vs("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Ds(),Ns(58,"label",31),Ns(59,"b"),ao(60,"Agregar nueva especialidad"),Ds(),Ds(),ao(61," \xa0 "),Ts(62,Yv,2,0,"button",32),Ts(63,Jv,2,0,"button",32),Ts(64,Xv,3,0,"div",33),Rs(65,"hr",34),Ns(66,"button",35),Vs("click",(function(){return e.onSubmit()})),ao(67,"Registrar Profesional"),Ds(),Ts(68,tb,2,0,"div",36),Ds(),Ds(),Ds(),Ns(69,"footer",37),Ns(70,"p",38),ao(71,"\xa9 Federico Vera"),Ds(),Ns(72,"ul",39),Ns(73,"li",40),Ns(74,"a",41),ao(75,"Privacy"),Ds(),Ds(),Ns(76,"li",40),Ns(77,"a",41),ao(78,"Terms"),Ds(),Ds(),Ns(79,"li",40),Ns(80,"a",41),ao(81,"Support"),Ds(),Ds(),Ds(),Ds(),Ds()),2&t&&(Pr(11),ks("formGroup",e.professionalForm),Pr(6),ks("ngIf",e.professionalForm.controls.name.invalid&&(e.professionalForm.controls.name.dirty||e.professionalForm.controls.name.touched)),Pr(5),ks("ngIf",e.professionalForm.controls.lastName.invalid&&(e.professionalForm.controls.lastName.dirty||e.professionalForm.controls.lastName.touched)),Pr(6),ks("ngIf",e.professionalForm.controls.age.invalid&&(e.professionalForm.controls.age.dirty||e.professionalForm.controls.age.touched)),Pr(5),ks("ngIf",e.professionalForm.controls.dni.invalid&&(e.professionalForm.controls.dni.dirty||e.professionalForm.controls.dni.touched)),Pr(6),ks("ngIf",e.professionalForm.controls.email.invalid&&(e.professionalForm.controls.email.dirty||e.professionalForm.controls.email.touched)),Pr(5),ks("ngIf",e.professionalForm.controls.password.invalid&&(e.professionalForm.controls.password.dirty||e.professionalForm.controls.password.touched)),Pr(11),ks("ngIf",!e.specialtysChoosen),Pr(1),ks("ngIf",e.specialtysChoosen),Pr(1),ks("specialtys",e.specialtys),Pr(5),ks("ngIf",!e.showSpecialtyForm),Pr(1),ks("ngIf",e.showSpecialtyForm),Pr(1),ks("ngIf",e.showSpecialtyForm),Pr(2),ks("disabled",e.professionalForm.invalid),Pr(2),ks("ngIf",e.registered))},directives:[Bp,Xd,Gp,$d,Jd,Wp,Qp,yc,fp,Ev,mc,kv,My],styles:[""]}),t})(),nb=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-signup-professional"]],decls:2,vars:0,template:function(t,e){1&t&&(Rs(0,"app-header"),Rs(1,"app-form-professional"))},directives:[Yy,eb],styles:[""]}),t})();class rb{}function ib(t,e=null){return{type:4,styles:e,timings:t}}function sb(t,e=null){return{type:3,steps:t,options:e}}function ob(t,e=null){return{type:2,steps:t,options:e}}function ab(t){return{type:6,styles:t,offset:null}}function ub(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function cb(t=null){return{type:9,options:t}}function lb(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function hb(t){Promise.resolve(null).then(t)}class fb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class db{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?hb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function pb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mb(t){switch(t.length){case 0:return new fb;case 1:return t[0];default:return new db(t)}}function gb(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function yb(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&vb(n,"start",t)));break;case"done":t.onDone(()=>r(n&&vb(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&vb(n,"destroy",t)))}}function vb(t,e,n){const r=n.totalTime,i=bb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function bb(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function wb(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function _b(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Eb=(t,e)=>!1,Sb=(t,e)=>!1,Ib=(t,e,n)=>[];const Cb=pb();(Cb||"undefined"!=typeof Element)&&(Eb=(t,e)=>t.contains(e),Sb=(()=>{if(Cb||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Sb}})(),Ib=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ab=null,Tb=!1;function Ob(t){Ab||(Ab=("undefined"!=typeof document?document.body:null)||{},Tb=!!Ab.style&&"WebkitAppearance"in Ab.style);let e=!0;return Ab.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ab.style,!e&&Tb)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ab.style),e}const xb=Sb,kb=Eb,Pb=Ib;function Nb(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Db=(()=>{class t{validateStyleProperty(t){return Ob(t)}matchesElement(t,e){return xb(t,e)}containsElement(t,e){return kb(t,e)}query(t,e,n){return Pb(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new fb(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Rb=(()=>{class t{}return t.NOOP=new Db,t})();function jb(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fb(parseFloat(e[1]),e[2])}function Fb(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Lb(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Fb(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Fb(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Vb(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Mb(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Vb(t,n);return n}function Ub(t,e,n){return n?e+":"+n+";":""}function qb(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Ub(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Ub(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Bb(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Zb(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),pb()&&qb(t))}function zb(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Zb(e);t.style[n]=""}),pb()&&qb(t))}function Hb(t){return Array.isArray(t)?1==t.length?t[0]:ob(t):t}const Gb=new RegExp("{{\\s*(.+?)\\s*}}","g");function $b(t){let e=[];if("string"==typeof t){let n;for(;n=Gb.exec(t);)e.push(n[1]);Gb.lastIndex=0}return e}function Wb(t,e,n){const r=t.toString(),i=r.replace(Gb,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function Kb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Qb=/-+([a-z0-9])/g;function Zb(t){return t.replace(Qb,(...t)=>t[1].toUpperCase())}function Yb(t,e){return 0===t||0===e}function Jb(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=tw(t,e)}))}}return e}function Xb(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function tw(t,e){return window.getComputedStyle(t)[e]}function ew(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(iw(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(iw(o,i))}(t,n,e)):n.push(t),n}const nw=new Set(["true","1"]),rw=new Set(["false","0"]);function iw(t,e){const n=nw.has(t)||rw.has(t),r=nw.has(e)||rw.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?nw.has(t):rw.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?nw.has(e):rw.has(e)),o&&a}}const sw=new RegExp("s*:selfs*,?","g");function ow(t,e,n){return new aw(t).build(e,n)}class aw{constructor(t){this._driver=t}build(t,e){const n=new uw(e);return this._resetContextStyleTimingState(n),Xb(this,Hb(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(cw(t)){const e=t;Object.keys(e).forEach(t=>{$b(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Kb(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xb(this,Hb(t.animation),e);return{type:1,matchers:ew(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:lw(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xb(this,t,e)),options:lw(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Xb(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:lw(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hw(Lb(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=hw(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Lb(r,e),hw(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:ab({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=ab(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(cw(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=$b(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(cw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(cw(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xb(this,Hb(t.animation),e),options:lw(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:lw(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:lw(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sw,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,wb(e.collectedStyles,e.currentQuerySelector,{});const o=Xb(this,Hb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:lw(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Lb(t.timings,e.errors,!0);return{type:12,animation:Xb(this,Hb(t.animation),e),timings:n,options:null}}}class uw{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cw(t){return!Array.isArray(t)&&"object"==typeof t}function lw(t){var e;return t?(t=Vb(t)).params&&(t.params=(e=t.params)?Vb(e):null):t={},t}function hw(t,e,n){return{duration:t,delay:e,easing:n}}function fw(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class dw{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pw=new RegExp(":enter","g"),mw=new RegExp(":leave","g");function gw(t,e,n,r,i,s={},o={},a,u,c=[]){return(new yw).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class yw{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new dw;const l=new bw(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Xb(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[fw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?jb(n.duration):null,s=null!=n.delay?jb(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Xb(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vw);const t=jb(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xb(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?jb(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Xb(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Lb(e.params?Wb(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?jb(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vw);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Xb(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Xb(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const vw={};class bw{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ww(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=jb(n.duration)),null!=n.delay&&(r.delay=jb(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Wb(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new bw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=vw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new _w(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(pw,"."+this._enterClassName)).replace(mw,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ww{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ww(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Mb(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Wb(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Mb(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Kb(t.values()):[],s=e.size?Kb(e.values()):[];if(n){const t=r[0],e=Vb(t);t.offset=0,e.offset=1,r=[t,e]}return fw(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class _w extends ww{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Mb(t[0],!1);a.offset=0,i.push(a);const u=Mb(t[0],!1);u.offset=Ew(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Mb(t[r],!1);o.offset=Ew((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return fw(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ew(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Sw{}class Iw extends Sw{normalizePropertyName(t,e){return Zb(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Cw[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Cw=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Aw(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Tw={};class Ow{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Tw,f=this.buildStyles(n,o&&o.params||Tw,l),d=a&&a.params||Tw,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:gw(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return Aw(e,this._triggerName,n,r,v,f,p,[],[],g,y,_,l);w.forEach(t=>{const n=t.element,r=wb(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=wb(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=Kb(m.values());return Aw(e,this._triggerName,n,r,v,f,p,w,E,g,y,_)}}class xw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Vb(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Wb(s,r,e)),n[t]=s})}}),n}}class kw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new xw(t.style,t.options&&t.options.params||{})}),Pw(this.states,"true","1"),Pw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ow(t,e,this.states))}),this.fallbackTransition=new Ow(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Pw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Nw=new dw;class Dw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ow(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=gb(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=gw(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Nw,r),s.forEach(t=>{const e=wb(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=mb(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=bb(e,"","","");return yb(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Rw=[],jw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Lw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Vb(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Vw=new Lw("void");class Mw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,$w(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=wb(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=wb(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||($w(t,"ng-trigger"),$w(t,"ng-trigger-"+e),a[e]=Vw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new qw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||($w(t,"ng-trigger"),$w(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Lw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Vw),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{zb(t,n),Bb(t,r)})}return}const c=wb(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||($w(t,"ng-animate-queued"),s.onStart(()=>{Ww(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&mb(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Vw,o=new Lw("void"),a=new qw(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==jw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){$w(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=bb(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,yb(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Uw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Mw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Bw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Bw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),$w(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ww(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Bw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Bw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mb(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=jw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)$w(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?mb(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new dw,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Gw(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>$w(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=Gw(h,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>$w(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>Ww(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Ww(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>zb(i,p.fromStyles)),e.onDestroy(()=>Bb(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>zb(i,p.fromStyles)),e.onDestroy(()=>Bb(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>wb(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{wb(E,e,[]).push(t),t.destroy()})});const I=m.filter(t=>Qw(t,a,u)),C=new Map;Hw(C,this.driver,y,u,"*").forEach(t=>{Qw(t,a,u)&&I.push(t)});const A=new Map;f.forEach((t,e)=>{Hw(A,this.driver,new Set(t),a,"!")}),I.forEach(t=>{const e=C.get(t),n=A.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const T=[],O=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Bb(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,A,C);if(s.setRealPlayer(n),t===x)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=mb(e)),r.push(s)}}else zb(e,o.fromStyles),s.onDestroy(()=>Bb(e,o.toStyles)),O.push(s),c.has(e)&&r.push(s)}),O.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=mb(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(Ww(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Kw(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=wb(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}zb(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new fb(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof db?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Rw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=gb(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new qw(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{wb(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>$w(t,"ng-animating"));const f=mb(h);return f.onDestroy(()=>{c.forEach(t=>Ww(t,"ng-animating")),Bb(a,e.toStyles)}),l.forEach(t=>{wb(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new fb(t.duration,t.delay)}}class qw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new fb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>yb(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wb(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Bw(t){return t&&1===t.nodeType}function zw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Hw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(zw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Fw,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>zw(t,s[a++])),o}function Gw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function $w(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ww(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Kw(t,e,n){mb(n).onDone(()=>t.processLeaveNode(e))}function Qw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Zw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Uw(t,e,n),this._timelineEngine=new Dw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ow(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new kw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=_b(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=_b(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Yw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Xw(e[0]),e.length>1&&(r=Xw(e[e.length-1]))):e&&(n=Xw(e)),n||r?new Jw(t,n,r):null}let Jw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Bb(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bb(this._element,this._initialStyles),this._endStyles&&(Bb(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zb(this._element,this._endStyles),this._endStyles=null),Bb(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Xw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];t_(i)&&(e=e||{},e[i]=t[i])}return e}function t_(t){return"display"===t||"position"===t}class e_{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=a_(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),o_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),s_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){n_(this._element,this._name,"paused")}resume(){n_(this._element,this._name,"running")}setPosition(t){const e=r_(this._element,this._name);this._position=t*this._duration,o_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),s_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=a_(t,"").split(","),r=i_(n,e);r>=0&&(n.splice(r,1),o_(t,"",n.join(",")))}(this._element,this._name))}}function n_(t,e,n){o_(t,"PlayState",n,r_(t,e))}function r_(t,e){const n=a_(t,"");return n.indexOf(",")>0?i_(n.split(","),e):i_([n],e)}function i_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function s_(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function o_(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function a_(t,e){return t.style["animation"+e]}class u_{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new e_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tw(this.element,n))})}this.currentSnapshot=t}}class c_ extends fb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Nb(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class l_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ob(t)}matchesElement(t,e){return xb(t,e)}containsElement(t,e){return kb(t,e)}query(t,e,n){return Pb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Nb(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof u_),u={};Yb(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Jb(t,e,u));if(0==n)return new c_(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Yw(t,e),d=new u_(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class h_{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tw(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class f_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(d_().toString()),this._cssKeyframesDriver=new l_}validateStyleProperty(t){return Ob(t)}matchesElement(t,e){return xb(t,e)}containsElement(t,e){return kb(t,e)}query(t,e,n){return Pb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof h_);Yb(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Yw(t,e=Jb(t,e=e.map(t=>Mb(t,!1)),u));return new h_(t,e,a,l)}}function d_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let p_=(()=>{class t extends rb{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ie.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ob(t):t;return y_(this._renderer,null,e,"register",[n]),new m_(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ao),Gt(_u))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class m_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new g_(this._id,t,e||{},this._renderer)}}class g_{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return y_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function y_(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let v_=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new b_("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new w_(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Gt(Ao),Gt(Zw),Gt(za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class b_{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class w_ extends b_{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let __=(()=>{class t extends Zw{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Gt(_u),Gt(Rb),Gt(Sw))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const E_=[{provide:Rb,useFactory:function(){return"function"==typeof d_()?new f_:new l_}},{provide:new jt("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:rb,useClass:p_},{provide:Sw,useFactory:function(){return new Iw}},{provide:Zw,useClass:__},{provide:Ao,useFactory:function(t,e,n){return new v_(t,e,n)},deps:[Gc,Zw,za]}];let S_=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:E_,imports:[rl]}),t})();function I_(t,e){if(1&t){const t=js();Ns(0,"tbody"),Ns(1,"tr",4),Vs("click",(function(){Ze(t);const n=e.$implicit;return qs().onChoosePatient(n)})),Ns(2,"td"),ao(3),Ds(),Ns(4,"td"),ao(5),Ds(),Ns(6,"td"),ao(7),Ds(),Ns(8,"td",5),Rs(9,"img",6),Ds(),Ns(10,"td",5),Rs(11,"img",6),Ds(),Ds(),Ds()}if(2&t){const t=e.$implicit;Pr(3),uo(t.name),Pr(2),uo(t.lastName),Pr(2),uo(t.email),Pr(2),Bs("src",t.photos[0],pr),Pr(2),Bs("src",t.photos[1],pr)}}let C_=(()=>{class t{constructor(){this.choosePatient=new _a}ngOnInit(){}onChoosePatient(t){this.choosePatient.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-patient-list"]],inputs:{patients:"patients"},outputs:{choosePatient:"choosePatient"},decls:19,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"width","20%"],["alt","",2,"height","100px","width","100px",3,"src"]],template:function(t,e){1&t&&(Ns(0,"nav",0),Ns(1,"h4"),ao(2,"Listado Pacientes"),Ds(),Ds(),Ns(3,"table",1),Ns(4,"caption"),ao(5,"Listado Pacientes"),Ds(),Ns(6,"thead"),Ns(7,"tr"),Ns(8,"th",2),ao(9,"Nombre"),Ds(),Ns(10,"th",2),ao(11,"Apellido"),Ds(),Ns(12,"th",2),ao(13,"correo"),Ds(),Ns(14,"th",2),ao(15,"Foto1"),Ds(),Ns(16,"th",2),ao(17,"Foto2"),Ds(),Ds(),Ds(),Ts(18,I_,12,5,"tbody",3),Ds()),2&t&&(Pr(18),ks("ngForOf",e.patients))},directives:[mc],styles:[""]}),t})(),A_=(()=>{class t{constructor(t,e){this.db=t,this.storage=e,this.getAppointments().subscribe(t=>{this.appointments=t}),this.appointmentsDB=this.db.collection("/appointments",t=>t.orderBy("date"))}getAppointments(){return this.db.collection("appointments",t=>t.orderBy("timeStamp")).snapshotChanges().pipe(A(t=>t.map(t=>t.payload.doc.data())))}addAppointment(t){return new Promise((e,n)=>{this.appointmentsDB.add(JSON.parse(JSON.stringify(t))).then(n=>{t.id=n.id,this.editAppointment(t),e(t)},t=>n(console.error(t)))})}deleteAppointment(t){try{return this.db.collection("appointments").doc(t.id).delete().then(t=>{console.log(t)})}catch(e){console.log("Error: ",e)}}editAppointment(t){return this.db.collection("appointments").doc(t.id).set(JSON.parse(JSON.stringify(t)))}}return t.\u0275fac=function(e){return new(e||t)(Gt(ng),Gt(yy))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T_=(()=>{class t{constructor(t){this.el=t}ngOnChanges(){this.changeColor(1==this.isApproved?"green":"red")}changeColor(t){this.el.nativeElement.style.backgroundColor=t}}return t.\u0275fac=function(e){return new(e||t)(Os(Io))},t.\u0275dir=pe({type:t,selectors:[["","appResaltarHabilitado",""]],inputs:{isApproved:"isApproved"},features:[Te]}),t})(),O_=(()=>{class t{transform(t,...e){return 1==t?"HABILITADO":"DESHABILITADO"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=me({name:"approved",type:t,pure:!0}),t})();function x_(t,e){1&t&&(Ns(0,"th",2),ao(1,"Estado"),Ds())}function k_(t,e){if(1&t){const t=js();Ns(0,"td",11),Vs("click",(function(){Ze(t);const e=qs().$implicit;return qs().approveProfessional(e)})),ao(1),ga(2,"approved"),Ds()}if(2&t){const t=qs().$implicit;ks("isApproved",t.approved),Pr(1),co(" ",ya(2,2,t.approved)," ")}}function P_(t,e){if(1&t){const t=js();Ns(0,"tbody"),Ns(1,"tr",7),Vs("click",(function(){Ze(t);const n=e.$implicit;return qs().onChoose(n)})),Ns(2,"td"),ao(3),Ds(),Ns(4,"td"),ao(5),Ds(),Ns(6,"td"),ao(7),Ds(),Ns(8,"td",8),Rs(9,"img",9),Ds(),Ts(10,k_,3,4,"td",10),Ds(),Ds()}if(2&t){const t=e.$implicit,n=qs();Pr(3),uo(t.name),Pr(2),uo(t.lastName),Pr(2),uo(t.email),Pr(2),Bs("src",t.photos[0],pr),Pr(1),ks("ngIf",n.isAdministrator)}}function N_(t,e){1&t&&(Ns(0,"div",12),Ns(1,"span",13),ao(2,"Guardando..."),Ds(),Ds())}let D_=(()=>{class t{constructor(t){this.professionalService=t,this.chooseProfessional=new _a,this.spinner=!1}ngOnInit(){"administrator"==JSON.parse(localStorage.getItem("user")).usertype&&(this.isAdministrator=!0)}onChoose(t){this.chooseProfessional.emit(t)}approveProfessional(t){this.spinner=!0,console.log(t),t.approved=!t.approved,this.professionalService.editProfessional(t).then(t=>{this.spinner=!1,console.log("Modificado correctamente")})}}return t.\u0275fac=function(e){return new(e||t)(Os(_y))},t.\u0275cmp=ue({type:t,selectors:[["app-professional-list"]],inputs:{professionals:"professionals"},outputs:{chooseProfessional:"chooseProfessional"},decls:20,vars:3,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm","table-hover"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"position","absolute","top","50%","left","50%"],["class","spinner-grow text-warning text-center ","role","status","style","width: 3rem; height: 3rem;",4,"ngIf"],[2,"cursor","pointer",3,"click"],[2,"width","20%"],["alt","",2,"height","100px","width","100px",3,"src"],["class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","habilitar/deshabilitar","appResaltarHabilitado","",3,"isApproved","click",4,"ngIf"],["data-toggle","tooltip","data-placement","top","title","habilitar/deshabilitar","appResaltarHabilitado","",1,"btn","btn-secondary",3,"isApproved","click"],["role","status",1,"spinner-grow","text-warning","text-center",2,"width","3rem","height","3rem"],[1,"sr-only"]],template:function(t,e){1&t&&(Ns(0,"nav",0),Ns(1,"h4"),ao(2,"Profesionales"),Ds(),Ds(),Ns(3,"table",1),Ns(4,"caption"),ao(5,"Tabla Profesionales"),Ds(),Ns(6,"thead"),Ns(7,"tr"),Ns(8,"th",2),ao(9,"Nombre"),Ds(),Ns(10,"th",2),ao(11,"Apellido"),Ds(),Ns(12,"th",2),ao(13,"Correo"),Ds(),Ns(14,"th",2),ao(15,"Foto"),Ds(),Ts(16,x_,2,0,"th",3),Ds(),Ds(),Ts(17,P_,11,5,"tbody",4),Ds(),Ns(18,"div",5),Ts(19,N_,3,0,"div",6),Ds()),2&t&&(Pr(16),ks("ngIf",e.isAdministrator),Pr(1),ks("ngForOf",e.professionals),Pr(2),ks("ngIf",e.spinner))},directives:[yc,mc,T_],pipes:[O_],styles:[""]}),t})();function R_(t,e){if(1&t&&(Ns(0,"td"),ao(1),Ds()),2&t){const t=qs().$implicit;Pr(1),lo("",t.professional.name," ",t.professional.lastName,"")}}function j_(t,e){1&t&&(Ns(0,"td",7),ao(1,"Seleccione Profesional"),Ds())}function F_(t,e){if(1&t&&(Ns(0,"td"),ao(1),Ds()),2&t){const t=qs().$implicit;Pr(1),lo("",t.patient.name," ",t.patient.lastName,"")}}function L_(t,e){1&t&&(Ns(0,"td",7),ao(1,"Seleccione Turno"),Ds())}function V_(t,e){if(1&t&&(Ns(0,"td"),ao(1),Ds()),2&t){const t=qs().$implicit;Pr(1),uo(t.specialty.specialty)}}function M_(t,e){1&t&&(Ns(0,"td",7),ao(1,"Seleccione Especialidad"),Ds())}function U_(t,e){if(1&t&&(Ns(0,"td"),ao(1),ga(2,"date"),Ds()),2&t){const t=qs().$implicit;Pr(1),uo(va(2,1,t.timeStamp,"dd/MM/yyyy HH:mm"))}}function q_(t,e){1&t&&(Ns(0,"td",7),ao(1,"Seleccione Turno"),Ds())}function B_(t,e){if(1&t){const t=js();Ns(0,"tbody"),Ns(1,"tr",4),Vs("click",(function(){Ze(t);const n=e.$implicit;return qs().onChoose(n)})),Ts(2,R_,2,2,"td",5),Ts(3,j_,2,0,"td",6),Ts(4,F_,2,2,"td",5),Ts(5,L_,2,0,"td",6),Ts(6,V_,2,1,"td",5),Ts(7,M_,2,0,"td",6),Ts(8,U_,3,4,"td",5),Ts(9,q_,2,0,"td",6),Ds(),Ds()}if(2&t){const t=e.$implicit;Pr(2),ks("ngIf",t.professional),Pr(1),ks("ngIf",!t.professional),Pr(1),ks("ngIf",t.patient),Pr(1),ks("ngIf",!t.patient),Pr(1),ks("ngIf",t.specialty),Pr(1),ks("ngIf",!t.specialty),Pr(1),ks("ngIf",t.timeStamp),Pr(1),ks("ngIf",!t.timeStamp)}}let z_=(()=>{class t{constructor(){this.chooseAppointment=new _a}ngOnInit(){}onChoose(t){this.chooseAppointment.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-appointment-list"]],inputs:{appointments:"appointments"},outputs:{chooseAppointment:"chooseAppointment"},decls:15,vars:1,consts:[[1,"navbar"],[1,"table","table-striped","table-responsive-sm"],["scope","col"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,e){1&t&&(Rs(0,"nav",0),Ns(1,"table",1),Ns(2,"caption"),ao(3,"Turnos"),Ds(),Ns(4,"thead"),Ns(5,"tr"),Ns(6,"th",2),ao(7,"Profesional"),Ds(),Ns(8,"th",2),ao(9,"Paciente"),Ds(),Ns(10,"th",2),ao(11,"Especialidad"),Ds(),Ns(12,"th",2),ao(13,"Fecha y Hora"),Ds(),Ds(),Ds(),Ts(14,B_,10,8,"tbody",3),Ds()),2&t&&(Pr(14),ks("ngForOf",e.appointments))},directives:[mc,yc],pipes:[Sc],styles:[""]}),t})(),H_=(()=>{class t{constructor(t,e,n,r,i){this.datePipe=t,this.fb=e,this.appointmentService=n,this.professionalService=r,this.specialtyService=i}ngOnInit(){let t=new Date;this.minDate=t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2),this.createForm(),this.getSpecialtys(),this.getProfessionals()}createForm(){this.appointmentForm=this.fb.group({date:["",sp.required],filter:new Fp("professional")})}changeDate(t,e){new Date(this.appointmentForm.controls.date.value);let n=new Date(this.appointmentForm.controls.date.value+"T00:00");console.log(n)}createAvailableList(){}onChooseSpecialty(t){console.log(t)}onChooseProfessional(t){console.log(t)}getSpecialtys(){this.specialtyService.getSpecialtys().subscribe(t=>{this.specialtys=t,console.log(t)})}getProfessionals(){this.professionalService.getProfessionals().subscribe(t=>{this.professionals=t,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(Os(Sc),Os(Xp),Os(A_),Os(_y),Os(wv))},t.\u0275cmp=ue({type:t,selectors:[["app-appointment-form"]],decls:47,vars:8,consts:[[1,"container",2,"margin-top","5%"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],[3,"professionals","chooseProfessional"],[1,"d-block","my-3"],[1,"col-md-6","mb-3"],["for","date"],["type","date","name","date","formControlName","date",1,"form-control",3,"min","change"],[1,"invalid-feedback"],[3,"appointments"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Rs(2,"img",2),Ns(3,"h2"),ao(4,"Turnos"),Ds(),Ns(5,"p",3),ao(6,"Seleccione profesional o especialidad."),Ds(),Ds(),Ns(7,"div",4),Ns(8,"div",5),Ns(9,"h4",6),ao(10,"Datos Necesarios"),Ds(),Ns(11,"form",7),Ns(12,"div",4),Ns(13,"div",8),Ns(14,"app-specialty-list",9),Vs("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Ds(),Ds(),Ns(15,"div",8),Ns(16,"app-professional-list",10),Vs("chooseProfessional",(function(t){return e.onChooseProfessional(t)})),Ds(),Ds(),Ds(),Rs(17,"div",11),Ns(18,"div",4),Ns(19,"div",12),Ns(20,"div"),Ns(21,"label",13),ao(22,"Seleccione Fecha para ver turnos disponibles"),Ds(),Ds(),Ns(23,"input",14),Vs("change",(function(t){return e.changeDate(t,e.filtro)})),Ds(),Ns(24,"div",15),ao(25," Valid first name is required. "),Ds(),ao(26," Fecha elegida: "),Rs(27,"br"),ao(28),ga(29,"date"),Ds(),Ds(),Rs(30,"app-appointment-list",16),Rs(31,"hr",17),Ns(32,"button",18),ao(33,"Pedir turno"),Ds(),Ds(),Ds(),Ds(),Ns(34,"footer",19),Ns(35,"p",20),ao(36,"\xa9 Federico Vera"),Ds(),Ns(37,"ul",21),Ns(38,"li",22),Ns(39,"a",23),ao(40,"Privacy"),Ds(),Ds(),Ns(41,"li",22),Ns(42,"a",23),ao(43,"Terms"),Ds(),Ds(),Ns(44,"li",22),Ns(45,"a",23),ao(46,"Support"),Ds(),Ds(),Ds(),Ds(),Ds()),2&t&&(Pr(11),ks("formGroup",e.appointmentForm),Pr(3),ks("specialtys",e.specialtys),Pr(2),ks("professionals",e.professionals),Pr(7),ks("min",e.minDate),Pr(5),co(" ",ya(29,6,e.appointmentForm.get("date").value)," "),Pr(2),ks("appointments",e.appointments))},directives:[Bp,Xd,Gp,Ev,D_,$d,Jd,Wp,z_],pipes:[Sc],styles:[""]}),t})(),G_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-make-an-appointment"]],decls:2,vars:0,template:function(t,e){1&t&&(Rs(0,"app-header"),Rs(1,"app-appointment-form"))},directives:[Yy,H_],styles:[""]}),t})(),$_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-welcome"]],decls:5,vars:0,consts:[[1,"container",2,"height","100vh"],[1,"d-block","text-center"],["routerLink","/login",1,"btn","border-success","button-image-login","rounded"],["routerLink","/signup",1,"btn","border-success","button-image-register","rounded"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Rs(2,"button",2),Ds(),Ns(3,"div",1),Rs(4,"button",3),Ds(),Ds())},directives:[yd],styles:[".button-image-login[_ngcontent-%COMP%]{background-image:url(https://pafssh.provirtualmeeting.com/wp-content/uploads/2020/09/login.png)}.button-image-login[_ngcontent-%COMP%], .button-image-register[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;width:100%;height:50vh}.button-image-register[_ngcontent-%COMP%]{background-image:url(https://veedorfiscal.files.wordpress.com/2014/09/registro1.jpg?h=470&w=627)}"]}),t})();function W_(t,e){1&t&&(Ns(0,"div"),ao(1," Nombre es requerido. "),Ds())}function K_(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,W_,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.name.errors.required)}}function Q_(t,e){1&t&&(Ns(0,"div"),ao(1," Apellido es requerido. "),Ds())}function Z_(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,Q_,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.lastName.errors.required)}}function Y_(t,e){1&t&&(Ns(0,"div"),ao(1," DNI es requerido. "),Ds())}function J_(t,e){1&t&&(Ns(0,"div"),ao(1," DNI debe tener al menos 7 digitos "),Ds())}function X_(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,Y_,2,0,"div",38),Ts(2,J_,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.dni.errors.required),Pr(1),ks("ngIf",t.patientForm.controls.dni.errors.minlength)}}function tE(t,e){1&t&&(Ns(0,"div"),ao(1," Edad es requerida. "),Ds())}function eE(t,e){1&t&&(Ns(0,"div"),ao(1," la edad debe ser mayor a 1 y menor a 110. "),Ds())}function nE(t,e){1&t&&(Ns(0,"div"),ao(1," la edad debe ser mayor a 1 y menor a 110. "),Ds())}function rE(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,tE,2,0,"div",38),Ts(2,eE,2,0,"div",38),Ts(3,nE,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.age.errors.required),Pr(1),ks("ngIf",t.patientForm.controls.age.errors.min),Pr(1),ks("ngIf",t.patientForm.controls.age.errors.max)}}function iE(t,e){1&t&&(Ns(0,"div"),ao(1," Obra Social es requerida. "),Ds())}function sE(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,iE,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.obraSocial.errors.required)}}function oE(t,e){1&t&&(Ns(0,"div"),ao(1," Email es requerido. "),Ds())}function aE(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,oE,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.email.errors.required)}}function uE(t,e){1&t&&(Ns(0,"div"),ao(1," Contrase\xf1a es requerida. "),Ds())}function cE(t,e){if(1&t&&(Ns(0,"div",37),Ts(1,uE,2,0,"div",38),Ds()),2&t){const t=qs();Pr(1),ks("ngIf",t.patientForm.controls.password.errors.required)}}function lE(t,e){if(1&t){const t=js();Ns(0,"div",0),Ns(1,"boot-alert",39),Vs("dismiss",(function(){return Ze(t),qs().navigate()})),Ds(),Ds()}}let hE=(()=>{class t{constructor(t,e,n,r){this.authService=t,this.fb=e,this.patientService=n,this.router=r,this.photos=new Array,this.registered=!1,this.createForm()}ngOnInit(){}createForm(){this.patientForm=this.fb.group({name:["",sp.required],lastName:["",sp.required],age:["",[sp.required,sp.min(1),sp.max(110)]],dni:["",sp.required],obraSocial:["",sp.required],email:["",sp.required],password:["",sp.required],usertype:[ev.PATIENT],id:[""]})}onSubmit(){try{this.assignPhotos(),this.authService.register(this.patientForm.controls.email.value,this.patientForm.controls.password.value).then(t=>{t&&(this.patientForm.controls.id.setValue(t.uid),this.patientForm.removeControl("password"),this.patientService.createPatient(this.patientForm.value,this.photos).then(e=>{console.log("Created patient",e),t.updateProfile({displayName:e.name}).then(()=>{console.log("Now Verify your email to login."),this.registered=!0})}),this.patientForm.addControl("password",this.fb.control({password:"111111"})))}).catch(t=>{console.log("Error",t)})}catch(t){console.error(t)}}handlePhoto1(t){this.photo1=t.target.files[0]}handlePhoto2(t){this.photo2=t.target.files[0]}assignPhotos(){this.photo1&&this.photos.push(this.photo1),this.photo2&&this.photos.push(this.photo2)}navigate(){this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(Os(ig),Os(Xp),Os(by),Os(gd))},t.\u0275cmp=ue({type:t,selectors:[["app-form-patient"]],decls:80,vars:10,consts:[[1,"container"],[1,"py-5","text-center"],["src","../../../assets/images/medialSign.svg","alt","","width","72","height","72",1,"d-block","mx-auto","mb-4"],[1,"lead"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"col-md-6","mb-3"],["for","firstName"],["type","text","id","firstName","formControlName","name","placeholder","Nombre","value","","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Apellido","value","","required","",1,"form-control"],["for","dni"],["type","text","id","dni","formControlName","dni","placeholder","DNI","minlength","7","value","","required","",1,"form-control"],["for","edad"],["type","number","id","edad","formControlName","age","placeholder","Edad","min","2","max","99","value","","required","",1,"form-control"],["for","OS"],[1,"text-muted"],["type","text","id","OS","formControlName","obraSocial","placeholder","Obra Social",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email","placeholder","minombre@ejemplo.com",1,"form-control"],["for","address"],["type","password","id","address","formControlName","password","placeholder","Contrase\xf1a","required","",1,"form-control"],[1,"col-md-5","mb-3"],[1,"form-group"],["for","fotos"],["type","file",1,"form-control-file",3,"change"],[1,"mb-4"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block",3,"disabled","click"],["class","container",4,"ngIf"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],[1,"alert","alert-danger"],[4,"ngIf"],["mensaje","Verifique su correo para poder iniciar sesion, revise su buz\xf3n de entrada","color","warning",3,"dismiss"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Rs(2,"img",2),Ns(3,"h2"),ao(4,"Clinica Online"),Ds(),Ns(5,"p",3),ao(6,"Por favor reg\xedstrate para poder utilizar nuestros servicios."),Ds(),Ds(),Ns(7,"div",4),Ns(8,"div",5),Ns(9,"h4",6),ao(10,"Datos Necesarios"),Ds(),Ns(11,"form",7),Ns(12,"div",4),Ns(13,"div",8),Ns(14,"label",9),ao(15,"Nombre"),Ds(),Rs(16,"input",10),Ts(17,K_,2,1,"div",11),Ds(),Ns(18,"div",8),Ns(19,"label",12),ao(20,"Apellido"),Ds(),Rs(21,"input",13),Ts(22,Z_,2,1,"div",11),Ds(),Ds(),Ns(23,"div",4),Ns(24,"div",8),Ns(25,"label",14),ao(26,"DNI"),Ds(),Rs(27,"input",15),Ts(28,X_,3,2,"div",11),Ds(),Ns(29,"div",8),Ns(30,"label",16),ao(31,"Edad"),Ds(),Rs(32,"input",17),Ts(33,rE,4,3,"div",11),Ds(),Ds(),Ns(34,"div",6),Ns(35,"label",18),ao(36,"Obra Social "),Rs(37,"span",19),Ds(),Rs(38,"input",20),Ts(39,sE,2,1,"div",11),Ds(),Ns(40,"div",6),Ns(41,"label",21),ao(42,"Correo "),Rs(43,"span",19),Ds(),Rs(44,"input",22),Ts(45,aE,2,1,"div",11),Ds(),Ns(46,"div",6),Ns(47,"label",23),ao(48,"Contrase\xf1a"),Ds(),Rs(49,"input",24),Ts(50,cE,2,1,"div",11),Ds(),Ns(51,"div",4),Ns(52,"div",25),Ns(53,"div",26),Ns(54,"label",27),ao(55,"Foto 1"),Ds(),Ns(56,"input",28),Vs("change",(function(t){return e.handlePhoto1(t)})),Ds(),Ds(),Ds(),Ds(),Ns(57,"div",4),Ns(58,"div",25),Ns(59,"div",26),Ns(60,"label",27),ao(61,"Foto 2"),Ds(),Ns(62,"input",28),Vs("change",(function(t){return e.handlePhoto2(t)})),Ds(),Ds(),Ds(),Ds(),Rs(63,"hr",29),Ns(64,"button",30),Vs("click",(function(){return e.onSubmit()})),ao(65,"Registrar Paciente"),Ds(),Ts(66,lE,2,0,"div",31),Ds(),Ds(),Ds(),Ns(67,"footer",32),Ns(68,"p",33),ao(69,"\xa9 Federico Vera"),Ds(),Ns(70,"ul",34),Ns(71,"li",35),Ns(72,"a",36),ao(73,"Privacy"),Ds(),Ds(),Ns(74,"li",35),Ns(75,"a",36),ao(76,"Terms"),Ds(),Ds(),Ns(77,"li",35),Ns(78,"a",36),ao(79,"Support"),Ds(),Ds(),Ds(),Ds(),Ds()),2&t&&(Pr(11),ks("formGroup",e.patientForm),Pr(6),ks("ngIf",e.patientForm.controls.name.invalid&&(e.patientForm.controls.name.dirty||e.patientForm.controls.name.touched)),Pr(5),ks("ngIf",e.patientForm.controls.lastName.invalid&&(e.patientForm.controls.lastName.dirty||e.patientForm.controls.lastName.touched)),Pr(6),ks("ngIf",e.patientForm.controls.dni.invalid&&(e.patientForm.controls.dni.dirty||e.patientForm.controls.dni.touched)),Pr(5),ks("ngIf",e.patientForm.controls.age.invalid&&(e.patientForm.controls.age.dirty||e.patientForm.controls.age.touched)),Pr(6),ks("ngIf",e.patientForm.controls.obraSocial.invalid&&(e.patientForm.controls.obraSocial.dirty||e.patientForm.controls.obraSocial.touched)),Pr(6),ks("ngIf",e.patientForm.controls.email.invalid&&(e.patientForm.controls.email.dirty||e.patientForm.controls.email.touched)),Pr(5),ks("ngIf",e.patientForm.controls.password.invalid&&(e.patientForm.controls.password.dirty||e.patientForm.controls.password.touched)),Pr(14),ks("disabled",e.patientForm.invalid),Pr(2),ks("ngIf",e.registered))},directives:[Bp,Xd,Gp,$d,Jd,Wp,Qp,yc,Yp,fp,My],styles:[""]}),t})();function fE(t,e){if(1&t){const t=js();Ns(0,"button",4),Vs("click",(function(){Ze(t);const e=qs();return e.isChoosingForm=!0,e.formChoosen=""})),ao(1,"Elegir Perfil"),Ds()}}function dE(t,e){if(1&t){const t=js();Ns(0,"div",6),Ns(1,"button",10),Vs("click",(function(){return Ze(t),qs(2).onChooseForm("administrator")})),Ds(),Ds()}}function pE(t,e){if(1&t){const t=js();Ns(0,"div",5),Ns(1,"div",6),Ns(2,"button",7),Vs("click",(function(){return Ze(t),qs().onChooseForm("patient")})),Ds(),Ds(),Ns(3,"div",6),Ns(4,"button",8),Vs("click",(function(){return Ze(t),qs().onChooseForm("professional")})),Ds(),Ds(),Ts(5,dE,2,0,"div",9),Ds()}if(2&t){const t=qs();Pr(5),ks("ngIf",t.user&&"administrator"==t.user.usertype)}}function mE(t,e){1&t&&Rs(0,"app-form-patient")}function gE(t,e){1&t&&Rs(0,"app-form-professional")}function yE(t,e){1&t&&Rs(0,"app-form-administrator")}let vE=(()=>{class t{constructor(t){this.userService=t,this.isChoosingForm=!0}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user"))}onChooseForm(t){this.isChoosingForm=!1,this.formChoosen=t}}return t.\u0275fac=function(e){return new(e||t)(Os(ig))},t.\u0275cmp=ue({type:t,selectors:[["app-signup"]],decls:6,vars:6,consts:[["type","button","class","btn btn-outline-warning float-right position-right",3,"click",4,"ngIf"],["class","container","style","height: 100vh;",4,"ngIf"],[1,"container",3,"ngSwitch"],[4,"ngSwitchCase"],["type","button",1,"btn","btn-outline-warning","float-right","position-right",3,"click"],[1,"container",2,"height","100vh"],[1,"d-block","text-center"],[1,"btn","border-success","button-image-patient","rounded",3,"click"],[1,"btn","border-success","button-image-professional","rounded",3,"click"],["class","d-block text-center",4,"ngIf"],[1,"btn","border-success","button-image-administrator","rounded",3,"click"]],template:function(t,e){1&t&&(Ts(0,fE,2,0,"button",0),Ts(1,pE,6,1,"div",1),Ns(2,"div",2),Ts(3,mE,1,0,"app-form-patient",3),Ts(4,gE,1,0,"app-form-professional",3),Ts(5,yE,1,0,"app-form-administrator",3),Ds()),2&t&&(ks("ngIf",!e.isChoosingForm),Pr(1),ks("ngIf",e.isChoosingForm),Pr(1),ks("ngSwitch",e.formChoosen),Pr(1),ks("ngSwitchCase","patient"),Pr(1),ks("ngSwitchCase","professional"),Pr(1),ks("ngSwitchCase","administrator"))},directives:[yc,_c,Ec,hE,eb,vv],styles:[".button-image-patient[_ngcontent-%COMP%]{background-image:url(http://www.foscal.com.co/web/wp-content/pdfs/usuario-dren-quirurgico.jpg)}.button-image-patient[_ngcontent-%COMP%], .button-image-professional[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;width:100%;height:33vh}.button-image-professional[_ngcontent-%COMP%]{background-image:url(https://static.vecteezy.com/system/resources/previews/000/608/082/non_2x/vector-set-of-doctor-cartoon-characters-medical-staff-team-concept.jpg)}.button-image-administrator[_ngcontent-%COMP%]{background-color:transparent;background-position:50%;background-repeat:no-repeat;background-image:url(https://st2.depositphotos.com/4216129/9266/v/600/depositphotos_92663088-stock-illustration-serious-business-man-cartoon-character.jpg);width:100%;height:33vh}"]}),t})();function bE(t,e){1&t&&Rs(0,"app-patient-list",11),2&t&&ks("patients",qs().patientsList)}function wE(t,e){if(1&t&&(Ns(0,"div"),Rs(1,"app-professional-list",12),Ds()),2&t){const t=qs();Pr(1),ks("professionals",t.professionalList)}}function _E(t,e){1&t&&Rs(0,"app-form-administrator")}function EE(t,e){1&t&&Rs(0,"app-form-patient")}function SE(t,e){1&t&&Rs(0,"app-form-professional")}function IE(t,e){1&t&&Rs(0,"app-signup")}let CE=(()=>{class t{constructor(t,e){this.patientService=t,this.professionalService=e,this.professionalList=[],this.userInfo=!0,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}ngOnInit(){this.patientService.getPatients().subscribe(t=>{console.log(t),this.patientsList=t}),this.professionalService.getProfessionals().subscribe(t=>{this.professionalList=t})}showUserInfo(){this.userInfo=!0,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}showApproveProfessional(){this.userInfo=!1,this.approveProfessional=!0,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!1}showform(){this.userInfo=!1,this.approveProfessional=!1,this.formAdministrator=!1,this.formPatient=!1,this.formProfessional=!1,this.forms=!0}showForms(t){this.userInfo=!1,this.approveProfessional=!1,"administrator"==t?(this.formAdministrator=!0,this.formProfessional=!1,this.formPatient=!1):"professional"==t?(this.formAdministrator=!1,this.formProfessional=!0,this.formPatient=!1):(this.formAdministrator=!1,this.formProfessional=!1,this.formPatient=!0)}}return t.\u0275fac=function(e){return new(e||t)(Os(by),Os(_y))},t.\u0275cmp=ue({type:t,selectors:[["app-users"]],decls:24,vars:6,consts:[[1,"navbar","navbar-expand-md","navbar-dark","mt-5","bg-dark"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link","btn-outline-secondary",3,"click"],[1,"container"],[3,"patients",4,"ngIf"],[4,"ngIf"],[3,"patients"],[3,"professionals"]],template:function(t,e){1&t&&(Rs(0,"app-header"),Ns(1,"nav",0),Ns(2,"a",1),ao(3,"Opciones de Administrador"),Ds(),Ns(4,"button",2),Rs(5,"span",3),Ds(),Ns(6,"div",4),Ns(7,"ul",5),Ns(8,"li",6),Ns(9,"a",7),Vs("click",(function(){return e.showUserInfo()})),ao(10,"Informacion de los usuarios "),Ds(),Ds(),Ns(11,"li",6),Ns(12,"a",7),Vs("click",(function(){return e.showApproveProfessional()})),ao(13,"Habilitar especialistas"),Ds(),Ds(),Ns(14,"li",6),Ns(15,"a",7),Vs("click",(function(){return e.showform()})),ao(16,"Nuevo Usuario "),Ds(),Ds(),Ds(),Ds(),Ds(),Ns(17,"div",8),Ts(18,bE,1,1,"app-patient-list",9),Ts(19,wE,2,1,"div",10),Ts(20,_E,1,0,"app-form-administrator",10),Ts(21,EE,1,0,"app-form-patient",10),Ts(22,SE,1,0,"app-form-professional",10),Ts(23,IE,1,0,"app-signup",10),Ds()),2&t&&(Pr(18),ks("ngIf",e.userInfo),Pr(1),ks("ngIf",e.approveProfessional),Pr(1),ks("ngIf",e.formAdministrator),Pr(1),ks("ngIf",e.formPatient),Pr(1),ks("ngIf",e.formProfessional),Pr(1),ks("ngIf",e.forms))},directives:[Yy,yc,C_,D_,vv,hE,eb,vE],styles:[""]}),t})(),AE=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-my-profile"]],decls:2,vars:0,template:function(t,e){1&t&&(Rs(0,"app-header"),ao(1,">"))},directives:[Yy],styles:[""]}),t})();var TE=function(t){return t.Solicitado="Solicitado",t.Cancelado="Cancelado",t.Aceptado="Aceptado",t.Rechazado="Rechazado",t.Realizado="Realizado",t}({});class OE{constructor(t){t&&Object.assign(this,t)}}function xE(t,e){if(1&t&&(Ns(0,"h5",20),ao(1),Ds()),2&t){const t=qs();Pr(1),lo("Hola ",t.user.name," ",t.user.lastName,"")}}function kE(t,e){if(1&t&&(Ns(0,"h5",20),ao(1),Ds()),2&t){const t=qs();Pr(1),lo("Hola ",t.userAdmin.name," ",t.userAdmin.lastName,"")}}function PE(t,e){1&t&&(Ns(0,"small"),ao(1,"Escoja Especialidad o Especialista Luego el horario"),Ds())}function NE(t,e){1&t&&(Ns(0,"small"),ao(1,"Hemos escogido un turno para ti te interesa?"),Ds())}function DE(t,e){if(1&t){const t=js();Ns(0,"boot-alert",21),Vs("dismiss",(function(){return Ze(t),qs().dismissAlert()})),Ds()}}function RE(t,e){if(1&t){const t=js();Ns(0,"div",22),Rs(1,"hr",19),Ns(2,"app-patient-list",23),Vs("choosePatient",(function(e){return Ze(t),qs(2).onChoosePatient(e)})),Ds(),Rs(3,"hr",19),Ds()}if(2&t){const t=qs(2);Pr(2),ks("patients",t.patientList)}}function jE(t,e){1&t&&Ts(0,RE,4,1,"ng-template")}function FE(t,e){if(1&t){const t=js();Ns(0,"li",27),Ns(1,"a",28),Vs("click",(function(){Ze(t);const n=e.$implicit;return qs(2).createAvailableList(n)})),ao(2),ga(3,"date"),Ds(),Ds()}if(2&t){const t=e.$implicit;Pr(2),uo(va(3,1,t,"dd/MM"))}}function LE(t,e){if(1&t&&(Ns(0,"nav",24),Ns(1,"ul",25),Ts(2,FE,4,4,"li",26),Ds(),Ds()),2&t){const t=qs();Pr(2),ks("ngForOf",t.datesList)}}let VE=(()=>{class t{constructor(t,e,n,r){this.appointmentService=t,this.professionalService=e,this.specialtyService=n,this.patientService=r,this.newAppointmentList=[],this.patientList=[],this.newAppointment=new OE({patient:this.user}),this.freeAppointments=[],this.showAlert=!1}ngOnInit(){"administrator"==JSON.parse(localStorage.getItem("user")).usertype?this.userAdmin=JSON.parse(localStorage.getItem("user")):this.user=JSON.parse(localStorage.getItem("user")),this.date=new Date,this.getSpecialtys(),this.getProfessionals(),this.getAppointments(),this.createDatesList(),this.getPatients()}createAvailableList(t){if(this.date=t,this.getTodaysAppointments(),this.freeAppointments=new Array,t.getDay()>0&&6!=t.getDay()){let n=8,r=0,i=!1;if(this.newAppointment.specialty&&this.newAppointment.professional){t.setHours(n,r,0,0);do{i=!1;let e=new OE({patient:this.user});e.professional=this.newAppointment.professional,e.specialty=this.newAppointment.specialty,e.timeStamp=t.valueOf(),this.todaysAppointments.forEach(t=>{t.timeStamp==e.timeStamp&&t.specialty.id==e.specialty.id&&t.professional.id==e.professional.id&&(i=!0)}),i||this.freeAppointments.push(e),t=new Date(this.addMinutes(t,this.newAppointment.specialty.duration)),n=t.getHours()}while(n<19);n=8,r=0}else if(this.newAppointment.specialty&&!this.newAppointment.professional)console.log("HAY ESPECIALIDAD NO HAY PROFESIONAL"),this.freeAppointments=[],this.freeProfessionals.forEach(e=>{t.setHours(n,r,0,0);do{let r=!1,i=new OE({patient:this.user});i.professional=e,i.specialty=this.newAppointment.specialty,i.timeStamp=t.valueOf(),this.todaysAppointments.forEach(t=>{t.timeStamp==i.timeStamp&&t.specialty.id==i.specialty.id&&t.professional.id==e.id&&(r=!0)}),r||this.freeAppointments.push(i),t=new Date(this.addMinutes(t,this.newAppointment.specialty.duration)),n=t.getHours()}while(n<19);n=8,r=0});else if(this.newAppointment.professional&&!this.newAppointment.specialty)this.freeAppointments=[],this.newAppointment.professional.specialty.forEach(e=>{t.setHours(n,r,0,0);do{let r=!1,i=new OE({patient:this.user});i.specialty=e,i.professional=this.newAppointment.professional,i.timeStamp=t.valueOf(),this.todaysAppointments.forEach(t=>{t.timeStamp==i.timeStamp&&t.professional.id==i.professional.id&&t.specialty.id==i.specialty.id&&(r=!0)}),r||this.freeAppointments.push(i),t=new Date(this.addMinutes(t,e.duration)),n=t.getHours()}while(n<19);n=8,r=0});else{var e=this.appointments.filter(t=>{if(this.user&&t.patient.id==this.user.id)return t});this.lastAppointment=e.shift(),this.lastAppointment&&(this.newAppointment.professional=this.lastAppointment.professional,this.newAppointment.specialty=this.lastAppointment.specialty),this.newAppointmentList[0]=this.newAppointment,setTimeout(t=>{this.lastAppointment&&this.onChooseSpecialty(this.lastAppointment.specialty)},1e3)}}}createDatesList(){let t=new Date;this.datesList=new Array;for(let e=0;e<16;e++)(1==t.getDay()||2==t.getDay()||3==t.getDay()||4==t.getDay()||5==t.getDay()||6==t.getDay())&&this.datesList.push(new Date(t.valueOf())),t=new Date(this.addDay(t,1))}addDay(t,e){return t.valueOf()+864e5*e}addMinutes(t,e){return t.valueOf()+6e4*e}onChooseSpecialty(t){let e;if(this.newAppointment=new OE(this.newAppointment.professional?{professional:this.newAppointment.professional,specialty:t,patient:this.user}:{specialty:t,patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.freeProfessionals=this.professionals.filter(t=>{if(e=!1,t.specialty.forEach(t=>{t.specialty==this.newAppointment.specialty.specialty&&(e=!0)}),e)return t}),this.newAppointment.professional){let e;e=this.freeProfessionals.find(t=>{if(t.id==this.newAppointment.professional.id)return t}),e||(console.log("NO COINCIDE"),this.newAppointment=new OE({patient:this.user}),this.newAppointment.specialty=t,this.newAppointmentList[0]=this.newAppointment)}this.createAvailableList(this.date)}onChooseProfessional(t){if(this.lastAppointment=void 0,this.newAppointment=new OE(this.newAppointment.specialty?{professional:t,specialty:this.newAppointment.specialty,patient:this.user}:{professional:t,patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.freeSpecialtys=this.specialtys.filter(t=>{let e=!1;if(this.newAppointment.professional.specialty.forEach(n=>{n.specialty==t.specialty&&(e=!0)}),e)return t}),this.newAppointment.specialty){let e;e=this.freeSpecialtys.find(t=>{if(t.id==this.newAppointment.specialty.id)return t}),e||(console.log("NO COINCIDE"),this.newAppointment=new OE({patient:this.user}),this.newAppointment.professional=t,this.newAppointmentList[0]=this.newAppointment)}this.createAvailableList(this.date)}getSpecialtys(){this.specialtyService.getSpecialtys().subscribe(t=>{this.specialtys=t,this.freeSpecialtys=t})}getProfessionals(){this.professionalService.getProfessionals().subscribe(t=>{this.professionals=t,this.freeProfessionals=t})}getPatients(){this.patientService.getPatients().subscribe(t=>{this.patientList=t})}getAppointments(){this.appointmentService.getAppointments().subscribe(t=>{this.appointments=t,this.newAppointment.professional||this.newAppointment.specialty||this.newAppointment.timeStamp||this.createAvailableList(this.date),this.getTodaysAppointments()})}getTodaysAppointments(){this.todaysAppointments=this.appointments.filter(t=>{let e=new Date(t.timeStamp);if(this.date.getDate()==e.getDate()&&this.date.getMonth()==e.getMonth()&&this.date.getFullYear()==e.getFullYear())return t})}cleanForm(){this.newAppointment=new OE({patient:this.user}),this.newAppointmentList=[],this.freeProfessionals=this.professionals,this.freeSpecialtys=this.specialtys}submit(){this.newAppointment.state=TE.Solicitado,this.appointmentService.addAppointment(this.newAppointment).then(t=>{console.log("Creado",t),this.createAvailableList(this.date),this.showAlert=!0})}onSelectAppointment(t){this.newAppointment=t,this.newAppointmentList[0]=this.newAppointment}dismissAlert(){this.showAlert=!this.showAlert,this.newAppointment=new OE({patient:this.user}),this.newAppointmentList[0]=this.newAppointment,this.lastAppointment=void 0}onChoosePatient(t){this.user=t,this.newAppointment.patient=t,this.newAppointmentList[0]=this.newAppointment}}return t.\u0275fac=function(e){return new(e||t)(Os(A_),Os(_y),Os(wv),Os(by))},t.\u0275cmp=ue({type:t,selectors:[["app-signup-appointment"]],decls:32,vars:12,consts:[[1,"card","text-center","sticky-top","pt-5"],[1,"card-body"],["class","card-title",4,"ngIf"],[4,"ngIf"],[3,"appointments"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"card-footer","text-muted"],["href","https://github.com/Dfedericovera/ClinicaOnline","target","_blank"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss",4,"ngIf"],[1,"row"],[1,"col-md-12","order-md-1"],[1,"mb-3"],["novalidate","",1,"needs-validation"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],[3,"professionals","chooseProfessional"],[3,"appointments","chooseAppointment"],["aria-label","Page navigation example",4,"ngIf"],[1,"mb-4"],[1,"card-title"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss"],[1,"d-block","my-3"],[3,"patients","choosePatient"],["aria-label","Page navigation example"],[1,"pagination","justify-content-center","pagination-sm"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item"],[1,"page-link",3,"click"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Ts(2,xE,2,2,"h5",2),Ts(3,kE,2,2,"h5",2),Ts(4,PE,2,0,"small",3),Ts(5,NE,2,0,"small",3),Rs(6,"app-appointment-list",4),Ns(7,"button",5),Vs("click",(function(){return e.submit()})),ao(8,"Solicitar Turno"),Ds(),Ns(9,"a",6),Vs("click",(function(){return e.cleanForm()})),ao(10,"Nuevo Turno"),Ds(),Ds(),Ns(11,"div",7),Ns(12,"a",8),ao(13," Como pedir un turno? "),Ds(),Ds(),Ts(14,DE,1,0,"boot-alert",9),Ds(),Rs(15,"app-header"),Ns(16,"div",10),Ns(17,"div",11),Ns(18,"h4",12),ao(19,"Datos Necesarios"),Ds(),Ns(20,"form",13),Ns(21,"div",10),Ns(22,"div",14),Ns(23,"app-specialty-list",15),Vs("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Ds(),Ds(),Ns(24,"div",14),Ns(25,"app-professional-list",16),Vs("chooseProfessional",(function(t){return e.onChooseProfessional(t)})),Ds(),Ds(),Ds(),Ts(26,jE,1,0,void 0,3),Ns(27,"h4",12),ao(28,"Seleccione Turno Disponible"),Ds(),Ns(29,"app-appointment-list",17),Vs("chooseAppointment",(function(t){return e.onSelectAppointment(t)})),Ds(),Ts(30,LE,3,1,"nav",18),Rs(31,"hr",19),Ds(),Ds(),Ds()),2&t&&(Pr(2),ks("ngIf",e.user),Pr(1),ks("ngIf",e.userAdmin),Pr(1),ks("ngIf",!e.lastAppointment),Pr(1),ks("ngIf",e.lastAppointment),Pr(1),ks("appointments",e.newAppointmentList),Pr(1),ks("disabled",!e.newAppointment.timeStamp),Pr(7),ks("ngIf",e.showAlert),Pr(9),ks("specialtys",e.freeSpecialtys),Pr(2),ks("professionals",e.freeProfessionals),Pr(1),ks("ngIf",e.userAdmin),Pr(3),ks("appointments",e.freeAppointments),Pr(1),ks("ngIf",e.datesList))},directives:[yc,z_,Yy,Bp,Xd,qp,Ev,D_,My,C_,mc],pipes:[Sc],styles:[""]}),t})(),ME=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-appointments"]],decls:1,vars:0,template:function(t,e){1&t&&Rs(0,"app-header")},directives:[Yy],styles:[""]}),t})();function UE(t,e){1&t&&(Ns(0,"small"),ao(1,"Seleccione un turno"),Ds())}function qE(t,e){if(1&t&&(Ns(0,"small"),ao(1,"Estado del Turno: "),Ns(2,"b"),ao(3),Ds(),Ds()),2&t){const t=qs();Pr(3),uo(t.selectedAppointment.state)}}function BE(t,e){if(1&t){const t=js();Ns(0,"button",18),Vs("click",(function(){return Ze(t),qs().showReview()})),ao(1,"Ver Rese\xf1a"),Ds()}}function zE(t,e){if(1&t){const t=js();Ns(0,"button",18),Vs("click",(function(){return Ze(t),qs().showPool()})),ao(1,"Completar Encuesta"),Ds()}}function HE(t,e){if(1&t){const t=js();Ns(0,"button",18),Vs("click",(function(){return Ze(t),qs().qualifyAttention()})),ao(1,"Calificar Atenci\xf3n"),Ds()}}function GE(t,e){if(1&t){const t=js();Ns(0,"a",19),Vs("click",(function(){return Ze(t),qs().cancelAppointment()})),ao(1,"Cancelar Turno"),Ds()}}function $E(t,e){if(1&t){const t=js();Ns(0,"a",19),Vs("click",(function(){return Ze(t),qs().rejectAppointment()})),ao(1,"Rechazar Turno"),Ds()}}function WE(t,e){if(1&t){const t=js();Ns(0,"button",18),Vs("click",(function(){return Ze(t),qs().acceptAppointment()})),ao(1,"Aceptar Turno"),Ds()}}function KE(t,e){if(1&t){const t=js();Ns(0,"button",18),Vs("click",(function(){return Ze(t),qs().finishAppointment()})),ao(1,"Finalizar Turno"),Ds()}}function QE(t,e){if(1&t){const t=js();Ns(0,"boot-alert",20),Vs("dismiss",(function(){return Ze(t),qs().dismissAlert()})),Ds()}}function ZE(t,e){if(1&t){const t=js();Ns(0,"div",12),Ns(1,"app-professional-list",21),Vs("chooseProfessional",(function(e){return Ze(t),qs().onChooseProfessional(e)})),Ds(),Ds()}if(2&t){const t=qs();Pr(1),ks("professionals",t.professionalList)}}function YE(t,e){if(1&t){const t=js();Ns(0,"div",12),Ns(1,"app-patient-list",22),Vs("choosePatient",(function(e){return Ze(t),qs().onChoosePatient(e)})),Ds(),Ds()}if(2&t){const t=qs();Pr(1),ks("patients",t.patientList)}}let JE=(()=>{class t{constructor(t,e,n,r){this.appointmentService=t,this.professionalService=e,this.spacialtyService=n,this.patientService=r,this.appointmentsList=[],this.appointmentsListFiltered=[],this.showAlert=!1,this.selectedAppointmentList=[],this.appointmentsList=new Array,this.user=JSON.parse(localStorage.getItem("user"))}ngOnInit(){this.appointmentService.getAppointments().subscribe(t=>{this.appointmentsList=t.filter(t=>this.user.usertype==ev.PATIENT&&t.patient.id==this.user.id||this.user.usertype==ev.PROFESSIONAL&&t.professional.id==this.user.id?t:void 0),this.appointmentsListFiltered=this.appointmentsList}),this.professionalService.getProfessionals().subscribe(t=>{this.professionalList=t}),this.spacialtyService.getSpecialtys().subscribe(t=>{this.specialtyList=t}),this.patientService.getPatients().subscribe(t=>{this.patientList=t})}onSelectAppointment(t){this.selectedAppointment=t,this.selectedAppointmentList[0]=this.selectedAppointment}onChooseSpecialty(t){this.appointmentsListFiltered=this.appointmentsList.filter(e=>{if(e.specialty.id==t.id)return e})}onChooseProfessional(t){this.appointmentsListFiltered=this.appointmentsList.filter(e=>{if(e.professional.id==t.id)return e})}onChoosePatient(t){console.log(t),this.appointmentsListFiltered=this.appointmentsList.filter(e=>{if(e.patient.id==t.id)return e})}showAll(){this.appointmentsListFiltered=this.appointmentsList}showReview(){}cancelAppointment(){}qualifyAttention(){}showPool(){}rejectAppointment(){}acceptAppointment(){}finishAppointment(){}}return t.\u0275fac=function(e){return new(e||t)(Os(A_),Os(_y),Os(wv),Os(by))},t.\u0275cmp=ue({type:t,selectors:[["app-myappointments"]],decls:32,vars:17,consts:[[1,"card","text-center","sticky-top","pt-5"],[1,"card-body"],[1,"card-title"],[4,"ngIf"],[3,"appointments"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"card-footer","text-muted"],["href","https://github.com/Dfedericovera/ClinicaOnline#readme","target","_blank"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss",4,"ngIf"],[1,"pt-5"],[1,"row","pt-5"],[1,"col-sm"],[3,"specialtys","chooseSpecialty"],["class","col-sm",4,"ngIf"],[1,"mb-3"],[1,"btn","btn-warning",3,"click"],[3,"appointments","chooseAppointment"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],["color","success","mensaje","Turno Guardado con exito. Lo esperamos",3,"dismiss"],[3,"professionals","chooseProfessional"],[3,"patients","choosePatient"]],template:function(t,e){1&t&&(Ns(0,"div",0),Ns(1,"div",1),Ns(2,"h5",2),ao(3),Ds(),Ts(4,UE,2,0,"small",3),Ts(5,qE,4,1,"small",3),Rs(6,"app-appointment-list",4),Ts(7,BE,2,0,"button",5),Ts(8,zE,2,0,"button",5),Ts(9,HE,2,0,"button",5),Ts(10,GE,2,0,"a",6),Ts(11,$E,2,0,"a",6),Ts(12,WE,2,0,"button",5),Ts(13,KE,2,0,"button",5),Ds(),Ns(14,"div",7),Ns(15,"a",8),ao(16," Como pedir un turno? "),Ds(),Ds(),Ts(17,QE,1,0,"boot-alert",9),Ds(),Rs(18,"app-header"),Ns(19,"h4",10),ao(20,"-Opciones de flitrado: "),Ds(),Ns(21,"div",11),Ns(22,"div",12),Ns(23,"app-specialty-list",13),Vs("chooseSpecialty",(function(t){return e.onChooseSpecialty(t)})),Ds(),Ds(),Ts(24,ZE,2,1,"div",14),Ts(25,YE,2,1,"div",14),Ds(),Ns(26,"div",10),Ns(27,"h4",15),ao(28,"Listado de turnos: "),Ds(),Ns(29,"button",16),Vs("click",(function(){return e.showAll()})),ao(30,"Ver Todos"),Ds(),Ns(31,"app-appointment-list",17),Vs("chooseAppointment",(function(t){return e.onSelectAppointment(t)})),Ds(),Ds()),2&t&&(Pr(3),lo("Hola ",e.user.name," ",e.user.lastName,""),Pr(1),ks("ngIf",!e.selectedAppointment),Pr(1),ks("ngIf",e.selectedAppointment),Pr(1),ks("appointments",e.selectedAppointmentList),Pr(1),ks("ngIf",e.selectedAppointment&&e.selectedAppointment.review),Pr(1),ks("ngIf",e.selectedAppointment&&"Realizado"==e.selectedAppointment.state&&e.selectedAppointment.review&&"patient"==e.user.usertype),Pr(1),ks("ngIf",e.selectedAppointment&&"Realizado"==e.selectedAppointment.state&&"patient"==e.user.usertype),Pr(1),ks("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state),Pr(1),ks("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state&&"professional"==e.user.usertype),Pr(1),ks("ngIf",e.selectedAppointment&&"Realizado"!=e.selectedAppointment.state&&"professional"==e.user.usertype),Pr(1),ks("ngIf",e.selectedAppointment&&"Aceptado"==e.selectedAppointment.state&&"professional"==e.user.usertype),Pr(4),ks("ngIf",e.showAlert),Pr(6),ks("specialtys",e.specialtyList),Pr(1),ks("ngIf","patient"==e.user.usertype),Pr(1),ks("ngIf","professional"==e.user.usertype),Pr(6),ks("appointments",e.appointmentsListFiltered))},directives:[yc,z_,Yy,Ev,My,D_,C_],styles:[""]}),t})(),XE=(()=>{class t{constructor(t,e){this.auth=t,this.router=e}canActivate(t,e){return this.auth.afAuth.authState.pipe(A(t=>!!t),A(t=>(t||this.router.navigate(["/login"]),t)))}}return t.\u0275fac=function(e){return new(e||t)(Gt(ig),Gt(gd))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tS=[{path:"",component:$_},{path:"login",component:$y,data:{animation:"login"}},{path:"signup",component:vE,data:{animation:"signupPatient"}},{path:"signupProfessional",component:nb,data:{animation:"signupProfessional"},canActivate:[XE]},{path:"signupAdministrator",component:bv,data:{animation:"signupAdministrator"},canActivate:[XE]},{path:"signupSpecialty",component:kv,data:{animation:"signupAdministrator"},canActivate:[XE]},{path:"home",component:tv,data:{animation:"home"},canActivate:[XE]},{path:"patient-list",component:C_,data:{animation:"home"},canActivate:[XE]},{path:"prossional-list",component:D_,data:{animation:"home"},canActivate:[XE]},{path:"speciality-list",component:Ev,data:{animation:"home"},canActivate:[XE]},{path:"make-an-appointment",component:G_,data:{animation:"home"},canActivate:[XE]},{path:"users",component:CE,data:{animation:"home"},canActivate:[XE]},{path:"myAppointments",component:JE,data:{animation:"home"},canActivate:[XE]},{path:"appointments",component:ME,data:{animation:"home"},canActivate:[XE]},{path:"signupAppointment",component:VE,data:{animation:"home"},canActivate:[XE]},{path:"myProfile",component:AE,data:{animation:"home"},canActivate:[XE]}];let eS=(()=>{class t{}return t.\u0275mod=fe({type:t}),t.\u0275inj=ut({factory:function(e){return new(e||t)},imports:[[S_,kd.forRoot(tS)],kd]}),t})();const nS={type:7,name:"routeAnimations",definitions:[ub("login <=> signupPatient",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,right:0,width:"100%"})]),lb(":enter",[ab({right:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("1000ms ease-out",ab({right:"100%"}))]),lb(":enter",[ib("1000ms ease-out",ab({right:"0%"}))])]),lb(":enter",cb())]),ub("login <=> home",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,right:0,width:"100%"})]),lb(":enter",[ab({right:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("1000ms ease-out",ab({right:"100%"}))]),lb(":enter",[ib("1000ms ease-out",ab({right:"0%"}))])]),lb(":enter",cb())]),ub("home <=> signupPatient",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,right:0,width:"100%"})]),lb(":enter",[ab({right:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("1000ms ease-out",ab({right:"100%"}))]),lb(":enter",[ib("1000ms ease-out",ab({right:"0%"}))])]),lb(":enter",cb())]),ub("home <=> signupProfessional",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,right:0,width:"100%"})]),lb(":enter",[ab({right:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("1000ms ease-out",ab({right:"100%"}))]),lb(":enter",[ib("1000ms ease-out",ab({right:"0%"}))])]),lb(":enter",cb())]),ub("home <=> signupAdministrator",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,right:0,width:"100%"})]),lb(":enter",[ab({right:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("1000ms ease-out",ab({right:"100%"}))]),lb(":enter",[ib("1000ms ease-out",ab({right:"0%"}))])]),lb(":enter",cb())]),ub("HomePage <=> AboutPage",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,left:0,width:"100%"})]),lb(":enter",[ab({left:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("300ms ease-out",ab({left:"100%"}))]),lb(":enter",[ib("300ms ease-out",ab({left:"0%"}))])]),lb(":enter",cb())]),ub("* <=> FilterPage",[ab({position:"relative"}),lb(":enter, :leave",[ab({position:"absolute",top:0,left:0,width:"100%"})]),lb(":enter",[ab({left:"-100%"})]),lb(":leave",cb()),sb([lb(":leave",[ib("200ms ease-out",ab({left:"100%"}))]),lb(":enter",[ib("300ms ease-out",ab({left:"0%"}))])]),lb(":enter",cb())])],options:{}};let rS=(()=>{class t{constructor(){this.title="ClinicaOnline"}prepareRoute(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ue({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(t,e){if(1&t&&(Ns(0,"div"),Rs(1,"router-outlet",null,0),Ds()),2&t){const t=Me($e.lFrame.contextLView,2);ks("@routeAnimations",e.prepareRoute(t))}},directives:[wd],styles:[""],data:{animation:[nS]}}),t})(),iS=(()=>{class t{}return t.\u0275mod=fe({type:t,bootstrap:[rS]}),t.\u0275inj=ut({factory:function(e){return new(e||t)},providers:[Sc],imports:[[rl,eS,Um.initializeApp(vu),Bm,rg,tm,em,vy,Ry,Vy]]}),t})();(function(){if(cr)throw new Error("Cannot enable prod mode after platform setup.");ur=!1})(),el().bootstrapModule(iS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);